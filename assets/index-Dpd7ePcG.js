(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function aS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _d={exports:{}},cl={};var wA;function oS(){if(wA)return cl;wA=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var RA;function lS(){return RA||(RA=1,_d.exports=oS()),_d.exports}var nt=lS(),vd={exports:{}},_t={};var CA;function uS(){if(CA)return _t;CA=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function ht(M,K,et){this.props=M,this.context=K,this.refs=J,this.updater=et||Z}ht.prototype.isReactComponent={},ht.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ht.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function At(){}At.prototype=ht.prototype;function dt(M,K,et){this.props=M,this.context=K,this.refs=J,this.updater=et||Z}var zt=dt.prototype=new At;zt.constructor=dt,$(zt,ht.prototype),zt.isPureReactComponent=!0;var Wt=Array.isArray;function Vt(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function b(M,K,et){var rt=et.ref;return{$$typeof:s,type:M,key:K,ref:rt!==void 0?rt:null,props:et}}function N(M,K){return b(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function x(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return K[et]})}var R=/\/+/g;function Kt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):K.toString(36)}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Vt,Vt):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,K,et,rt,pt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var xt=!1;if(M===null)xt=!0;else switch(St){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(M.$$typeof){case s:case t:xt=!0;break;case T:return xt=M._init,H(xt(M._payload),K,et,rt,pt)}}if(xt)return pt=pt(M),xt=rt===""?"."+Kt(M,0):rt,Wt(pt)?(et="",xt!=null&&(et=xt.replace(R,"$&/")+"/"),H(pt,K,et,"",function(es){return es})):pt!=null&&(D(pt)&&(pt=N(pt,et+(pt.key==null||M&&M.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+xt)),K.push(pt)),1;xt=0;var Ce=rt===""?".":rt+":";if(Wt(M))for(var se=0;se<M.length;se++)rt=M[se],St=Ce+Kt(rt,se),xt+=H(rt,K,et,St,pt);else if(se=Q(M),typeof se=="function")for(M=se.call(M),se=0;!(rt=M.next()).done;)rt=rt.value,St=Ce+Kt(rt,se++),xt+=H(rt,K,et,St,pt);else if(St==="object"){if(typeof M.then=="function")return H(re(M),K,et,rt,pt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xt}function tt(M,K,et){if(M==null)return M;var rt=[],pt=0;return H(M,rt,"","",function(St){return K.call(et,St,pt++)}),rt}function ut(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:tt,forEach:function(M,K,et){tt(M,function(){K.apply(this,arguments)},et)},count:function(M){var K=0;return tt(M,function(){K++}),K},toArray:function(M){return tt(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _t.Activity=S,_t.Children=Ht,_t.Component=ht,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=dt,_t.StrictMode=a,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_t.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},_t.cache=function(M){return function(){return M.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(M,K,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=$({},M.props),pt=M.key;if(K!=null)for(St in K.key!==void 0&&(pt=""+K.key),K)!w.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=et;else if(1<St){for(var xt=Array(St),Ce=0;Ce<St;Ce++)xt[Ce]=arguments[Ce+2];rt.children=xt}return b(M.type,pt,rt)},_t.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},_t.createElement=function(M,K,et){var rt,pt={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=K[rt]);var xt=arguments.length-2;if(xt===1)pt.children=et;else if(1<xt){for(var Ce=Array(xt),se=0;se<xt;se++)Ce[se]=arguments[se+2];pt.children=Ce}if(M&&M.defaultProps)for(rt in xt=M.defaultProps,xt)pt[rt]===void 0&&(pt[rt]=xt[rt]);return b(M,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(M){return{$$typeof:p,render:M}},_t.isValidElement=D,_t.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ut}},_t.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},_t.startTransition=function(M){var K=I.T,et={};I.T=et;try{var rt=M(),pt=I.S;pt!==null&&pt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Vt,Lt)}catch(St){Lt(St)}finally{K!==null&&et.types!==null&&(K.types=et.types),I.T=K}},_t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_t.use=function(M){return I.H.use(M)},_t.useActionState=function(M,K,et){return I.H.useActionState(M,K,et)},_t.useCallback=function(M,K){return I.H.useCallback(M,K)},_t.useContext=function(M){return I.H.useContext(M)},_t.useDebugValue=function(){},_t.useDeferredValue=function(M,K){return I.H.useDeferredValue(M,K)},_t.useEffect=function(M,K){return I.H.useEffect(M,K)},_t.useEffectEvent=function(M){return I.H.useEffectEvent(M)},_t.useId=function(){return I.H.useId()},_t.useImperativeHandle=function(M,K,et){return I.H.useImperativeHandle(M,K,et)},_t.useInsertionEffect=function(M,K){return I.H.useInsertionEffect(M,K)},_t.useLayoutEffect=function(M,K){return I.H.useLayoutEffect(M,K)},_t.useMemo=function(M,K){return I.H.useMemo(M,K)},_t.useOptimistic=function(M,K){return I.H.useOptimistic(M,K)},_t.useReducer=function(M,K,et){return I.H.useReducer(M,K,et)},_t.useRef=function(M){return I.H.useRef(M)},_t.useState=function(M){return I.H.useState(M)},_t.useSyncExternalStore=function(M,K,et){return I.H.useSyncExternalStore(M,K,et)},_t.useTransition=function(){return I.H.useTransition()},_t.version="19.2.0",_t}var IA;function cm(){return IA||(IA=1,vd.exports=uS()),vd.exports}var xn=cm();const cS=aS(xn);var Ed={exports:{}},hl={},Td={exports:{}},Sd={};var DA;function hS(){return DA||(DA=1,(function(s){function t(H,tt){var ut=H.length;H.push(tt);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=H[Lt];if(0<l(Ht,tt))H[Lt]=tt,H[ut]=Ht,ut=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ut=H.pop();if(ut!==tt){H[0]=ut;t:for(var Lt=0,Ht=H.length,M=Ht>>>1;Lt<M;){var K=2*(Lt+1)-1,et=H[K],rt=K+1,pt=H[rt];if(0>l(et,ut))rt<Ht&&0>l(pt,et)?(H[Lt]=pt,H[rt]=ut,Lt=rt):(H[Lt]=et,H[K]=ut,Lt=K);else if(rt<Ht&&0>l(pt,ut))H[Lt]=pt,H[rt]=ut,Lt=rt;else break t}}return tt}function l(H,tt){var ut=H.sortIndex-tt.sortIndex;return ut!==0?ut:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,S=null,V=3,Q=!1,Z=!1,$=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function zt(H){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=H)a(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(y)}}function Wt(H){if($=!1,zt(H),!Z)if(i(_)!==null)Z=!0,Vt||(Vt=!0,x());else{var tt=i(y);tt!==null&&re(Wt,tt.startTime-H)}}var Vt=!1,I=-1,w=5,b=-1;function N(){return J?!0:!(s.unstable_now()-b<w)}function D(){if(J=!1,Vt){var H=s.unstable_now();b=H;var tt=!0;try{t:{Z=!1,$&&($=!1,At(I),I=-1),Q=!0;var ut=V;try{e:{for(zt(H),S=i(_);S!==null&&!(S.expirationTime>H&&N());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,V=S.priorityLevel;var Ht=Lt(S.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,zt(H),tt=!0;break e}S===i(_)&&a(_),zt(H)}else a(_);S=i(_)}if(S!==null)tt=!0;else{var M=i(y);M!==null&&re(Wt,M.startTime-H),tt=!1}}break t}finally{S=null,V=ut,Q=!1}tt=void 0}}finally{tt?x():Vt=!1}}}var x;if(typeof dt=="function")x=function(){dt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Kt=R.port2;R.port1.onmessage=D,x=function(){Kt.postMessage(null)}}else x=function(){ht(D,0)};function re(H,tt){I=ht(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(H){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return H()}finally{V=ut}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=V;V=H;try{return tt()}finally{V=ut}},s.unstable_scheduleCallback=function(H,tt,ut){var Lt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:T++,callback:tt,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(H.sortIndex=ut,t(y,H),i(_)===null&&H===i(y)&&($?(At(I),I=-1):$=!0,re(Wt,ut-Lt))):(H.sortIndex=Ht,t(_,H),Z||Q||(Z=!0,Vt||(Vt=!0,x()))),H},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(H){var tt=V;return function(){var ut=V;V=tt;try{return H.apply(this,arguments)}finally{V=ut}}}})(Sd)),Sd}var NA;function fS(){return NA||(NA=1,Td.exports=hS()),Td.exports}var bd={exports:{}},Ge={};var OA;function dS(){if(OA)return Ge;OA=1;var s=cm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Ge.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},Ge.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ge.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ge.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:Q}):T==="script"&&a.d.X(_,{crossOrigin:S,integrity:V,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ge.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ge.requestFormReset=function(_){a.d.r(_)},Ge.unstable_batchedUpdates=function(_,y){return _(y)},Ge.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.2.0",Ge}var VA;function mS(){if(VA)return bd.exports;VA=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),bd.exports=dS(),bd.exports}var MA;function gS(){if(MA)return hl;MA=1;var s=fS(),t=cm(),i=mS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,v=h.child;v;){if(v===r){g=!0,r=h,o=f;break}if(v===o){g=!0,o=h,r=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===r){g=!0,r=f,o=h;break}if(v===o){g=!0,o=f,r=h;break}v=v.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case Wt:return"Suspense";case Vt:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case dt:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Kt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Kt(e(n))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function et(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var rt=M(null),pt=M(null),St=M(null),xt=M(null);function Ce(e,n){switch(et(St,n),et(pt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yy(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),et(rt,e)}function se(){K(rt),K(pt),K(St)}function es(e){e.memoizedState!==null&&et(xt,e);var n=rt.current,r=Xy(n,e.type);n!==r&&(et(pt,e),et(rt,r))}function Qs(e){pt.current===e&&(K(rt),K(pt)),xt.current===e&&(K(xt),al._currentValue=ut)}var Fs,Gs;function Wn(e){if(Fs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",Gs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+Gs}var so=!1;function ns(e,n){if(!e||so)return"";so=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(j){var z=j}Reflect.construct(e,[],G)}else{try{G.call()}catch(j){z=j}e.call(G.prototype)}}else{try{throw Error()}catch(j){z=j}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var C=g.split(`
`),P=v.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var q=`
`+C[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{so=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return Wn("Activity");default:return""}}function oo(e){try{var n="",r=null;do n+=ao(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,rr=s.unstable_cancelCallback,vh=s.unstable_shouldYield,jl=s.unstable_requestPaint,We=s.unstable_now,is=s.unstable_getCurrentPriorityLevel,lo=s.unstable_ImmediatePriority,uo=s.unstable_UserBlockingPriority,sr=s.unstable_NormalPriority,Eh=s.unstable_LowPriority,ql=s.unstable_IdlePriority,Hl=s.log,Ql=s.unstable_setDisableYieldValue,Ln=null,ke=null;function En(e){if(typeof Hl=="function"&&Ql(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:Gl,Fl=Math.log,Ks=Math.LN2;function Gl(e){return e>>>=0,e===0?32:31-(Fl(e)/Ks|0)|0}var $n=256,rs=262144,ye=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?h=ti(o):(g&=v,g!==0?h=ti(g):r||(r=v&~e,r!==0&&(h=ti(r))))):(v=o&~f,v!==0?h=ti(v):g!==0?h=ti(g):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var q=31-he(r),G=1<<q;v[q]=0,C[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}r&=~G}o!==0&&as(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function as(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function ho(e,n){var r=n&-n;return r=(r&42)!==0?1:os(r),(r&(e.suspendedLanes|n))!==0?0:r}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:AA(e.type))}function Pn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var zn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+zn,Me="__reactProps$"+zn,ii="__reactContainer$"+zn,Ys="__reactEvents$"+zn,bh="__reactListeners$"+zn,Xl="__reactHandles$"+zn,Jl="__reactResources$"+zn,ri="__reactMarker$"+zn;function Xs(e){delete e[Ae],delete e[Me],delete e[Ys],delete e[bh],delete e[Xl]}function si(e){var n=e[Ae];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[Ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=nA(e);e!==null;){if(r=e[Ae])return r;e=nA(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[Ae]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ri]=!0}var fo=new Set,mo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function Zl(e){return pe.call(yo,e)?!0:pe.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Js(e,n,r){if(Zl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ar(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function ls(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ar(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var us=/[\n"\\]/g;function en(e){return e.replace(us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,r,o,h,f,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?_o(e,g,xe(n)):r!=null?_o(e,g,xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+xe(v):e.removeAttribute("name")}function Wl(e,n,r,o,h,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function _o(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function or(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function $l(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function lr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(re(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||tu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Eo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&vo(e,f,n[f])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var To=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,ci=null;function cs(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));Zs(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ls(o)}break t;case"textarea":$l(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&or(e,!!r.multiple,n,!1)}}}var ta=!1;function hr(e,n,r){if(ta)return e(n,r);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(cr!==null||ci!==null)&&(Yu(),cr&&(n=cr,e=ci,ci=cr=null,cs(n),e)))for(n=0;n<e.length;n++)cs(e[n])}}function jn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(bn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{hs=!1}var hi=null,So=null,fs=null;function bo(){if(fs)return fs;var e,n=So,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return fs=h.slice(e,1<o?1-o:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function Pe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Pe(Oi),fr=S({},Oi,{view:0,detail:0}),wo=Pe(fr),dr,ea,di,na=S({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(dr=e.screenX-di.screenX,ea=e.screenY-di.screenY):ea=dr=0,di=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Ro=Pe(na),ms=S({},na,{dataTransfer:0}),nu=Pe(ms),iu=S({},fr,{relatedTarget:0}),gs=Pe(iu),Co=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Pe(Co),ia=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),su=Pe(ia),au=S({},Oi,{data:0}),mi=Pe(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function mr(){return cu}var $e=S({},fr,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=Pe($e),fu=S({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Pe(fu),u=S({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=Pe(u),A=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Pe(A),L=S({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),W=S({},Oi,{newState:0,oldState:0}),Et=Pe(W),fe=[9,13,27,32],Bt=bn&&"CompositionEvent"in window,ae=null;bn&&"documentMode"in document&&(ae=document.documentMode);var wn=bn&&"TextEvent"in window&&!ae,gi=bn&&(!Bt||ae&&8<ae&&11>=ae),Hn=" ",Qn=!1;function ps(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function NT(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(Qn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Qn?null:e;default:return null}}function OT(e,n){if(sa)return e==="compositionend"||!Bt&&ps(e,n)?(e=bo(),fs=So=hi=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VT[e.type]:n==="textarea"}function ag(e,n,r,o){cr?ci?ci.push(o):ci=[o]:cr=o,n=ec(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Io=null,Do=null;function MT(e){qy(e,0)}function du(e){var n=hn(e);if(ls(n))return e}function og(e,n){if(e==="change")return n}var lg=!1;if(bn){var wh;if(bn){var Rh="oninput"in document;if(!Rh){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),Rh=typeof ug.oninput=="function"}wh=Rh}else wh=!1;lg=wh&&(!document.documentMode||9<document.documentMode)}function cg(){Io&&(Io.detachEvent("onpropertychange",hg),Do=Io=null)}function hg(e){if(e.propertyName==="value"&&du(Do)){var n=[];ag(n,Do,e,Sn(e)),hr(MT,n)}}function xT(e,n,r){e==="focusin"?(cg(),Io=n,Do=r,Io.attachEvent("onpropertychange",hg)):e==="focusout"&&cg()}function UT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Do)}function LT(e,n){if(e==="click")return du(n)}function kT(e,n){if(e==="input"||e==="change")return du(n)}function PT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:PT;function No(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,n){var r=fg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fg(r)}}function mg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var zT=bn&&"documentMode"in document&&11>=document.documentMode,aa=null,Ih=null,Oo=null,Dh=!1;function pg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dh||aa==null||aa!==ui(o)||(o=aa,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=ec(Ih,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=aa)))}function ys(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var oa={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Nh={},yg={};bn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function As(e){if(Nh[e])return Nh[e];if(!oa[e])return e;var n=oa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in yg)return Nh[e]=n[r];return e}var Ag=As("animationend"),_g=As("animationiteration"),vg=As("animationstart"),BT=As("transitionrun"),jT=As("transitionstart"),qT=As("transitioncancel"),Eg=As("transitionend"),Tg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Fn(e,n){Tg.set(e,n),oi(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],la=0,Vh=0;function gu(){for(var e=la,n=Vh=la=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Sg(r,h,f)}}function pu(e,n,r,o){Rn[la++]=e,Rn[la++]=n,Rn[la++]=r,Rn[la++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,r,o){return pu(e,n,r,o),yu(e)}function _s(e,n){return pu(e,null,null,n),yu(e)}function Sg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function yu(e){if(50<$o)throw $o=0,Hf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function HT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,r,o){return new HT(e,n,r,o)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=mn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")xh(e)&&(g=1);else if(typeof e=="string")g=Y0(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=mn(31,r,n,h),e.elementType=b,e.lanes=f,e;case $:return vs(r.children,h,f,n);case J:g=8,h|=24;break;case ht:return e=mn(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case Wt:return e=mn(13,r,n,h),e.elementType=Wt,e.lanes=f,e;case Vt:return e=mn(19,r,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case At:g=9;break t;case zt:g=11;break t;case I:g=14;break t;case w:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,r,o){return e=mn(7,e,o,n),e.lanes=r,e}function Uh(e,n,r){return e=mn(6,e,null,n),e.lanes=r,e}function wg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,r){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rg=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=Rg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:oo(n)},Rg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ca=[],ha=0,_u=null,Vo=0,In=[],Dn=0,gr=null,pi=1,yi="";function xi(e,n){ca[ha++]=Vo,ca[ha++]=_u,_u=e,Vo=n}function Cg(e,n,r){In[Dn++]=pi,In[Dn++]=yi,In[Dn++]=gr,gr=e;var o=pi;e=yi;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-he(n)+h|r<<h|o,yi=f+e}else pi=1<<f|r<<h|o,yi=e}function kh(e){e.return!==null&&(xi(e,1),Cg(e,1,0))}function Ph(e){for(;e===_u;)_u=ca[--ha],ca[ha]=null,Vo=ca[--ha],ca[ha]=null;for(;e===gr;)gr=In[--Dn],In[Dn]=null,yi=In[--Dn],In[Dn]=null,pi=In[--Dn],In[Dn]=null}function Ig(e,n){In[Dn++]=pi,In[Dn++]=yi,In[Dn++]=gr,pi=n.id,yi=n.overflow,gr=e}var ze=null,te=null,Mt=!1,pr=null,Nn=!1,zh=Error(a(519));function yr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Cn(n,e)),zh}function Dg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Me]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)Rt(el[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Wl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),lr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Gy(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||yr(e,!0)}function Ng(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ze=ze.return}}function fa(e){if(e!==ze)return!1;if(!Mt)return Ng(e),Mt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rd(e.type,e.memoizedProps)),r=!r),r&&te&&yr(e),Ng(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=eA(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=eA(e)}else n===27?(n=te,Or(e.type)?(e=ud,ud=null,te=e):te=n):te=ze?Vn(e.stateNode.nextSibling):null;return!0}function Es(){te=ze=null,Mt=!1}function Bh(){var e=pr;return e!==null&&(on===null?on=e:on.push.apply(on,e),pr=null),e}function Mo(e){pr===null?pr=[e]:pr.push(e)}var jh=M(null),Ts=null,Ui=null;function Ar(e,n,r){et(jh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=jh.current,K(jh)}function qh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Hh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=h;for(var C=0;C<n.length;C++)if(v.context===n[C]){f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),qh(f.return,r,e),o||(g=null);break t}f=v.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),qh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function da(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var v=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(h===xt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Hh(n,e,r,o),n.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){Ts=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Og(Ts,e)}function Eu(e,n){return Ts===null&&Ss(e),Og(e,n)}function Og(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var QT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},FT=s.unstable_scheduleCallback,GT=s.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new QT,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&FT(GT,function(){e.controller.abort()})}var Uo=null,Fh=0,ma=0,ga=null;function KT(e,n){if(Uo===null){var r=Uo=[];Fh=0,ma=Xf(),ga={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Fh++,n.then(Vg,Vg),n}function Vg(){if(--Fh===0&&Uo!==null){ga!==null&&(ga.status="fulfilled");var e=Uo;Uo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function YT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Mg=H.S;H.S=function(e,n){py=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&KT(e,n),Mg!==null&&Mg(e,n)};var bs=M(null);function Gh(){var e=bs.current;return e!==null?e:$t.pooledCache}function Tu(e,n){n===null?et(bs,bs.current):et(bs,n.pool)}function xg(){var e=Gh();return e===null?null:{parent:Ee._currentValue,pool:e}}var pa=Error(a(460)),Kh=Error(a(474)),Su=Error(a(542)),bu={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e}throw Rs=n,pa}}function ws(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Rs=r,pa):r}}var Rs=null;function kg(){if(Rs===null)throw Error(a(459));var e=Rs;return Rs=null,e}function Pg(e){if(e===pa||e===Su)throw Error(a(483))}var ya=null,Lo=0;function wu(e){var n=Lo;return Lo+=1,ya===null&&(ya=[]),Lg(ya,e,n)}function ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zg(e){function n(U,O){if(e){var k=U.deletions;k===null?(U.deletions=[O],U.flags|=16):k.push(O)}}function r(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Mi(U,O),U.index=0,U.sibling=null,U}function f(U,O,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<O?(U.flags|=67108866,O):k):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function v(U,O,k,F){return O===null||O.tag!==6?(O=Uh(k,U.mode,F),O.return=U,O):(O=h(O,k),O.return=U,O)}function C(U,O,k,F){var lt=k.type;return lt===$?q(U,O,k.props.children,F,k.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&ws(lt)===O.type)?(O=h(O,k.props),ko(O,k),O.return=U,O):(O=Au(k.type,k.key,k.props,null,U.mode,F),ko(O,k),O.return=U,O)}function P(U,O,k,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Lh(k,U.mode,F),O.return=U,O):(O=h(O,k.children||[]),O.return=U,O)}function q(U,O,k,F,lt){return O===null||O.tag!==7?(O=vs(k,U.mode,F,lt),O.return=U,O):(O=h(O,k),O.return=U,O)}function G(U,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Uh(""+O,U.mode,k),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return k=Au(O.type,O.key,O.props,null,U.mode,k),ko(k,O),k.return=U,k;case Z:return O=Lh(O,U.mode,k),O.return=U,O;case w:return O=ws(O),G(U,O,k)}if(re(O)||x(O))return O=vs(O,U.mode,k,null),O.return=U,O;if(typeof O.then=="function")return G(U,wu(O),k);if(O.$$typeof===dt)return G(U,Eu(U,O),k);Ru(U,O)}return null}function z(U,O,k,F){var lt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:v(U,O,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return k.key===lt?C(U,O,k,F):null;case Z:return k.key===lt?P(U,O,k,F):null;case w:return k=ws(k),z(U,O,k,F)}if(re(k)||x(k))return lt!==null?null:q(U,O,k,F,null);if(typeof k.then=="function")return z(U,O,wu(k),F);if(k.$$typeof===dt)return z(U,O,Eu(U,k),F);Ru(U,k)}return null}function j(U,O,k,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(k)||null,v(O,U,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return U=U.get(F.key===null?k:F.key)||null,C(O,U,F,lt);case Z:return U=U.get(F.key===null?k:F.key)||null,P(O,U,F,lt);case w:return F=ws(F),j(U,O,k,F,lt)}if(re(F)||x(F))return U=U.get(k)||null,q(O,U,F,lt,null);if(typeof F.then=="function")return j(U,O,k,wu(F),lt);if(F.$$typeof===dt)return j(U,O,k,Eu(O,F),lt);Ru(O,F)}return null}function st(U,O,k,F){for(var lt=null,kt=null,ot=O,bt=O=0,It=null;ot!==null&&bt<k.length;bt++){ot.index>bt?(It=ot,ot=null):It=ot.sibling;var Pt=z(U,ot,k[bt],F);if(Pt===null){ot===null&&(ot=It);break}e&&ot&&Pt.alternate===null&&n(U,ot),O=f(Pt,O,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,ot=It}if(bt===k.length)return r(U,ot),Mt&&xi(U,bt),lt;if(ot===null){for(;bt<k.length;bt++)ot=G(U,k[bt],F),ot!==null&&(O=f(ot,O,bt),kt===null?lt=ot:kt.sibling=ot,kt=ot);return Mt&&xi(U,bt),lt}for(ot=o(ot);bt<k.length;bt++)It=j(ot,U,bt,k[bt],F),It!==null&&(e&&It.alternate!==null&&ot.delete(It.key===null?bt:It.key),O=f(It,O,bt),kt===null?lt=It:kt.sibling=It,kt=It);return e&&ot.forEach(function(Lr){return n(U,Lr)}),Mt&&xi(U,bt),lt}function ft(U,O,k,F){if(k==null)throw Error(a(151));for(var lt=null,kt=null,ot=O,bt=O=0,It=null,Pt=k.next();ot!==null&&!Pt.done;bt++,Pt=k.next()){ot.index>bt?(It=ot,ot=null):It=ot.sibling;var Lr=z(U,ot,Pt.value,F);if(Lr===null){ot===null&&(ot=It);break}e&&ot&&Lr.alternate===null&&n(U,ot),O=f(Lr,O,bt),kt===null?lt=Lr:kt.sibling=Lr,kt=Lr,ot=It}if(Pt.done)return r(U,ot),Mt&&xi(U,bt),lt;if(ot===null){for(;!Pt.done;bt++,Pt=k.next())Pt=G(U,Pt.value,F),Pt!==null&&(O=f(Pt,O,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return Mt&&xi(U,bt),lt}for(ot=o(ot);!Pt.done;bt++,Pt=k.next())Pt=j(ot,U,bt,Pt.value,F),Pt!==null&&(e&&Pt.alternate!==null&&ot.delete(Pt.key===null?bt:Pt.key),O=f(Pt,O,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return e&&ot.forEach(function(sS){return n(U,sS)}),Mt&&xi(U,bt),lt}function Zt(U,O,k,F){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:t:{for(var lt=k.key;O!==null;){if(O.key===lt){if(lt=k.type,lt===$){if(O.tag===7){r(U,O.sibling),F=h(O,k.props.children),F.return=U,U=F;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&ws(lt)===O.type){r(U,O.sibling),F=h(O,k.props),ko(F,k),F.return=U,U=F;break t}r(U,O);break}else n(U,O);O=O.sibling}k.type===$?(F=vs(k.props.children,U.mode,F,k.key),F.return=U,U=F):(F=Au(k.type,k.key,k.props,null,U.mode,F),ko(F,k),F.return=U,U=F)}return g(U);case Z:t:{for(lt=k.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){r(U,O.sibling),F=h(O,k.children||[]),F.return=U,U=F;break t}else{r(U,O);break}else n(U,O);O=O.sibling}F=Lh(k,U.mode,F),F.return=U,U=F}return g(U);case w:return k=ws(k),Zt(U,O,k,F)}if(re(k))return st(U,O,k,F);if(x(k)){if(lt=x(k),typeof lt!="function")throw Error(a(150));return k=lt.call(k),ft(U,O,k,F)}if(typeof k.then=="function")return Zt(U,O,wu(k),F);if(k.$$typeof===dt)return Zt(U,O,Eu(U,k),F);Ru(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(r(U,O.sibling),F=h(O,k),F.return=U,U=F):(r(U,O),F=Uh(k,U.mode,F),F.return=U,U=F),g(U)):r(U,O)}return function(U,O,k,F){try{Lo=0;var lt=Zt(U,O,k,F);return ya=null,lt}catch(ot){if(ot===pa||ot===Su)throw ot;var kt=mn(29,ot,null,U.mode);return kt.lanes=F,kt.return=U,kt}finally{}}}var Cs=zg(!0),Bg=zg(!1),_r=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=yu(e),Sg(e,null,r),n}return pu(e,o,n,r),yu(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function Jh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Zh=!1;function zo(){if(Zh){var e=ga;if(e!==null)throw e}}function Bo(e,n,r,o){Zh=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var C=v,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var q=e.alternate;q!==null&&(q=q.updateQueue,v=q.lastBaseUpdate,v!==g&&(v===null?q.firstBaseUpdate=P:v.next=P,q.lastBaseUpdate=C))}if(f!==null){var G=h.baseState;g=0,q=P=C=null,v=f;do{var z=v.lane&-536870913,j=z!==v.lane;if(j?(Ct&z)===z:(o&z)===z){z!==0&&z===ma&&(Zh=!0),q!==null&&(q=q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var st=e,ft=v;z=n;var Zt=r;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){G=st.call(Zt,G,z);break t}G=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,z=typeof st=="function"?st.call(Zt,G,z):st,z==null)break t;G=S({},G,z);break t;case 2:_r=!0}}z=v.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:v.tag,payload:v.payload,callback:v.callback,next:null},q===null?(P=q=j,C=G):q=q.next=j,g|=z;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;j=v,v=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);q===null&&(C=G),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Rr|=g,e.lanes=g,e.memoizedState=G}}function jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function qg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)jg(r[e],n)}var Aa=M(null),Cu=M(0);function Hg(e,n){e=Fi,et(Cu,e),et(Aa,n),Fi=e|n.baseLanes}function Wh(){et(Cu,Fi),et(Aa,Aa.current)}function $h(){Fi=Cu.current,K(Aa),K(Cu)}var gn=M(null),On=null;function Tr(e){var n=e.alternate;et(de,de.current&1),et(gn,e),On===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(On=e)}function tf(e){et(de,de.current),et(gn,e),On===null&&(On=e)}function Qg(e){e.tag===22?(et(de,de.current),et(gn,e),On===null&&(On=e)):Sr()}function Sr(){et(de,de.current),et(gn,gn.current)}function pn(e){K(gn),On===e&&(On=null),K(de)}var de=M(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||od(r)||ld(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,Tt=null,Xt=null,Te=null,Du=!1,_a=!1,Is=!1,Nu=0,jo=0,va=null,XT=0;function ue(){throw Error(a(321))}function ef(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!dn(e[r],n[r]))return!1;return!0}function nf(e,n,r,o,h,f){return ki=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Cp:Af,Is=!1,f=r(o,h),Is=!1,_a&&(f=Gg(n,r,o,h)),Fg(e),f}function Fg(e){H.H=Qo;var n=Xt!==null&&Xt.next!==null;if(ki=0,Te=Xt=Tt=null,Du=!1,jo=0,va=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&vu(e)&&(Se=!0))}function Gg(e,n,r,o){Tt=e;var h=0;do{if(_a&&(va=null),jo=0,_a=!1,25<=h)throw Error(a(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Ip,f=n(r,o)}while(_a);return f}function JT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function rf(){var e=Nu!==0;return Nu=0,e}function sf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function af(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}ki=0,Te=Xt=Tt=null,_a=!1,jo=Nu=0,va=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function me(){if(Xt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=jo;return jo+=1,va===null&&(va=[]),e=Lg(va,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Cp:Af),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===dt)return Be(e)}throw Error(a(438,String(e)))}function of(e){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ou(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=N;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=me();return lf(n,Xt,e)}function lf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var v=g=null,C=null,P=n,q=!1;do{var G=P.lane&-536870913;if(G!==P.lane?(Ct&G)===G:(ki&G)===G){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),G===ma&&(q=!0);else if((ki&z)===z){P=P.next,z===ma&&(q=!0);continue}else G={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(v=C=G,g=f):C=C.next=G,Tt.lanes|=z,Rr|=z;G=P.action,Is&&r(f,G),f=P.hasEagerState?P.eagerState:r(f,G)}else z={lane:G,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(v=C=z,g=f):C=C.next=z,Tt.lanes|=G,Rr|=G;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=v,!dn(f,e.memoizedState)&&(Se=!0,q&&(r=ga,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Kg(e,n,r){var o=Tt,h=me(),f=Mt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!dn((Xt||h).memoizedState,r);if(g&&(h.memoizedState=r,Se=!0),h=h.queue,ff(Jg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},Xg.bind(null,o,h,r,n),null),$t===null)throw Error(a(349));f||(ki&127)!==0||Yg(o,n,r)}return r}function Yg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Ou(),Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Xg(e,n,r,o){n.value=r,n.getSnapshot=o,Zg(n)&&Wg(e)}function Jg(e,n,r){return r(function(){Zg(n)&&Wg(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!dn(e,r)}catch{return!0}}function Wg(e){var n=_s(e,2);n!==null&&ln(n,e,2)}function cf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Is){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function $g(e,n,r,o){return e.baseState=r,lf(e,Xt,typeof o=="function"?o:Pi)}function ZT(e,n,r,o,h){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,tp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function tp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var v=r(h,o),C=H.S;C!==null&&C(g,v),ep(e,n,v)}catch(P){hf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),ep(e,n,f)}catch(P){hf(e,n,P)}}function ep(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){np(e,n,o)},function(o){return hf(e,n,o)}):np(e,n,r)}function np(e,n,r){n.status="fulfilled",n.value=r,ip(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,tp(e,r)))}function hf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ip(n),n=n.next;while(n!==o)}e.action=null}function ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function rp(e,n){return n}function sp(e,n){if(Mt){var r=$t.formState;if(r!==null){t:{var o=Tt;if(Mt){if(te){e:{for(var h=te,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Vn(h.nextSibling),o=h.data==="F!";break t}}yr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:n},r.queue=o,r=bp.bind(null,Tt,o),o.dispatch=r,o=cf(!1),f=yf.bind(null,Tt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=ZT.bind(null,Tt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function ap(e){var n=me();return op(n,Xt,e)}function op(e,n,r){if(n=lf(e,n,rp)[0],e=Mu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===pa?Su:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,Ea(9,{destroy:void 0},WT.bind(null,h,r),null)),[o,f,e]}function WT(e,n){e.action=n}function lp(e){var n=me(),r=Xt;if(r!==null)return op(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ea(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Ou(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function up(){return me().memoizedState}function xu(e,n,r,o){var h=tn();Tt.flags|=e,h.memoizedState=Ea(1|n,{destroy:void 0},r,o===void 0?null:o)}function Uu(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&ef(o,Xt.memoizedState.deps)?h.memoizedState=Ea(n,f,r,o):(Tt.flags|=e,h.memoizedState=Ea(1|n,f,r,o))}function cp(e,n){xu(8390656,8,e,n)}function ff(e,n){Uu(2048,8,e,n)}function $T(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Ou(),Tt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function hp(e){var n=me().memoizedState;return $T({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function fp(e,n){return Uu(4,2,e,n)}function dp(e,n){return Uu(4,4,e,n)}function mp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gp(e,n,r){r=r!=null?r.concat([e]):null,Uu(4,4,mp.bind(null,n,e),r)}function df(){}function pp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function yp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),Is){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o}function mf(e,n,r){return r===void 0||(ki&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ay(),Tt.lanes|=e,Rr|=e,r)}function Ap(e,n,r,o){return dn(r,n)?r:Aa.current!==null?(e=mf(e,r,o),dn(e,n)||(Se=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=r):(e=Ay(),Tt.lanes|=e,Rr|=e,n)}function _p(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=H.T,v={};H.T=v,yf(e,!1,n,r);try{var C=h(),P=H.S;if(P!==null&&P(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var q=YT(C,o);Ho(e,n,q,_n(e))}else Ho(e,n,o,_n(e))}catch(G){Ho(e,n,{then:function(){},status:"rejected",reason:G},_n())}finally{tt.p=f,g!==null&&v.types!==null&&(g.types=v.types),H.T=g}}function t0(){}function gf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=vp(e).queue;_p(e,h,n,ut,r===null?t0:function(){return Ep(e),r(o)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ep(e){var n=vp(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},_n())}function pf(){return Be(al)}function Tp(){return me().memoizedState}function Sp(){return me().memoizedState}function e0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=vr(r);var o=Er(n,e,r);o!==null&&(ln(o,n,r),Po(o,n,r)),n={cache:Qh()},e.payload=n;return}n=n.return}}function n0(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lu(e)?wp(n,r):(r=Mh(e,n,r,o),r!==null&&(ln(r,e,o),Rp(r,n,o)))}function bp(e,n,r){var o=_n();Ho(e,n,r,o)}function Ho(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))wp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,v=f(g,r);if(h.hasEagerState=!0,h.eagerState=v,dn(v,g))return pu(e,n,h,0),$t===null&&gu(),!1}catch{}finally{}if(r=Mh(e,n,h,o),r!==null)return ln(r,e,o),Rp(r,n,o),!0}return!1}function yf(e,n,r,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=Mh(e,r,o,2),n!==null&&ln(n,e,2)}function Lu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function wp(e,n){_a=Du=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Rp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Qo={readContext:Be,use:Vu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Qo.useEffectEvent=ue;var Cp={readContext:Be,use:Vu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:cp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,xu(4194308,4,mp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Is){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Is){En(!0);try{r(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=n0.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,r=bp.bind(null,Tt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:df,useDeferredValue:function(e,n){var r=tn();return mf(r,e,n)},useTransition:function(){var e=cf(!1);return e=_p.bind(null,Tt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Tt,h=tn();if(Mt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ct&127)!==0||Yg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,cp(Jg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},Xg.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=$t.identifierPrefix;if(Mt){var r=yi,o=pi;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Nu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=XT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:sp,useActionState:sp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yf.bind(null,Tt,!0,r),r.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return tn().memoizedState=e0.bind(null,Tt)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((jt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:Be,use:Vu,useCallback:pp,useContext:Be,useEffect:ff,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:Mu,useRef:up,useState:function(){return Mu(Pi)},useDebugValue:df,useDeferredValue:function(e,n){var r=me();return Ap(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Mu(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Kg,useId:Tp,useHostTransitionStatus:pf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var r=me();return $g(r,Xt,e,n)},useMemoCache:of,useCacheRefresh:Sp};Af.useEffectEvent=hp;var Ip={readContext:Be,use:Vu,useCallback:pp,useContext:Be,useEffect:ff,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:uf,useRef:up,useState:function(){return uf(Pi)},useDebugValue:df,useDeferredValue:function(e,n){var r=me();return Xt===null?mf(r,e,n):Ap(r,Xt.memoizedState,e,n)},useTransition:function(){var e=uf(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Kg,useId:Tp,useHostTransitionStatus:pf,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var r=me();return Xt!==null?$g(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:of,useCacheRefresh:Sp};Ip.useEffectEvent=hp;function _f(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),h=vr(o);h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),h=vr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=vr(r);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,r),n!==null&&(ln(n,e,r),Po(n,e,r))}};function Dp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!No(r,o)||!No(h,f):!0}function Np(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ds(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Op(e){mu(e)}function Vp(e){console.error(e)}function Mp(e){mu(e)}function ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function xp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,r){return r=vr(r),r.tag=3,r.payload={element:null},r.callback=function(){ku(e,n)},r}function Up(e){return e=vr(e),e.tag=3,e}function Lp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){xp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){xp(n,r,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function i0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&da(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return On===null?Xu():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Gf(e,o,h)),!1;case 22:return r.flags|=65536,o===bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Gf(e,o,h)),!1}throw Error(a(435,r.tag))}return Gf(e,o,h),Xu(),!1}if(Mt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(a(422),{cause:o}),Mo(Cn(e,r)))):(o!==zh&&(n=Error(a(423),{cause:o}),Mo(Cn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,r),h=Ef(e.stateNode,o,h),Jh(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,r),Wo===null?Wo=[f]:Wo.push(f),ce!==4&&(ce=2),n===null)return!0;o=Cn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Ef(r.stateNode,o,e),Jh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Up(h),Lp(h,e,r,o),Jh(r,h),!1}r=r.return}while(r!==null);return!1}var Tf=Error(a(461)),Se=!1;function je(e,n,r,o){n.child=e===null?Bg(n,null,r,o):Cs(n,e.child,r,o)}function kp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return Ss(n),o=nf(e,n,r,g,f,h),v=rf(),e!==null&&!Se?(sf(e,n,h),zi(e,n,h)):(Mt&&v&&kh(n),n.flags|=1,je(e,n,o,h),n.child)}function Pp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,zp(e,n,f,o,h)):(e=Au(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:No,r(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function zp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Sf(e,n,r,o,h)}function Bp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return jp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(n,f!==null?f.cachePool:null),f!==null?Hg(n,f):Wh(),Qg(n);else return o=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Tu(n,f.cachePool),Hg(n,f),Sr(),n.memoizedState=null):(e!==null&&Tu(n,null),Wh(),Sr());return je(e,n,h,r),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,r,o,h){var f=Gh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Tu(n,null),Wh(),Qg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function Pu(e,n){return n=Bu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qp(e,n,r){return Cs(n,e.child,null,r),e=Pu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function r0(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Pu(n,o),n.lanes=536870912,Fo(null,e);if(tf(n),(e=te)?(e=tA(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=wg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return Pu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(tf(n),h)if(n.flags&256)n.flags&=-257,n=qp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||da(e,n,r,!1),h=(r&e.childLanes)!==0,Se||h){if(o=$t,o!==null&&(g=ho(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,_s(e,g),ln(o,e,g),Tf;Xu(),n=qp(e,n,r)}else e=f.treeContext,te=Vn(g.nextSibling),ze=n,Mt=!0,pr=null,Nn=!1,e!==null&&Ig(n,e),n=Pu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Sf(e,n,r,o,h){return Ss(n),r=nf(e,n,r,o,void 0,h),o=rf(),e!==null&&!Se?(sf(e,n,h),zi(e,n,h)):(Mt&&o&&kh(n),n.flags|=1,je(e,n,r,h),n.child)}function Hp(e,n,r,o,h,f){return Ss(n),n.updateQueue=null,r=Gg(n,o,r,h),Fg(e),o=rf(),e!==null&&!Se?(sf(e,n,f),zi(e,n,f)):(Mt&&o&&kh(n),n.flags|=1,je(e,n,r,f),n.child)}function Qp(e,n,r,o,h){if(Ss(n),n.stateNode===null){var f=ua,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ua,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(_f(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&vf.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,C=Ds(r,v);f.props=C;var P=f.context,q=r.contextType;g=ua,typeof q=="object"&&q!==null&&(g=Be(q));var G=r.getDerivedStateFromProps;q=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||P!==g)&&Np(n,f,o,g),_r=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,h),zo(),P=n.memoizedState,v||z!==P||_r?(typeof G=="function"&&(_f(n,r,G,o),P=n.memoizedState),(C=_r||Dp(n,r,C,o,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),g=n.memoizedProps,q=Ds(r,g),f.props=q,G=n.pendingProps,z=f.context,P=r.contextType,C=ua,typeof P=="object"&&P!==null&&(C=Be(P)),v=r.getDerivedStateFromProps,(P=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==G||z!==C)&&Np(n,f,o,C),_r=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,h),zo();var j=n.memoizedState;g!==G||z!==j||_r||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof v=="function"&&(_f(n,r,v,o),j=n.memoizedState),(q=_r||Dp(n,r,q,o,z,j,C)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=C,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cs(n,e.child,null,h),n.child=Cs(n,null,r,h)):je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Fp(e,n,r,o){return Es(),n.flags|=256,je(e,n,r,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:xg()}}function Rf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=An),e}function Gp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Tr(n):Sr(),(e=te)?(e=tA(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=wg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw yr(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var v=o.children;return o=o.fallback,h?(Sr(),h=n.mode,v=Bu({mode:"hidden",children:v},h),o=vs(o,h,r,null),v.return=n,o.return=n,v.sibling=o,n.child=v,o=n.child,o.memoizedState=wf(r),o.childLanes=Rf(e,g,r),n.memoizedState=bf,Fo(null,o)):(Tr(n),Cf(n,v))}var C=e.memoizedState;if(C!==null&&(v=C.dehydrated,v!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=If(e,n,r)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),v=o.fallback,h=n.mode,o=Bu({mode:"visible",children:o.children},h),v=vs(v,h,r,null),v.flags|=2,o.return=n,v.return=n,o.sibling=v,n.child=o,Cs(n,e.child,null,r),o=n.child,o.memoizedState=wf(r),o.childLanes=Rf(e,g,r),n.memoizedState=bf,n=Fo(null,o));else if(Tr(n),ld(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Mo({value:o,source:null,stack:null}),n=If(e,n,r)}else if(Se||da(e,n,r,!1),g=(r&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(o=ho(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,_s(e,o),ln(g,e,o),Tf;od(v)||Xu(),n=If(e,n,r)}else od(v)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,te=Vn(v.nextSibling),ze=n,Mt=!0,pr=null,Nn=!1,e!==null&&Ig(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return h?(Sr(),v=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?v=Mi(P,v):(v=vs(v,h,r,null),v.flags|=2),v.return=n,o.return=n,o.sibling=v,n.child=o,Fo(null,o),o=n.child,v=e.child.memoizedState,v===null?v=wf(r):(h=v.cachePool,h!==null?(C=Ee._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=xg(),v={baseLanes:v.baseLanes|r,cachePool:h}),o.memoizedState=v,o.childLanes=Rf(e,g,r),n.memoizedState=bf,Fo(e.child,o)):(Tr(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Cf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function If(e,n,r){return Cs(n,e.child,null,r),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qh(e.return,n,r)}function Df(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Yp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,et(de,g),je(e,n,o,r),o=Mt?Vo:0,!v&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,r,n);else if(e.tag===19)Kp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Iu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Df(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Iu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Df(n,!0,r,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(da(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function s0(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),Ar(n,Ee,e.memoizedState.cache),Es();break;case 27:case 5:es(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gp(e,n,r):(Tr(n),e=zi(e,n,r),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(da(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Yp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,Bp(e,n,r,n.pendingProps);case 24:Ar(n,Ee,e.memoizedState.cache)}return zi(e,n,r)}function Xp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Nf(e,r)&&(n.flags&128)===0)return Se=!1,s0(e,n,r);Se=(e.flags&131072)!==0}else Se=!1,Mt&&(n.flags&1048576)!==0&&Cg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ws(n.elementType),n.type=e,typeof e=="function")xh(e)?(o=Ds(e,o),n.tag=1,n=Qp(null,n,e,o,r)):(n.tag=0,n=Sf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===zt){n.tag=11,n=kp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Pp(null,n,e,o,r);break t}}throw n=Kt(e)||e,Error(a(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ds(o,n.pendingProps),Qp(e,n,o,h,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Xh(e,n),Bo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ar(n,Ee,o),o!==f.cache&&Hh(n,[Ee],r,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,o,r);break t}else if(o!==h){h=Cn(Error(a(424)),n),Mo(h),n=Fp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Vn(e.firstChild),ze=n,Mt=!0,pr=null,Nn=!0,r=Bg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Es(),o===h){n=zi(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return zu(e,n),e===null?(r=aA(n.type,null,n.pendingProps,null))?n.memoizedState=r:Mt||(r=n.type,e=n.pendingProps,o=nc(St.current).createElement(r),o[Ae]=n,o[Me]=e,qe(o,r,e),_e(o),n.stateNode=o):n.memoizedState=aA(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return es(n),e===null&&Mt&&(o=n.stateNode=iA(n.type,n.pendingProps,St.current),ze=n,Nn=!0,h=te,Or(n.type)?(ud=h,te=Vn(o.firstChild)):te=h),je(e,n,n.pendingProps.children,r),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=te)&&(o=U0(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,ze=n,te=Vn(o.firstChild),Nn=!1,h=!0):h=!1),h||yr(n)),es(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:g!==null&&rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=nf(e,n,JT,null,null,r),al._currentValue=h),zu(e,n),je(e,n,o,r),n.child;case 6:return e===null&&Mt&&((e=r=te)&&(r=L0(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||yr(n)),null;case 13:return Gp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cs(n,null,o,r):je(e,n,o,r),n.child;case 11:return kp(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ss(n),h=Be(h),o=o(h),n.flags|=1,je(e,n,o,r),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,r);case 15:return zp(e,n,n.type,n.pendingProps,r);case 19:return Yp(e,n,r);case 31:return r0(e,n,r);case 22:return Bp(e,n,r,n.pendingProps);case 24:return Ss(n),o=Be(Ee),e===null?(h=Gh(),h===null&&(h=$t,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Yh(n),Ar(n,Ee,h)):((e.lanes&r)!==0&&(Xh(e,n),Bo(n,null,null,r),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,Ee,o)):(o=f.cache,Ar(n,Ee,o),o!==h.cache&&Hh(n,[Ee],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Of(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw Rs=bu,Kh}else e.flags&=-16777217}function Jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hA(n))if(Ty())e.flags|=8192;else throw Rs=bu,Kh}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,wa|=n)}function Go(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function a0(e,n,r){var o=n.pendingProps;switch(Ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ee(n),Jp(n,f)):(ee(n),Of(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),ee(n),Jp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ee(n),Of(n,h,e,o,r)),null;case 27:if(Qs(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=rt.current,fa(n)?Dg(n):(e=iA(h,o,r),n.stateNode=e,Bi(n))}return ee(n),null;case 5:if(Qs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=rt.current,fa(n))Dg(n);else{var g=nc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ee(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,fa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,r)),e||yr(n,!0)}else e=nc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ju(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&$f(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(K(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Go(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Go(o,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)bg(r,e),r=r.sibling;return et(de,de.current&1|2),Mt&&xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>Gu&&(n.flags|=128,h=!0,Go(o,!1),n.lanes=4194304)}else{if(!h)if(e=Iu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ee(n),null}else 2*We()-o.renderingStartTime>Gu&&r!==536870912&&(n.flags|=128,h=!0,Go(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=de.current,et(de,h?r&1|2:r&1),Mt&&xi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return pn(n),$h(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(bs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function o0(e,n){switch(Ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(de),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return pn(n),$h(),e!==null&&K(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function Zp(e,n){switch(Ph(n),n.tag){case 3:Li(Ee),se();break;case 26:case 27:case 5:Qs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(de);break;case 10:Li(n.type);break;case 22:case 23:pn(n),$h(),e!==null&&K(bs);break;case 24:Li(Ee)}}function Ko(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(v){Gt(n,n.return,v)}}function br(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,h=n;var C=r,P=v;try{P()}catch(q){Gt(h,C,q)}}}o=o.next}while(o!==f)}}catch(q){Gt(n,n.return,q)}}function Wp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{qg(n,r)}catch(o){Gt(e,e.return,o)}}}function $p(e,n,r){r.props=Ds(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Gt(e,n,o)}}function Yo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Gt(e,n,h)}}function Ai(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Gt(e,n,h)}else r.current=null}function ty(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Gt(e,e.return,h)}}function Vf(e,n,r){try{var o=e.stateNode;D0(o,e.type,r,n),o[Me]=n}catch(h){Gt(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Or(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(xf(e,n,r),e=e.sibling;e!==null;)xf(e,n,r),e=e.sibling}function qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(qu(e,n,r),e=e.sibling;e!==null;)qu(e,n,r),e=e.sibling}function ny(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,o,r),n[Ae]=e,n[Me]=r}catch(f){Gt(e,e.return,f)}}var ji=!1,be=!1,Uf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function l0(e,n){if(e=e.containerInfo,nd=uc,e=gg(e),Ch(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,v=-1,C=-1,P=0,q=0,G=e,z=null;e:for(;;){for(var j;G!==r||h!==0&&G.nodeType!==3||(v=g+h),G!==f||o!==0&&G.nodeType!==3||(C=g+o),G.nodeType===3&&(g+=G.nodeValue.length),(j=G.firstChild)!==null;)z=G,G=j;for(;;){if(G===e)break e;if(z===r&&++P===h&&(v=g),z===f&&++q===o&&(C=g),(j=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=j}r=v===-1||C===-1?null:{start:v,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(id={focusedElem:e,selectionRange:r},uc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Ds(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Gt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ad(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function ry(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),o&4&&Ko(5,r);break;case 1:if(Hi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Gt(r,r.return,g)}else{var h=Ds(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(r,r.return,g)}}o&64&&Wp(r),o&512&&Yo(r,r.return);break;case 3:if(Hi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{qg(e,n)}catch(g){Gt(r,r.return,g)}}break;case 27:n===null&&o&4&&ny(r);case 26:case 5:Hi(e,r),n===null&&o&4&&ty(r),o&512&&Yo(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),o&4&&oy(e,r);break;case 13:Hi(e,r),o&4&&ly(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=y0.bind(null,r),k0(e,r))));break;case 22:if(o=r.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||be,h=ji;var f=be;ji=o,(be=n)&&!f?Qi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),ji=h,be=f}break;case 30:break;default:Hi(e,r)}}function sy(e){var n=e.alternate;n!==null&&(e.alternate=null,sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function qi(e,n,r){for(r=r.child;r!==null;)ay(e,n,r),r=r.sibling}function ay(e,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:be||Ai(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||Ai(r,n);var o=oe,h=rn;Or(r.type)&&(oe=r.stateNode,rn=!1),qi(e,n,r),il(r.stateNode),oe=o,rn=h;break;case 5:be||Ai(r,n);case 6:if(o=oe,h=rn,oe=null,qi(e,n,r),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Gt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Gt(r,n,f)}break;case 18:oe!==null&&(rn?(e=oe,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):Wy(oe,r.stateNode));break;case 4:o=oe,h=rn,oe=r.stateNode.containerInfo,rn=!0,qi(e,n,r),oe=o,rn=h;break;case 0:case 11:case 14:case 15:br(2,r,n),be||br(4,r,n),qi(e,n,r);break;case 1:be||(Ai(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&$p(r,n,o)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,qi(e,n,r),be=o;break;default:qi(e,n,r)}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Gt(n,n.return,r)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Gt(n,n.return,r)}}function u0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(a(435,e.tag))}}function Hu(e,n){var r=u0(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=A0.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(Or(v.type)){oe=v.stateNode,rn=!1;break t}break;case 5:oe=v.stateNode,rn=!1;break t;case 3:case 4:oe=v.stateNode.containerInfo,rn=!0;break t}v=v.return}if(oe===null)throw Error(a(160));ay(f,g,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)uy(n,e),n=n.sibling}var Gn=null;function uy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(br(3,e,e.return),Ko(3,e),br(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(be||r===null||Ai(r,r.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Gn;if(sn(n,e),an(e),o&512&&(be||r===null||Ai(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,r),f[Ae]=e,_e(f),o=f;break t;case"link":var g=uA("link","href",h).get(o+(r.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(v,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=uA("meta","content",h).get(o+(r.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(v,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,_e(f),o=f}e.stateNode=o}else cA(h,e.type,e.stateNode);else e.stateNode=lA(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?cA(h,e.type,e.stateNode):lA(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(be||r===null||Ai(r,r.return)),r!==null&&o&4&&Vf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(be||r===null||Ai(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(st){Gt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Gt(e,e.return,st)}}break;case 3:if(sc=null,h=Gn,Gn=ic(n.containerInfo),sn(n,e),Gn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(st){Gt(e,e.return,st)}Uf&&(Uf=!1,cy(e));break;case 4:o=Gn,Gn=ic(e.stateNode.containerInfo),sn(n,e),an(e),Gn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=ji,q=be;if(ji=P||h,be=q||C,sn(n,e),be=q,ji=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||ji||be||Ns(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=C.stateNode;var G=C.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(C,C.return,st)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(st){Gt(C,C.return,st)}}}else if(n.tag===18){if(r===null){C=n;try{var j=C.stateNode;h?$y(j,!0):$y(C.stateNode,!1)}catch(st){Gt(C,C.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Hu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ey(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Mf(e);qu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var v=Mf(e);qu(e,v,g);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Mf(e);xf(e,P,C);break;default:throw Error(a(161))}}catch(q){Gt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ry(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Ns(n);break;case 1:Ai(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&$p(n,n.return,r),Ns(n);break;case 27:il(n.stateNode);case 26:case 5:Ai(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function Qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,r),Ko(4,f);break;case 1:if(Qi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Gt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var v=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)jg(C[h],v)}catch(P){Gt(o,o.return,P)}}r&&g&64&&Wp(f),Yo(f,f.return);break;case 27:ny(f);case 26:case 5:Qi(h,f,r),r&&o===null&&g&4&&ty(f),Yo(f,f.return);break;case 12:Qi(h,f,r);break;case 31:Qi(h,f,r),r&&g&4&&oy(h,f);break;case 13:Qi(h,f,r),r&&g&4&&ly(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,r),Yo(f,f.return);break;case 30:break;default:Qi(h,f,r)}n=n.sibling}}function Lf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xo(r))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Kn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,r,o),n=n.sibling}function hy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,r,o),h&2048&&Ko(9,n);break;case 1:Kn(e,n,r,o);break;case 3:Kn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Kn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Gt(n,n.return,C)}}else Kn(e,n,r,o);break;case 31:Kn(e,n,r,o);break;case 13:Kn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,r,o):Xo(e,n):f._visibility&2?Kn(e,n,r,o):(f._visibility|=2,Ta(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Lf(g,n);break;case 24:Kn(e,n,r,o),h&2048&&kf(n.alternate,n);break;default:Kn(e,n,r,o)}}function Ta(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,v=r,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(f,g,v,C,h),Ko(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Ta(f,g,v,C,h):Xo(f,g):(q._visibility|=2,Ta(f,g,v,C,h)),h&&P&2048&&Lf(g.alternate,g);break;case 24:Ta(f,g,v,C,h),h&&P&2048&&kf(g.alternate,g);break;default:Ta(f,g,v,C,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(r,o),h&2048&&Lf(o.alternate,o);break;case 24:Xo(r,o),h&2048&&kf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var Jo=8192;function Sa(e,n,r){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)fy(e,n,r),e=e.sibling}function fy(e,n,r){switch(e.tag){case 26:Sa(e,n,r),e.flags&Jo&&e.memoizedState!==null&&X0(r,Gn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,r);break;case 3:case 4:var o=Gn;Gn=ic(e.stateNode.containerInfo),Sa(e,n,r),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Sa(e,n,r),Jo=o):Sa(e,n,r));break;default:Sa(e,n,r)}}function dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,gy(o,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&br(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Zo(e);break;default:Zo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,gy(o,e)}dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function gy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:br(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(sy(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var c0={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},h0=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,wt=null,Ct=0,Ft=0,yn=null,wr=!1,ba=!1,Pf=!1,Fi=0,ce=0,Rr=0,Os=0,zf=0,An=0,wa=0,Wo=null,on=null,Bf=!1,Fu=0,py=0,Gu=1/0,Ku=null,Cr=null,De=0,Ir=null,Ra=null,Gi=0,jf=0,qf=null,yy=null,$o=0,Hf=null;function _n(){return(jt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?Xf():Yl()}function Ay(){if(An===0)if((Ct&536870912)===0||Mt){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),An=e}else An=536870912;return e=gn.current,e!==null&&(e.flags|=32),An}function ln(e,n,r){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Dr(e,Ct,An,!1)),ss(e,r),((jt&2)===0||e!==$t)&&(e===$t&&((jt&2)===0&&(Os|=r),ce===4&&Dr(e,Ct,An,!1)),_i(e))}function _y(e,n,r){if((jt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),h=o?m0(e,n):Ff(e,n,!0),f=o;do{if(h===0){ba&&!o&&Dr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!f0(r)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var v=e;h=Wo;var C=v.current.memoizedState.isDehydrated;if(C&&(Ca(v,g).flags|=256),g=Ff(v,g,!1),g!==2){if(Pf&&!C){v.errorRecoveryDisabledLanes|=f,Os|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,An,!wr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Fu+300-We(),10<h)){if(Dr(o,n,An,!wr),ei(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Jy(vy.bind(null,o,r,on,Ku,Bf,n,An,Os,wa,wr,f,"Throttled",-0,0),h);break t}vy(o,r,on,Ku,Bf,n,An,Os,wa,wr,f,null,-0,0)}}break}while(!0);_i(e)}function vy(e,n,r,o,h,f,g,v,C,P,q,G,z,j){if(e.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},fy(n,f,G);var st=(f&62914560)===f?Fu-We():(f&4194048)===f?py-We():0;if(st=J0(G,st),st!==null){Gi=f,e.cancelPendingCommit=st(Iy.bind(null,e,n,f,r,o,h,g,v,C,q,G,null,z,j)),Dr(e,f,g,!P);return}}Iy(e,n,f,r,o,h,g,v,C)}function f0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n,r,o){n&=~zf,n&=~Os,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&as(e,r,n)}function Yu(){return(jt&6)===0?(tl(0),!1):!0}function Qf(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Ui=Ts=null,af(e),ya=null,Lo=0,e=wt;for(;e!==null;)Zp(e.alternate,e),e=e.return;wt=null}}function Ca(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,V0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,Qf(),$t=e,wt=r=Mi(e.current,null),Ct=n,Ft=0,yn=null,wr=!1,ba=kn(e,n),Pf=!1,wa=An=zf=Os=Rr=ce=0,on=Wo=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,gu(),r}function Ey(e,n){Tt=null,H.H=Qo,n===pa||n===Su?(n=kg(),Ft=3):n===Kh?(n=kg(),Ft=4):Ft=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(ce=1,ku(e,Cn(n,e.current)))}function Ty(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?On===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===On:!1}function Sy(){var e=H.H;return H.H=Qo,e===null?Qo:e}function by(){var e=H.A;return H.A=c0,e}function Xu(){ce=4,wr||(Ct&4194048)!==Ct&&gn.current!==null||(ba=!0),(Rr&134217727)===0&&(Os&134217727)===0||$t===null||Dr($t,Ct,An,!1)}function Ff(e,n,r){var o=jt;jt|=2;var h=Sy(),f=by();($t!==e||Ct!==n)&&(Ku=null,Ca(e,n)),n=!1;var g=ce;t:do try{if(Ft!==0&&wt!==null){var v=wt,C=yn;switch(Ft){case 8:Qf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Ft;if(Ft=0,yn=null,Ia(e,v,C,P),r&&ba){g=0;break t}break;default:P=Ft,Ft=0,yn=null,Ia(e,v,C,P)}}d0(),g=ce;break}catch(q){Ey(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ui=Ts=null,jt=o,H.H=h,H.A=f,wt===null&&($t=null,Ct=0,gu()),g}function d0(){for(;wt!==null;)wy(wt)}function m0(e,n){var r=jt;jt|=2;var o=Sy(),h=by();$t!==e||Ct!==n?(Ku=null,Gu=We()+500,Ca(e,n)):ba=kn(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Ia(e,n,f,1);break;case 2:case 9:if(Ug(f)){Ft=0,yn=null,Ry(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),_i(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Ug(f)?(Ft=0,yn=null,Ry(n)):(Ft=0,yn=null,Ia(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var v=wt;if(g?hA(g):v.stateNode.complete){Ft=0,yn=null;var C=v.sibling;if(C!==null)wt=C;else{var P=v.return;P!==null?(wt=P,Ju(P)):wt=null}break e}}Ft=0,yn=null,Ia(e,n,f,5);break;case 6:Ft=0,yn=null,Ia(e,n,f,6);break;case 8:Qf(),ce=6;break t;default:throw Error(a(462))}}g0();break}catch(q){Ey(e,q)}while(!0);return Ui=Ts=null,H.H=o,H.A=h,jt=r,wt!==null?0:($t=null,Ct=0,gu(),ce)}function g0(){for(;wt!==null&&!vh();)wy(wt)}function wy(e){var n=Xp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Ju(e):wt=n}function Ry(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Hp(r,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Hp(r,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:af(n);default:Zp(r,n),n=wt=bg(n,Fi),n=Xp(r,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):wt=n}function Ia(e,n,r,o){Ui=Ts=null,af(n),ya=null,Lo=0;var h=n.return;try{if(i0(e,h,n,r,Ct)){ce=1,ku(e,Cn(r,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ce=1,ku(e,Cn(r,e.current)),wt=null;return}n.flags&32768?(Mt||o===1?e=!0:ba||(Ct&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){Cy(n,wr);return}e=n.return;var r=a0(n.alternate,n,Fi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ce===0&&(ce=5)}function Cy(e,n){do{var r=o0(e.alternate,e);if(r!==null){r.flags&=32767,wt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=r}while(e!==null);ce=6,wt=null}function Iy(e,n,r,o,h,f,g,v,C){e.cancelPendingCommit=null;do Zu();while(De!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vh,Sh(e,r,f,g,v,C),e===$t&&(wt=$t=null,Ct=0),Ra=n,Ir=e,Gi=r,jf=f,qf=h,yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_0(sr,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,g=jt,jt|=4;try{l0(e,n,r)}finally{jt=g,tt.p=h,H.T=o}}De=1,Dy(),Ny(),Oy()}}function Dy(){if(De===1){De=0;var e=Ir,n=Ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{uy(n,e);var f=id,g=gg(e.containerInfo),v=f.focusedElem,C=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&mg(v.ownerDocument.documentElement,v)){if(C!==null&&Ch(v)){var P=C.start,q=C.end;if(q===void 0&&(q=P),"selectionStart"in v)v.selectionStart=P,v.selectionEnd=Math.min(q,v.value.length);else{var G=v.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var j=z.getSelection(),st=v.textContent.length,ft=Math.min(C.start,st),Zt=C.end===void 0?ft:Math.min(C.end,st);!j.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var U=dg(v,ft),O=dg(v,Zt);if(U&&O&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var k=G.createRange();k.setStart(U.node,U.offset),j.removeAllRanges(),ft>Zt?(j.addRange(k),j.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),j.addRange(k))}}}}for(G=[],j=v;j=j.parentNode;)j.nodeType===1&&G.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var F=G[v];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!nd,id=nd=null}finally{jt=h,tt.p=o,H.T=r}}e.current=n,De=2}}function Ny(){if(De===2){De=0;var e=Ir,n=Ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{ry(e,n.alternate,n)}finally{jt=h,tt.p=o,H.T=r}}De=3}}function Oy(){if(De===4||De===3){De=0,jl();var e=Ir,n=Ra,r=Gi,o=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=Ir=null,Vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),Di(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var v=o[g];f(v.value,{componentStack:v.stack})}}finally{H.T=n,tt.p=h}}(Gi&3)!==0&&Zu(),_i(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Hf?$o++:($o=0,Hf=e):$o=0,tl(0)}}function Vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Zu(){return Dy(),Ny(),Oy(),My()}function My(){if(De!==5)return!1;var e=Ir,n=jf;jf=0;var r=Di(Gi),o=H.T,h=tt.p;try{tt.p=32>r?32:r,H.T=null,r=qf,qf=null;var f=Ir,g=Gi;if(De=0,Ra=Ir=null,Gi=0,(jt&6)!==0)throw Error(a(331));var v=jt;if(jt|=4,my(f.current),hy(f,f.current,g,r),jt=v,tl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{tt.p=h,H.T=o,Vy(e,n)}}function xy(e,n,r){n=Cn(r,n),n=Ef(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(ss(e,2),_i(e))}function Gt(e,n,r){if(e.tag===3)xy(e,e,r);else for(;n!==null;){if(n.tag===3){xy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){e=Cn(r,e),r=Up(2),o=Er(n,r,2),o!==null&&(Lp(r,o,n,e),ss(o,2),_i(o));break}}n=n.return}}function Gf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new h0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Pf=!0,h.add(r),e=p0.bind(null,e,n,r),n.then(e,e))}function p0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Ct&r)===r&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>We()-Fu?(jt&2)===0&&Ca(e,0):zf|=r,wa===Ct&&(wa=0)),_i(e)}function Uy(e,n){n===0&&(n=Kl()),e=_s(e,n),e!==null&&(ss(e,n),_i(e))}function y0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Uy(e,r)}function A0(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,r)}function _0(e,n){return Ie(e,n)}var Wu=null,Da=null,Kf=!1,$u=!1,Yf=!1,Nr=0;function _i(e){e!==Da&&e.next===null&&(Da===null?Wu=Da=e:Da=Da.next=e),$u=!0,Kf||(Kf=!0,E0())}function tl(e,n){if(!Yf&&$u){Yf=!0;do for(var r=!1,o=Wu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,zy(o,f))}else f=Ct,f=ei(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||kn(o,f)||(r=!0,zy(o,f));o=o.next}while(r);Yf=!1}}function v0(){Ly()}function Ly(){$u=Kf=!1;var e=0;Nr!==0&&O0()&&(e=Nr);for(var n=We(),r=null,o=Wu;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,r===null?Wu=h:r.next=h,h===null&&(Da=r)):(r=o,(e!==0||(f&3)!==0)&&($u=!0)),o=h}De!==0&&De!==5||tl(e),Nr!==0&&(Nr=0)}function ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),v=1<<g,C=h[g];C===-1?((v&r)===0||(v&o)!==0)&&(h[g]=Th(v,n)):C<=n&&(e.expiredLanes|=v),f&=~v}if(n=$t,r=Ct,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&rr(o),Di(r)){case 2:case 8:r=uo;break;case 32:r=sr;break;case 268435456:r=ql;break;default:r=sr}return o=Py.bind(null,e),r=Ie(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&rr(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Zu()&&e.callbackNode!==r)return null;var o=Ct;return o=ei(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(_y(e,o,n),ky(e,We()),e.callbackNode!=null&&e.callbackNode===r?Py.bind(null,e):null)}function zy(e,n){if(Zu())return null;_y(e,n,!0)}function E0(){M0(function(){(jt&6)!==0?Ie(lo,v0):Ly()})}function Xf(){if(Nr===0){var e=ma;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Nr=e}return Nr}function By(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$s(""+e)}function jy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function T0(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=By((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?By(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var v=new fi("action","action",null,o,h);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var C=g?jy(h,g):new FormData(h);gf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(v.preventDefault(),C=g?jy(h,g):new FormData(h),gf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Jf=0;Jf<Oh.length;Jf++){var Zf=Oh[Jf],S0=Zf.toLowerCase(),b0=Zf[0].toUpperCase()+Zf.slice(1);Fn(S0,"on"+b0)}Fn(Ag,"onAnimationEnd"),Fn(_g,"onAnimationIteration"),Fn(vg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(BT,"onTransitionRun"),Fn(jT,"onTransitionStart"),Fn(qT,"onTransitionCancel"),Fn(Eg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function qy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var v=o[g],C=v.instance,P=v.currentTarget;if(v=v.listener,C!==f&&h.isPropagationStopped())break t;f=v,h.currentTarget=P;try{f(h)}catch(q){mu(q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(v=o[g],C=v.instance,P=v.currentTarget,v=v.listener,C!==f&&h.isPropagationStopped())break t;f=v,h.currentTarget=P;try{f(h)}catch(q){mu(q)}h.currentTarget=null,f=C}}}}function Rt(e,n){var r=n[Ys];r===void 0&&(r=n[Ys]=new Set);var o=e+"__bubble";r.has(o)||(Hy(n,e,2,!1),r.add(o))}function Wf(e,n,r){var o=0;n&&(o|=4),Hy(r,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(r){r!=="selectionchange"&&(w0.has(r)||Wf(r,!1,e),Wf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Wf("selectionchange",!1,n))}}function Hy(e,n,r,o){switch(AA(n)){case 2:var h=$0;break;case 8:h=tS;break;default:h=md}r=h.bind(null,n,r,e),h=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function td(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;v!==null;){if(g=si(v),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}v=v.parentNode}}o=o.return}hr(function(){var P=f,q=Sn(r),G=[];t:{var z=Tg.get(e);if(z!==void 0){var j=fi,st=e;switch(e){case"keypress":if(ds(r)===0)break t;case"keydown":case"keyup":j=hu;break;case"focusin":st="focus",j=gs;break;case"focusout":st="blur",j=gs;break;case"beforeblur":case"afterblur":j=gs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Ag:case _g:case vg:j=ru;break;case Eg:j=E;break;case"scroll":case"scrollend":j=wo;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Vi;break;case"toggle":case"beforetoggle":j=Et}var ft=(n&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),U=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=P,k;O!==null;){var F=O;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||U===null||(F=jn(O,U),F!=null&&ft.push(nl(O,F,k))),Zt)break;O=O.return}0<ft.length&&(z=new j(z,st,null,r,q),G.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==To&&(st=r.relatedTarget||r.fromElement)&&(si(st)||st[ii]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(st=r.relatedTarget||r.toElement,j=P,st=st?si(st):null,st!==null&&(Zt=c(st),ft=st.tag,st!==Zt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(j=null,st=P),j!==st)){if(ft=Ro,F="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Vi,F="onPointerLeave",U="onPointerEnter",O="pointer"),Zt=j==null?z:hn(j),k=st==null?z:hn(st),z=new ft(F,O+"leave",j,r,q),z.target=Zt,z.relatedTarget=k,F=null,si(q)===P&&(ft=new ft(U,O+"enter",st,r,q),ft.target=k,ft.relatedTarget=Zt,F=ft),Zt=F,j&&st)e:{for(ft=R0,U=j,O=st,k=0,F=U;F;F=ft(F))k++;F=0;for(var lt=O;lt;lt=ft(lt))F++;for(;0<k-F;)U=ft(U),k--;for(;0<F-k;)O=ft(O),F--;for(;k--;){if(U===O||O!==null&&U===O.alternate){ft=U;break e}U=ft(U),O=ft(O)}ft=null}else ft=null;j!==null&&Qy(G,z,j,ft,!1),st!==null&&Zt!==null&&Qy(G,Zt,st,ft,!0)}}t:{if(z=P?hn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var kt=og;else if(sg(z))if(lg)kt=kT;else{kt=UT;var ot=xT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Ws(P.elementType)&&(kt=og):kt=LT;if(kt&&(kt=kt(e,P))){ag(G,kt,r,q);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&_o(z,"number",z.value)}switch(ot=P?hn(P):window,e){case"focusin":(sg(ot)||ot.contentEditable==="true")&&(aa=ot,Ih=P,Oo=null);break;case"focusout":Oo=Ih=aa=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,pg(G,r,q);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":pg(G,r,q)}var bt;if(Bt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else sa?ps(e,r)&&(It="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(It="onCompositionStart");It&&(gi&&r.locale!=="ko"&&(sa||It!=="onCompositionStart"?It==="onCompositionEnd"&&sa&&(bt=bo()):(hi=q,So="value"in hi?hi.value:hi.textContent,sa=!0)),ot=ec(P,It),0<ot.length&&(It=new mi(It,e,null,r,q),G.push({event:It,listeners:ot}),bt?It.data=bt:(bt=ra(r),bt!==null&&(It.data=bt)))),(bt=wn?NT(e,r):OT(e,r))&&(It=ec(P,"onBeforeInput"),0<It.length&&(ot=new mi("onBeforeInput","beforeinput",null,r,q),G.push({event:ot,listeners:It}),ot.data=bt)),T0(G,e,P,r,q)}qy(G,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ec(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,r),h!=null&&o.unshift(nl(e,h,f)),h=jn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function R0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var v=r,C=v.alternate,P=v.stateNode;if(v=v.tag,C!==null&&C===o)break;v!==5&&v!==26&&v!==27||P===null||(C=P,h?(P=jn(r,f),P!=null&&g.unshift(nl(r,P,C))):h||(P=jn(r,f),P!=null&&g.push(nl(r,P,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var C0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(I0,"")}function Gy(e,n){return n=Fy(n),Fy(e)===n}function Jt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,r,o);break;case"style":Eo(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=$s(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=$s(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=$s(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Js(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Js(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=eu.get(r)||r,Js(e,r,o))}}function ed(e,n,r,o,h,f){switch(r){case"style":Eo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Js(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,r,null)}}h&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var v=f=g=h=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":C=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Jt(e,n,o,q,r,null)}}Wl(e,f,v,C,P,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(v=r[h],v!=null))switch(h){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Jt(e,n,h,v,r,null)}n=f,r=g,e.multiple=!!o,n!=null?or(e,!!o,n,!1):r!=null&&or(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(v=r[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":h=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Jt(e,n,g,v,r,null)}lr(e,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,C,o,r,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Rt(el[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,P,o,r,null)}return;default:if(Ws(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&ed(e,n,q,o,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(o=r[v],o!=null&&Jt(e,n,v,o,r,null))}function D0(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,v=null,C=null,P=null,q=null;for(j in r){var G=r[j];if(r.hasOwnProperty(j)&&G!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=G;default:o.hasOwnProperty(j)||Jt(e,n,j,null,o,G)}}for(var z in o){var j=o[z];if(G=r[z],o.hasOwnProperty(z)&&(j!=null||G!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":v=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==G&&Jt(e,n,z,j,o,G)}}Zs(e,g,v,C,P,q,f,h);return;case"select":j=g=v=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==C&&Jt(e,n,h,f,o,C)}n=v,r=g,o=j,z!=null?or(e,!!r,z,!1):!!o!=!!r&&(n!=null?or(e,!!r,n,!0):or(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Jt(e,n,v,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}$l(e,z,j);return;case"option":for(var st in r)if(z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Jt(e,n,st,null,o,z)}for(C in o)if(z=o[C],j=r[C],o.hasOwnProperty(C)&&z!==j&&(z!=null||j!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,n,C,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Jt(e,n,ft,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,P,z,o,j)}return;default:if(Ws(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&ed(e,n,Zt,void 0,o,z);for(q in o)z=o[q],j=r[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||ed(e,n,q,z,o,j);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Jt(e,n,U,null,o,z);for(G in o)z=o[G],j=r[G],!o.hasOwnProperty(G)||z===j||z==null&&j==null||Jt(e,n,G,z,o,j)}function Ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,v=h.duration;if(f&&v&&Ky(g)){for(g=0,v=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>v)break;var q=C.transferSize,G=C.initiatorType;q&&Ky(G)&&(C=C.responseEnd,g+=q*(C<v?1:(v-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nd=null,id=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function O0(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,V0=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(x0)}:Jy;function x0(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function Wy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")il(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,il(r);for(var f=r.firstChild;f;){var g=f.nextSibling,v=f.nodeName;f[ri]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&il(e.ownerDocument.body);r=h}while(r);Ma(n)}function $y(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ad(r),Xs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function U0(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function L0(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function tA(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function k0(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ud=null;function eA(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function nA(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function iA(e,n,r){switch(n=nc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xs(e)}var Mn=new Map,rA=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=tt.d;tt.d={f:P0,r:z0,D:B0,C:j0,L:q0,m:H0,X:F0,S:Q0,M:G0};function P0(){var e=Ki.f(),n=Yu();return e||n}function z0(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Ep(n):Ki.r(e)}var Na=typeof document>"u"?null:document;function sA(e,n,r){var o=Na;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),rA.has(h)||(rA.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function B0(e){Ki.D(e),sA("dns-prefetch",e,null)}function j0(e,n){Ki.C(e,n),sA("preconnect",e,n)}function q0(e,n,r){Ki.L(e,n,r);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Va(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function H0(e,n){Ki.m(e,n);var r=Na;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),qe(o,"link",e),_e(o),r.head.appendChild(o)}}}function Q0(e,n,r){Ki.S(e,n,r);var o=Na;if(o&&e){var h=ai(o).hoistableStyles,f=Oa(e);n=n||"default";var g=h.get(f);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(rl(f)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&cd(e,r);var C=g=o.createElement("link");_e(C),qe(C,"link",e),C._p=new Promise(function(P,q){C.onload=P,C.onerror=q}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,rc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:v},h.set(f,g)}}}function F0(e,n){Ki.X(e,n);var r=Na;if(r&&e){var o=ai(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&hd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function G0(e,n){Ki.M(e,n);var r=Na;if(r&&e){var o=ai(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&hd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function aA(e,n,r,o){var h=(h=St.current)?ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Oa(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Oa(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||K0(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+en(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function oA(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function K0(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),_e(n),e.head.appendChild(n))}function Va(e){return'[src="'+en(e)+'"]'}function sl(e){return"script[async]"+e}function lA(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),qe(o,"style",h),rc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Oa(r.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=oA(r),(h=Mn.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),qe(f,"link",o),n.state.loading|=4,rc(f,r.precedence,e),n.instance=f;case"script":return f=Va(r.src),(h=e.querySelector(sl(f)))?(n.instance=h,_e(h),h):(o=r,(h=Mn.get(f))&&(o=S({},r),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rc(o,r.precedence,e));return n.instance}function rc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===n)f=v;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sc=null;function uA(e,n,r){if(sc===null){var o=new Map,h=sc=new Map;h.set(r,o)}else h=sc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var v=o.get(g);v?v.push(f):o.set(g,[f])}}return o}function cA(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Y0(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hA(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function X0(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Oa(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=oA(o),(h=Mn.get(h))&&cd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=ac.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var fd=0;function J0(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&fd===0&&(fd=62500*N0());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>fd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(Z0,e),oc=null,ac.call(e))}function Z0(e,n){if(!(n.state.loading&4)){var r=oc.get(e);if(r)var o=r.get(null);else{r=new Map,oc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function W0(e,n,r,o,h,f,g,v,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function fA(e,n,r,o,h,f,g,v,C,P,q,G){return e=new W0(e,n,r,g,C,P,q,G,v),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Yh(f),e}function dA(e){return e?(e=ua,e):ua}function mA(e,n,r,o,h,f){h=dA(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Er(e,o,n),r!==null&&(ln(r,e,n),Po(r,e,n))}function gA(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function dd(e,n){gA(e,n),(e=e.alternate)&&gA(e,n)}function pA(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&ln(n,e,67108864),dd(e,67108864)}}function yA(e){if(e.tag===13||e.tag===31){var n=_n();n=os(n);var r=_s(e,n);r!==null&&ln(r,e,n),dd(e,n)}}var uc=!0;function $0(e,n,r,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,md(e,n,r,o)}finally{tt.p=f,H.T=h}}function tS(e,n,r,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,md(e,n,r,o)}finally{tt.p=f,H.T=h}}function md(e,n,r,o){if(uc){var h=gd(o);if(h===null)td(e,n,o,cc,r),_A(e,o);else if(nS(h,e,n,r,o))o.stopPropagation();else if(_A(e,o),n&4&&-1<eS.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var C=1<<31-he(g);v.entanglements[1]|=C,g&=~C}_i(f),(jt&6)===0&&(Gu=We()+500,tl(0))}}break;case 31:case 13:v=_s(f,2),v!==null&&ln(v,f,2),Yu(),dd(f,2)}if(f=gd(o),f===null&&td(e,n,o,cc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else td(e,n,o,null,r)}}function gd(e){return e=Sn(e),pd(e)}var cc=null;function pd(e){if(cc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function AA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case lo:return 2;case uo:return 8;case sr:case Eh:return 32;case ql:return 268435456;default:return 32}default:return 32}}var yd=!1,Vr=null,Mr=null,xr=null,ol=new Map,ll=new Map,Ur=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _A(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&pA(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function nS(e,n,r,o,h){switch(n){case"focusin":return Vr=ul(Vr,e,n,r,o,h),!0;case"dragenter":return Mr=ul(Mr,e,n,r,o,h),!0;case"mouseover":return xr=ul(xr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,r,o,h)),!0}return!1}function vA(e){var n=si(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){yA(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){yA(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=gd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);To=o,r.target.dispatchEvent(o),To=null}else return n=Tn(r),n!==null&&pA(n),e.blockedOn=r,!1;n.shift()}return!0}function EA(e,n,r){hc(e)&&r.delete(n)}function iS(){yd=!1,Vr!==null&&hc(Vr)&&(Vr=null),Mr!==null&&hc(Mr)&&(Mr=null),xr!==null&&hc(xr)&&(xr=null),ol.forEach(EA),ll.forEach(EA)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iS)))}var dc=null;function TA(e){dc!==e&&(dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ma(e){function n(C){return fc(C,e)}Vr!==null&&fc(Vr,e),Mr!==null&&fc(Mr,e),xr!==null&&fc(xr,e),ol.forEach(n),ll.forEach(n);for(var r=0;r<Ur.length;r++){var o=Ur[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(r=Ur[0],r.blockedOn===null);)vA(r),r.blockedOn===null&&Ur.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Me]||null;if(typeof f=="function")g||TA(r);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)v=g.formAction;else if(pd(h)!==null)continue}else v=g.action;typeof v=="function"?r[o+1]=v:(r.splice(o,3),o-=3),TA(r)}}}function SA(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}mc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=_n();mA(r,o,e,n,null,null)},mc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;mA(e.current,2,null,e,null,null),Yu(),n[ii]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ur.length&&n!==0&&n<Ur[r].priority;r++);Ur.splice(r,0,e),r===0&&vA(e)}};var bA=t.version;if(bA!=="19.2.0")throw Error(a(527,bA,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var rS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Ln=gc.inject(rS),ke=gc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Op,f=Vp,g=Mp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=fA(e,1,!1,null,null,r,o,null,h,f,g,SA),e[ii]=n.current,$f(e),new Ad(n)},hl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Op,g=Vp,v=Mp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=fA(e,1,!0,n,r??null,o,h,C,f,g,v,SA),n.context=dA(null),r=n.current,o=_n(),o=os(o),h=vr(o),h.callback=null,Er(r,h,o),r=o,n.current.lanes=r,ss(n,r),_i(n),e[ii]=n.current,$f(e),new mc(n)},hl.version="19.2.0",hl}var xA;function pS(){if(xA)return Ed.exports;xA=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ed.exports=gS(),Ed.exports}var yS=pS();const AS="/Animadex/assets/bird-BvLi2qlo.png",_S="/Animadex/assets/mammal-CMZoFO2F.png",vS="/Animadex/assets/reptile-1O1k4ai_.png",ES="/Animadex/assets/amphibian-b5hmJM36.png",TS="/Animadex/assets/insect-WxDJ9n0i.png",SS="/Animadex/assets/fish-BrBGDmn4.png",bS="/Animadex/assets/other-BA1xVXi_.png",wS="/Animadex/assets/observation-B6Kpdla1.png",RS="/Animadex/assets/photo-DYzDim8L.png",CS="/Animadex/assets/tracks-THaJaPSN.png",hm=[{id:"bird",label:"Bird",icon:AS,color:"#436b85ff"},{id:"mammal",label:"Mammal",icon:_S,color:"#9e2424ff"},{id:"reptile",label:"Reptile",icon:vS,color:"#1d7970ff"},{id:"amphibian",label:"Amphibian",icon:ES,color:"#569153ff"},{id:"insect",label:"Insect",icon:TS,color:"#798727ff"},{id:"fish",label:"Fish",icon:SS,color:"#113c80ff"},{id:"other",label:"Other",icon:bS,color:"#9e9e9eff"}],fm=[{label:"observation",icon:wS},{label:"photo",icon:RS},{label:"tracks",icon:CS}];function IS({query:s,setQuery:t,categoryFilter:i,setCategoryFilter:a,captureFilter:l,setCaptureFilter:c,openAddForm:d}){return nt.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6 flex flex-wrap gap-3",children:[nt.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"Search names or locations",value:s,onChange:p=>t(p.target.value)}),nt.jsxs("select",{className:"border p-2 rounded",value:i,onChange:p=>a(p.target.value),children:[nt.jsx("option",{value:"",children:"All categories"}),hm.map(p=>nt.jsx("option",{value:p.id,children:p.label},p.id))]}),nt.jsxs("select",{className:"border p-2 rounded",value:l,onChange:p=>c(p.target.value),children:[nt.jsx("option",{value:"",children:"All capture levels"}),fm.map(p=>nt.jsx("option",{value:p.id,children:p.label},p.id))]}),nt.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:d,children:"+ Add"})]})}function DS(s,t=20){let i=s.replace("#","");i.length===8&&(i=i.slice(0,6));const a=parseInt(i,16);let l=(a>>16)-t,c=(a>>8&255)-t,d=(a&255)-t;return l=Math.max(0,l),c=Math.max(0,c),d=Math.max(0,d),`#${((1<<24)+(l<<16)+(c<<8)+d).toString(16).slice(1)}ff`}function NS(s,t=20){let i=s.replace("#","");i.length===8&&(i=i.slice(0,6));const a=parseInt(i,16);let l=Math.min(255,(a>>16)+t),c=Math.min(255,(a>>8&255)+t),d=Math.min(255,(a&255)+t);return`#${((1<<24)+(l<<16)+(c<<8)+d).toString(16).slice(1)}ff`}const OS="/Animadex/assets/uk-D2-lxbMb.png",VS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADoxJREFUeJzt3X+s3XV9x/HX53v5USngHJvBqATjBsxsfxB/TJaNlYKtBSSScJ2bm2QL4k90G/PHtiy7W0I2mclAEJXCFsAtwIU5aUuBsVLcH5I5Z7JIEI0oETYzxSlC+VF6PvuDFgu09Me95xzs+/H4p7nnfO/3+0rT5Dx7z833JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALDva9O8+IoVn3zxE9n/mFHLUUP6kaPksJa+NGlLkxw6zW08v7zhpFfe+4H3/PLLp70DdmXJH//lfcM37jli2jt4XnkwLQ9n1B9Oaw+k92+l5e6M2lfb+vnvTmvUfpO82LIVnz5myHBChizvPb++OfnZpKcl6dlWI1NtEp6nlhw484Ukx017B+xK27TpjiSvn/YOnmd6krb19W3bn0PST5393/R2e1o25Il+W7tp/u5JTRp7ACxbtfplGfW3tbTfS3JUT578iwCA6npenPTZ9MxmJumnzt6dtKvTt1zZ1l1/zzgvPbYAOOGNl65M2ocyyrKkDeO6DgDsM3qOTvqfJ8Of9VNmb8vQz29rrrtlHJda5ADobfkbV7+5p/1Jel6zuOcGgDKGJCdm1E7sJ89+Menn5cbrbmiL+DP0RQuAE954+dHpl13ceztpsc4JAOW1vDZp/5xTZv+tZ3hPW3fNVxbjtAsOgBUrrlz6RHvsL3ofvT/J/ouwCQB4tl9LRv/ZT529IO3RubZmzaaFnGxB780ff9LqX9jcHrujJ+fGiz8AjNv+6flgRku+1E+e/aWFnGivA+CElavfPjOTLyb5xYUMAAD22DFp+fd+6uwH9vYEexEAvS1fufpjSa5IsnRvLwwALMiS9FzQT3nLx/vc3B6/nu/RN8zOXnvACSsv+4etP/IHAKaun5P/uPOq/uqz9+it+N0OgFWrPn7g9x784Q1JfnOPtwEA49PzW3nJ/32ur1p14O5+y24FwNzc3PDo6AVXJVm51+MAgPHpWZV28NV9dnZmdw7frQC4/Y6XXpBkdkHDAIDxanlzHu4X786huwyA5Ssu+6P0nLPwVQDA2LX2rn7KGb+/q8OeMwCWr7zsdb318xZvFQAwfu38fsoZv/JcR+w0AH71lEte1JNrkhyw6LsAgHHaP71d3U8//bCdHbDTADhg8wGXJP3IscwCAMar5eV5fP8Ld/b0DgNg2cpLT+qtv3V8qwCA8etv66tml+/omWcFwOzstQe0tIvGPwoAGLshF+3oJkHPCoDvPvjDc5IcM5FRAMC4vSqHf/+9z3zwaQGwbNnfL2lu8wsA+5j24T47+4LtH3laAAwHbjkryUsmugkAGLfD80g7c/sHngqAZcvm9uvpH5z8JgBg7Hr/8Pa3CX4qANqBL1uZ5IipjAIAxu3IbGonbftiu7cA+u9MYw0AMDFPvdYPSbJq1WcOTc9p09sDAIxfP72fdtohydYAeGTLpjel5QXP/U0AwE+4gzI68ORkawC0lh3eJQgA2Mf0J1/zt/4OwCAAAKCGJwPg+BWrX+FDfwCgjJ/rb5o9YpgZcuy0lwAAE7SlHzsk7ehp7wAAJmjI0UPSBQAAVNJz9JCen5/2DgBgktpRQ5LDpj0DAJiow4Ykh0x7BQAwUYcIAACo55AhydJprwAAJurgIU/7REAAoIAZL/4AUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFDQkGTLtEcAABO1ZUiyadorAICJemhI8qNprwAAJupHAgAA6nlwSMv3pr0CAJioB4bW29envQIAmKivDen97mmvAAAmqOfuIYMAAIBSWu4eRtny5WnvAAAmaL+ZLw8bb3r3t5J8c9pbAICJ+Hr73NXffvJWwD0bpjwGAJiItiHZ9lkArQkAAKhg63/6hyRZMixZG7cEBoB93cNZ2m9MtgbA+vW//WDr7YbpbgIAxqrln9r8/EPJdh8H3Id+1fQWAQBjN8pTr/U/DoBH778lyb1TGQQAjNs3s/THv/T/VABs3Dj3RFo/fzqbAIAx++s2P79l2xfD9s8saY9enuS/Jz4JABin+zJ66IrtH3haAKxf//7H0tvHJrsJABivfn5bv/6x7R8ZnnnIz7zw0E+05K7JjQIAxujOfOenP/XMB58VAPPzb3k8vb0rSZ/ILABgXHpaf1/70qWbn/nEswIgSTbcctbn0/KP498FAIxNb1e1tddt3NFTOwyAJOmP7ve++JAgAPhJdW+29D/Y2ZM7DYCNG3/3B0Prv5Hk8bHMAgDGZXNGw1vbzfPf39kBOw2AJPnXm87+Ynr7yOLvAgDGp5/b1l9zx3Md8ZwBkCS33XLW3/bkgsUbBQCMT7ukrbvuol0dtcsASJJlx91/bpJrF7wJABijdnVe+6pzdufI3QqAubm50ZLhkbf3tPULGwYAjMm6HNTPbHNzo905eLcCINl6l8DH7jst6X+399sAgMXXP5PvvOj0Nj+/27+4v9+enH7jxrknkn7WCSsv/0HS/3DPBwIAi6rlb7L2ug+3PbyB327/BGC7K/Xbbj7r3CRnJnl4z78fAFgEj6T3d7S18x/a0xf/ZK8C4Em33fyOK3sfvSbJf+3tOQCAvXJXMryu3XjdZXt7gr0OgCTZeMs7v3rwAaPjWtpHkzzrPsMAwKJ6PL39VQ7Kq9u6a76ykBPt0e8A7MiaNe/clOQjx7/hU5fPzAwXp7cVCz0nAPAMPbdnZvTetub6OxfjdAsOgG0+/y/v+nqSlctWXHpqS/vTtLx+sc4NAIV9Icl57cb5dYt50kULgG023nL22iRrl6289KSkfaglJ2aBbzUAQDGj9Nyano+29fMbxnGBRQ+AbTbefPatSW5dfuonXzraPHPGkHZmT44d1/UAYB9wV1q7Nq1f0dbMj/UTeccWANtsWPvu+5NcmOTC5as+/cqM2vL0YXlvfVmSw8d9fQB4HvufpG9Mz4a0vqGtu/6eSV147AGwvQ3r3/mNJN9IsjpJTjzxisP6zGNH9wzH9OQVaaOfaq0dkt4OTvoLJ7mN57fHN4/uTfLQtHfArvSDDvp282+V7bX8MD0/SvJQWvtBMronaV/N/k98rX32sw9Mex4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADsy/4fnvsrs5e+TxsAAAAASUVORK5CYII=",MS="/Animadex/assets/jp-hy7EEbcb.png",xS="/Animadex/assets/location-CnwObzL2.png",wd="/Animadex/assets/question-j-jc3eFS.png",US="/Animadex/assets/edit-Cb_IW_6S.png",LS="/Animadex/assets/delete-DCZtocnW.png";function kS({entry:s,onEdit:t,onDelete:i,onAdd:a}){const l=hm.find(T=>T.id===s.category),c=l?.color||"#c91f1fff",d=l?.icon,p=DS(c,30),_=NS(c,30),y=fm.find(T=>T.label===s.capture)?.icon;return nt.jsxs("div",{style:{borderRadius:"20px",border:"4px solid",borderColor:p,padding:"16px",backgroundColor:c,width:"100%",boxSizing:"border-box",boxShadow:"0 4px 10px rgba(0,0,0,0.15)",margin:"0 auto 32px",display:"flex",flexDirection:"column"},children:[nt.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",borderRadius:"12px",backgroundColor:_},children:[nt.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",marginLeft:"10px"},children:s.latin}),nt.jsx("img",{src:d||wd,width:32,height:32,style:{borderRadius:"6px",marginRight:"10px"}})]}),nt.jsxs("div",{style:{position:"relative",width:"100%",aspectRatio:"1 / 1",overflow:"hidden",borderRadius:"12px",marginBottom:"12px"},children:[nt.jsx("img",{src:s.image||wd,style:{width:"100%",height:"100%",objectFit:"cover"}}),nt.jsx("img",{src:y||wd,width:40,height:40,style:{position:"absolute",bottom:"8px",right:"8px",background:"rgba(255,255,255,0.85)",padding:"4px",borderRadius:"6px",boxShadow:"0 2px 6px rgba(0,0,0,0.25)"}})]}),nt.jsxs("div",{style:{backgroundColor:_,borderRadius:"10px",padding:"8px 12px",marginBottom:"12px",display:"flex",flexDirection:"column",gap:"4px",fontSize:"14px"},children:[nt.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[nt.jsx("img",{src:OS,width:20,height:20,style:{marginRight:"8px"}}),nt.jsx("span",{children:s.english})]}),nt.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[nt.jsx("img",{src:VS,width:20,height:20,style:{marginRight:"8px"}}),nt.jsx("span",{children:s.french})]}),nt.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[nt.jsx("img",{src:MS,width:20,height:20,style:{marginRight:"8px"}}),nt.jsx("span",{children:s.japanese})]})]}),nt.jsxs("div",{style:{marginTop:"8px",marginBottom:"12px",fontSize:"14px",display:"flex",alignItems:"center",backgroundColor:_,padding:"4px 8px",borderRadius:"8px"},children:[nt.jsx("img",{src:xS,width:18,height:18,style:{marginRight:"8px"}}),nt.jsx("span",{children:s.locations.join(", ")})]}),nt.jsx("div",{style:{marginTop:"10px",padding:"10px",borderRadius:"10px",backgroundColor:p,fontSize:"14px",lineHeight:"1.4"},children:s.notes}),nt.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"16px",justifyContent:"center",paddingTop:"12px"},children:[nt.jsx("button",{onClick:()=>t(s),style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#f7d438",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:nt.jsx("img",{src:US,width:24,height:24,alt:"Edit"})}),nt.jsx("button",{onClick:()=>i(s.id),style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#e63939",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:nt.jsx("img",{src:LS,width:24,height:24,alt:"Delete"})})]})]})}function UA({editing:s,setEditing:t,onSubmit:i,onCancel:a,handleImageUpload:l}){const c=xn.useRef();return nt.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:nt.jsxs("form",{onSubmit:i,className:"bg-white p-6 rounded shadow w-full max-w-xl space-y-3",children:[nt.jsx("h2",{className:"text-xl font-bold",children:s.id?"Edit entry":"Add entry"}),nt.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Scientific name",value:s.latin,onChange:d=>t({...s,latin:d.target.value}),required:!0}),nt.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"English name",value:s.english,onChange:d=>t({...s,english:d.target.value}),required:!0}),nt.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"French name",value:s.french,onChange:d=>t({...s,french:d.target.value}),required:!0}),nt.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Japanese name",value:s.japanese,onChange:d=>t({...s,japanese:d.target.value}),required:!0}),nt.jsx("select",{className:"border p-2 rounded w-full",value:s.category,onChange:d=>t({...s,category:d.target.value}),children:hm.map(d=>nt.jsx("option",{value:d.id,children:d.label},d.id))}),nt.jsx("select",{className:"border p-2 rounded w-full",value:s.capture,onChange:d=>t({...s,capture:d.target.value}),children:fm.map(d=>nt.jsx("option",{value:d.id,children:d.label},d.id))}),nt.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Locations (comma-separated)",value:s.locations.join(", "),onChange:d=>t({...s,locations:d.target.value.split(",").map(p=>p.trim()).filter(p=>p)})}),nt.jsx("input",{type:"date",className:"border p-2 rounded w-full",value:s.date,onChange:d=>t({...s,date:d.target.value})}),nt.jsx("textarea",{className:"border p-2 rounded w-full",placeholder:"Notes",value:s.notes,onChange:d=>t({...s,notes:d.target.value})}),nt.jsx("input",{type:"file",className:"border p-2 rounded w-full",accept:"image/*",ref:c,onChange:d=>l(d.target.files[0])}),nt.jsxs("div",{className:"flex gap-2 pt-2 justify-end",children:[nt.jsx("button",{type:"button",className:"px-3 py-2 bg-gray-300 rounded",onClick:a,children:"Cancel"}),nt.jsx("button",{type:"submit",className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})}const LA=[{id:"1",image:"",latin:"",english:"Great Egret",french:"Grande aigrette",japanese:"",category:"bird",locations:["Hyogo, Rokko"],capture:"photo",date:"2025-11-16",notes:"Seen near the port."}],PS=()=>{};var kA={};const lv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},zS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(V=64)),a.push(i[T],i[S],i[V],i[Q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(lv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):zS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new BS;const V=c<<2|p>>4;if(a.push(V),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class BS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jS=function(s){const t=lv(s);return uv.encodeByteArray(t,!0)},Mc=function(s){return jS(s).replace(/\./g,"")},cv=function(s){try{return uv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HS=()=>qS().__FIREBASE_DEFAULTS__,QS=()=>{if(typeof process>"u"||typeof kA>"u")return;const s=kA.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},FS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cv(s[1]);return t&&JSON.parse(t)},$c=()=>{try{return PS()||HS()||QS()||FS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hv=s=>$c()?.emulatorHosts?.[s],GS=s=>{const t=hv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},fv=()=>$c()?.config,dv=s=>$c()?.[`_${s}`];class KS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Za(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mv(s){return(await fetch(s,{credentials:"include"})).ok}function YS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}const yl={};function XS(){const s={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?s.emulator.push(t):s.prod.push(t);return s}function JS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let PA=!1;function gv(s,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||yl[s]===t||yl[s]||PA)return;yl[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=XS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{PA=!0,d()},V}function T(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=JS(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),ht=i("preprendIcon"),At=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),T(J,$);const zt=y();_(At,ht),dt.append(At,Z,J,zt),document.body.appendChild(dt)}c?(Z.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function WS(){const s=$c()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function e1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n1(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function i1(){return!WS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r1(){try{return typeof indexedDB=="object"}catch{return!1}}function s1(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const a1="FirebaseError";class ir extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=a1,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?o1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,a)}}function o1(s,t){return s.replace(l1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const l1=/\{\$([^}]+)}/g;function u1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ks(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(zA(c)&&zA(d)){if(!ks(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function zA(s){return s!==null&&typeof s=="object"}function Vl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function c1(s,t){const i=new h1(s,t);return i.subscribe.bind(i)}class h1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");f1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Rd(){}function Ze(s){return s&&s._delegate?s._delegate:s}class Ps{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class d1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new KS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(g1(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:m1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m1(s){return s===Vs?void 0:s}function g1(s){return s.instantiationMode==="EAGER"}class p1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new d1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const y1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},A1=Dt.INFO,_1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},v1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=_1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dm{constructor(t){this.name=t,this._logLevel=A1,this._logHandler=v1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?y1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const E1=(s,t)=>t.some(i=>s instanceof i);let BA,jA;function T1(){return BA||(BA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S1(){return jA||(jA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pv=new WeakMap,zd=new WeakMap,yv=new WeakMap,Cd=new WeakMap,mm=new WeakMap;function b1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&pv.set(i,s)}).catch(()=>{}),mm.set(t,s),t}function w1(s){if(zd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});zd.set(s,t)}let Bd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||yv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function R1(s){Bd=s(Bd)}function C1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Id(this),t,...i);return yv.set(a,t.sort?t.sort():[t]),qr(a)}:S1().includes(s)?function(...t){return s.apply(Id(this),t),qr(pv.get(this))}:function(...t){return qr(s.apply(Id(this),t))}}function I1(s){return typeof s=="function"?C1(s):(s instanceof IDBTransaction&&w1(s),E1(s,T1())?new Proxy(s,Bd):s)}function qr(s){if(s instanceof IDBRequest)return b1(s);if(Cd.has(s))return Cd.get(s);const t=I1(s);return t!==s&&(Cd.set(s,t),mm.set(t,s)),t}const Id=s=>mm.get(s);function D1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=qr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qr(d.result),_.oldVersion,_.newVersion,qr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const N1=["get","getKey","getAll","getAllKeys","count"],O1=["put","add","delete","clear"],Dd=new Map;function qA(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=O1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||N1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Dd.set(t,c),c}R1(s=>({...s,get:(t,i,a)=>qA(t,i)||s.get(t,i,a),has:(t,i)=>!!qA(t,i)||s.has(t,i)}));class V1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(M1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function M1(s){return s.getComponent()?.type==="VERSION"}const jd="@firebase/app",HA="0.14.6";const Wi=new dm("@firebase/app"),x1="@firebase/app-compat",U1="@firebase/analytics-compat",L1="@firebase/analytics",k1="@firebase/app-check-compat",P1="@firebase/app-check",z1="@firebase/auth",B1="@firebase/auth-compat",j1="@firebase/database",q1="@firebase/data-connect",H1="@firebase/database-compat",Q1="@firebase/functions",F1="@firebase/functions-compat",G1="@firebase/installations",K1="@firebase/installations-compat",Y1="@firebase/messaging",X1="@firebase/messaging-compat",J1="@firebase/performance",Z1="@firebase/performance-compat",W1="@firebase/remote-config",$1="@firebase/remote-config-compat",tb="@firebase/storage",eb="@firebase/storage-compat",nb="@firebase/firestore",ib="@firebase/ai",rb="@firebase/firestore-compat",sb="firebase",ab="12.6.0";const qd="[DEFAULT]",ob={[jd]:"fire-core",[x1]:"fire-core-compat",[L1]:"fire-analytics",[U1]:"fire-analytics-compat",[P1]:"fire-app-check",[k1]:"fire-app-check-compat",[z1]:"fire-auth",[B1]:"fire-auth-compat",[j1]:"fire-rtdb",[q1]:"fire-data-connect",[H1]:"fire-rtdb-compat",[Q1]:"fire-fn",[F1]:"fire-fn-compat",[G1]:"fire-iid",[K1]:"fire-iid-compat",[Y1]:"fire-fcm",[X1]:"fire-fcm-compat",[J1]:"fire-perf",[Z1]:"fire-perf-compat",[W1]:"fire-rc",[$1]:"fire-rc-compat",[tb]:"fire-gcs",[eb]:"fire-gcs-compat",[nb]:"fire-fst",[rb]:"fire-fst-compat",[ib]:"fire-vertex","fire-js":"fire-js",[sb]:"fire-js-all"};const xc=new Map,lb=new Map,Hd=new Map;function QA(s,t){try{s.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ha(s){const t=s.name;if(Hd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,s);for(const i of xc.values())QA(i,s);for(const i of lb.values())QA(i,s);return!0}function gm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Yn(s){return s==null?!1:s.settings!==void 0}const ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Ol("app","Firebase",ub);class cb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Wa=ab;function Av(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=fv()),!i)throw Hr.create("no-options");const c=xc.get(l);if(c){if(ks(i,c.options)&&ks(a,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new p1(l);for(const _ of Hd.values())d.addComponent(_);const p=new cb(i,a,d);return xc.set(l,p),p}function _v(s=qd){const t=xc.get(s);if(!t&&s===qd&&fv())return Av();if(!t)throw Hr.create("no-app",{appName:s});return t}function Qr(s,t,i){let a=ob[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Ha(new Ps(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const hb="firebase-heartbeat-database",fb=1,Sl="firebase-heartbeat-store";let Nd=null;function vv(){return Nd||(Nd=D1(hb,fb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Sl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hr.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function db(s){try{const i=(await vv()).transaction(Sl),a=await i.objectStore(Sl).get(Ev(s));return await i.done,a}catch(t){if(t instanceof ir)Wi.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function FA(s,t){try{const a=(await vv()).transaction(Sl,"readwrite");await a.objectStore(Sl).put(t,Ev(s)),await a.done}catch(i){if(i instanceof ir)Wi.warn(i.message);else{const a=Hr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function Ev(s){return`${s.name}!${s.options.appId}`}const mb=1024,gb=30;class pb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ab(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=GA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>gb){const l=_b(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=GA(),{heartbeatsToSend:i,unsentEntries:a}=yb(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function GA(){return new Date().toISOString().substring(0,10)}function yb(s,t=mb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),KA(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),KA(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ab{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r1()?s1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await db(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return FA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return FA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function KA(s){return Mc(JSON.stringify({version:2,heartbeats:s})).length}function _b(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function vb(s){Ha(new Ps("platform-logger",t=>new V1(t),"PRIVATE")),Ha(new Ps("heartbeat",t=>new pb(t),"PRIVATE")),Qr(jd,HA,s),Qr(jd,HA,"esm2020"),Qr("fire-js","")}vb("");var YA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,Tv;(function(){var s;function t(I,w){function b(){}b.prototype=w.prototype,I.F=w.prototype,I.prototype=new b,I.prototype.constructor=I,I.D=function(N,D,x){for(var R=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)R[Kt-2]=arguments[Kt];return w.prototype[D].apply(N,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,b){b||(b=0);const N=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)N[D]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(D=0;D<16;++D)N[D]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=I.g[0],b=I.g[1],D=I.g[2];let x=I.g[3],R;R=w+(x^b&(D^x))+N[0]+3614090360&4294967295,w=b+(R<<7&4294967295|R>>>25),R=x+(D^w&(b^D))+N[1]+3905402710&4294967295,x=w+(R<<12&4294967295|R>>>20),R=D+(b^x&(w^b))+N[2]+606105819&4294967295,D=x+(R<<17&4294967295|R>>>15),R=b+(w^D&(x^w))+N[3]+3250441966&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(x^b&(D^x))+N[4]+4118548399&4294967295,w=b+(R<<7&4294967295|R>>>25),R=x+(D^w&(b^D))+N[5]+1200080426&4294967295,x=w+(R<<12&4294967295|R>>>20),R=D+(b^x&(w^b))+N[6]+2821735955&4294967295,D=x+(R<<17&4294967295|R>>>15),R=b+(w^D&(x^w))+N[7]+4249261313&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(x^b&(D^x))+N[8]+1770035416&4294967295,w=b+(R<<7&4294967295|R>>>25),R=x+(D^w&(b^D))+N[9]+2336552879&4294967295,x=w+(R<<12&4294967295|R>>>20),R=D+(b^x&(w^b))+N[10]+4294925233&4294967295,D=x+(R<<17&4294967295|R>>>15),R=b+(w^D&(x^w))+N[11]+2304563134&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(x^b&(D^x))+N[12]+1804603682&4294967295,w=b+(R<<7&4294967295|R>>>25),R=x+(D^w&(b^D))+N[13]+4254626195&4294967295,x=w+(R<<12&4294967295|R>>>20),R=D+(b^x&(w^b))+N[14]+2792965006&4294967295,D=x+(R<<17&4294967295|R>>>15),R=b+(w^D&(x^w))+N[15]+1236535329&4294967295,b=D+(R<<22&4294967295|R>>>10),R=w+(D^x&(b^D))+N[1]+4129170786&4294967295,w=b+(R<<5&4294967295|R>>>27),R=x+(b^D&(w^b))+N[6]+3225465664&4294967295,x=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(x^w))+N[11]+643717713&4294967295,D=x+(R<<14&4294967295|R>>>18),R=b+(x^w&(D^x))+N[0]+3921069994&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(D^x&(b^D))+N[5]+3593408605&4294967295,w=b+(R<<5&4294967295|R>>>27),R=x+(b^D&(w^b))+N[10]+38016083&4294967295,x=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(x^w))+N[15]+3634488961&4294967295,D=x+(R<<14&4294967295|R>>>18),R=b+(x^w&(D^x))+N[4]+3889429448&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(D^x&(b^D))+N[9]+568446438&4294967295,w=b+(R<<5&4294967295|R>>>27),R=x+(b^D&(w^b))+N[14]+3275163606&4294967295,x=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(x^w))+N[3]+4107603335&4294967295,D=x+(R<<14&4294967295|R>>>18),R=b+(x^w&(D^x))+N[8]+1163531501&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(D^x&(b^D))+N[13]+2850285829&4294967295,w=b+(R<<5&4294967295|R>>>27),R=x+(b^D&(w^b))+N[2]+4243563512&4294967295,x=w+(R<<9&4294967295|R>>>23),R=D+(w^b&(x^w))+N[7]+1735328473&4294967295,D=x+(R<<14&4294967295|R>>>18),R=b+(x^w&(D^x))+N[12]+2368359562&4294967295,b=D+(R<<20&4294967295|R>>>12),R=w+(b^D^x)+N[5]+4294588738&4294967295,w=b+(R<<4&4294967295|R>>>28),R=x+(w^b^D)+N[8]+2272392833&4294967295,x=w+(R<<11&4294967295|R>>>21),R=D+(x^w^b)+N[11]+1839030562&4294967295,D=x+(R<<16&4294967295|R>>>16),R=b+(D^x^w)+N[14]+4259657740&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(b^D^x)+N[1]+2763975236&4294967295,w=b+(R<<4&4294967295|R>>>28),R=x+(w^b^D)+N[4]+1272893353&4294967295,x=w+(R<<11&4294967295|R>>>21),R=D+(x^w^b)+N[7]+4139469664&4294967295,D=x+(R<<16&4294967295|R>>>16),R=b+(D^x^w)+N[10]+3200236656&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(b^D^x)+N[13]+681279174&4294967295,w=b+(R<<4&4294967295|R>>>28),R=x+(w^b^D)+N[0]+3936430074&4294967295,x=w+(R<<11&4294967295|R>>>21),R=D+(x^w^b)+N[3]+3572445317&4294967295,D=x+(R<<16&4294967295|R>>>16),R=b+(D^x^w)+N[6]+76029189&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(b^D^x)+N[9]+3654602809&4294967295,w=b+(R<<4&4294967295|R>>>28),R=x+(w^b^D)+N[12]+3873151461&4294967295,x=w+(R<<11&4294967295|R>>>21),R=D+(x^w^b)+N[15]+530742520&4294967295,D=x+(R<<16&4294967295|R>>>16),R=b+(D^x^w)+N[2]+3299628645&4294967295,b=D+(R<<23&4294967295|R>>>9),R=w+(D^(b|~x))+N[0]+4096336452&4294967295,w=b+(R<<6&4294967295|R>>>26),R=x+(b^(w|~D))+N[7]+1126891415&4294967295,x=w+(R<<10&4294967295|R>>>22),R=D+(w^(x|~b))+N[14]+2878612391&4294967295,D=x+(R<<15&4294967295|R>>>17),R=b+(x^(D|~w))+N[5]+4237533241&4294967295,b=D+(R<<21&4294967295|R>>>11),R=w+(D^(b|~x))+N[12]+1700485571&4294967295,w=b+(R<<6&4294967295|R>>>26),R=x+(b^(w|~D))+N[3]+2399980690&4294967295,x=w+(R<<10&4294967295|R>>>22),R=D+(w^(x|~b))+N[10]+4293915773&4294967295,D=x+(R<<15&4294967295|R>>>17),R=b+(x^(D|~w))+N[1]+2240044497&4294967295,b=D+(R<<21&4294967295|R>>>11),R=w+(D^(b|~x))+N[8]+1873313359&4294967295,w=b+(R<<6&4294967295|R>>>26),R=x+(b^(w|~D))+N[15]+4264355552&4294967295,x=w+(R<<10&4294967295|R>>>22),R=D+(w^(x|~b))+N[6]+2734768916&4294967295,D=x+(R<<15&4294967295|R>>>17),R=b+(x^(D|~w))+N[13]+1309151649&4294967295,b=D+(R<<21&4294967295|R>>>11),R=w+(D^(b|~x))+N[4]+4149444226&4294967295,w=b+(R<<6&4294967295|R>>>26),R=x+(b^(w|~D))+N[11]+3174756917&4294967295,x=w+(R<<10&4294967295|R>>>22),R=D+(w^(x|~b))+N[2]+718787259&4294967295,D=x+(R<<15&4294967295|R>>>17),R=b+(x^(D|~w))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+x&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const b=w-this.blockSize,N=this.C;let D=this.h,x=0;for(;x<w;){if(D==0)for(;x<=b;)l(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<w;)if(N[D++]=I.charCodeAt(x++),D==this.blockSize){l(this,N),D=0;break}}else for(;x<w;)if(N[D++]=I[x++],D==this.blockSize){l(this,N),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var b=I.length-8;b<I.length;++b)I[b]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,b=0;b<4;++b)for(let N=0;N<32;N+=8)I[w++]=this.g[b]>>>N&255;return I};function c(I,w){var b=p;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=w(I)}function d(I,w){this.h=w;const b=[];let N=!0;for(let D=I.length-1;D>=0;D--){const x=I[D]|0;N&&x==w||(b[D]=x,N=!1)}this.g=b}var p={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(y(-I));const w=[];let b=1;for(let N=0;I>=b;N++)w[N]=I/b|0,b*=4294967296;return new d(w,0)}function T(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return J(T(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=y(Math.pow(w,8));let N=S;for(let x=0;x<I.length;x+=8){var D=Math.min(8,I.length-x);const R=parseInt(I.substring(x,x+D),w);D<8?(D=y(Math.pow(w,D)),N=N.j(D).add(y(R))):(N=N.j(b),N=N.add(y(R)))}return N}var S=_(0),V=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if($(this))return-J(this).m();let I=0,w=1;for(let b=0;b<this.g.length;b++){const N=this.i(b);I+=(N>=0?N:4294967296+N)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if($(this))return"-"+J(this).toString(I);const w=y(Math.pow(I,6));var b=this;let N="";for(;;){const D=zt(b,w).g;b=ht(b,D.j(w));let x=((b.g.length>0?b.g[0]:b.h)>>>0).toString(I);if(b=D,Z(b))return x+N;for(;x.length<6;)x="0"+x;N=x+N}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function $(I){return I.h==-1}s.l=function(I){return I=ht(this,I),$(I)?-1:Z(I)?0:1};function J(I){const w=I.g.length,b=[];for(let N=0;N<w;N++)b[N]=~I.g[N];return new d(b,~I.h).add(V)}s.abs=function(){return $(this)?J(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),b=[];let N=0;for(let D=0;D<=w;D++){let x=N+(this.i(D)&65535)+(I.i(D)&65535),R=(x>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);N=R>>>16,x&=65535,R&=65535,b[D]=R<<16|x}return new d(b,b[b.length-1]&-2147483648?-1:0)};function ht(I,w){return I.add(J(w))}s.j=function(I){if(Z(this)||Z(I))return S;if($(this))return $(I)?J(this).j(J(I)):J(J(this).j(I));if($(I))return J(this.j(J(I)));if(this.l(Q)<0&&I.l(Q)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,b=[];for(var N=0;N<2*w;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<I.g.length;D++){const x=this.i(N)>>>16,R=this.i(N)&65535,Kt=I.i(D)>>>16,re=I.i(D)&65535;b[2*N+2*D]+=R*re,At(b,2*N+2*D),b[2*N+2*D+1]+=x*re,At(b,2*N+2*D+1),b[2*N+2*D+1]+=R*Kt,At(b,2*N+2*D+1),b[2*N+2*D+2]+=x*Kt,At(b,2*N+2*D+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new d(b,0)};function At(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function dt(I,w){this.g=I,this.h=w}function zt(I,w){if(Z(w))throw Error("division by zero");if(Z(I))return new dt(S,S);if($(I))return w=zt(J(I),w),new dt(J(w.g),J(w.h));if($(w))return w=zt(I,J(w)),new dt(J(w.g),w.h);if(I.g.length>30){if($(I)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var b=V,N=w;N.l(I)<=0;)b=Wt(b),N=Wt(N);var D=Vt(b,1),x=Vt(N,1);for(N=Vt(N,2),b=Vt(b,2);!Z(N);){var R=x.add(N);R.l(I)<=0&&(D=D.add(b),x=R),N=Vt(N,1),b=Vt(b,1)}return w=ht(I,D.j(w)),new dt(D,w)}for(D=S;I.l(w)>=0;){for(b=Math.max(1,Math.floor(I.m()/w.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),x=y(b),R=x.j(w);$(R)||R.l(I)>0;)b-=N,x=y(b),R=x.j(w);Z(x)&&(x=V),D=D.add(x),I=ht(I,R)}return new dt(D,I)}s.B=function(I){return zt(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),b=[];for(let N=0;N<w;N++)b[N]=this.i(N)&I.i(N);return new d(b,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),b=[];for(let N=0;N<w;N++)b[N]=this.i(N)|I.i(N);return new d(b,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),b=[];for(let N=0;N<w;N++)b[N]=this.i(N)^I.i(N);return new d(b,this.h^I.h)};function Wt(I){const w=I.g.length+1,b=[];for(let N=0;N<w;N++)b[N]=I.i(N)<<1|I.i(N-1)>>>31;return new d(b,I.h)}function Vt(I,w){const b=w>>5;w%=32;const N=I.g.length-b,D=[];for(let x=0;x<N;x++)D[x]=w>0?I.i(x+b)>>>w|I.i(x+b+1)<<32-w:I.i(x+b);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Tv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Fr=d}).apply(typeof YA<"u"?YA:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sv,dl,bv,Tc,Qd,wv,Rv,Cv;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var A=u[m];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var A=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in A))break t;A=A[L]}u=u[u.length-1],E=A[u],m=m(E),m!=E&&m!=null&&t(A,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var A=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&A.push([E,m[E]]);return A}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,A){return u.call.apply(u.bind,arguments)}function y(u,m,A){return y=_,y.apply(null,arguments)}function T(u,m){var A=Array.prototype.slice.call(arguments,1);return function(){var E=A.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function S(u,m){function A(){}A.prototype=m.prototype,u.Z=m.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(E,L,B){for(var W=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)W[Et-2]=arguments[Et];return m.prototype[L].apply(E,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const A=Array(m);for(let E=0;E<m;E++)A[E]=u[E];return A}return[]}function Z(u,m){for(let E=1;E<arguments.length;E++){const L=arguments[E];var A=typeof L;if(A=A!="object"?A:L?Array.isArray(L)?"array":A:"null",A=="array"||A=="object"&&typeof L.length=="number"){A=u.length||0;const B=L.length||0;u.length=A+B;for(let W=0;W<B;W++)u[A+W]=L[W]}else u.push(L)}}class ${constructor(m,A){this.i=m,this.j=A,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,A){const E=dt.get();E.set(m,A),this.h?this.h.next=E:this.g=E,this.h=E}}var dt=new $(()=>new zt,u=>u.reset());class zt{constructor(){this.next=this.g=this.h=null}set(m,A){this.h=m,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Vt=!1,I=new At,w=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(b)}};function b(){for(var u;u=ht();){try{u.h.call(u.g)}catch(A){J(A)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};d.addEventListener("test",A,m),d.removeEventListener("test",A,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Kt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Kt,D),Kt.prototype.init=function(u,m){const A=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(A=="mouseover"?m=u.fromElement:A=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Kt.Z.h.call(this)},Kt.prototype.h=function(){Kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(u,m,A,E,L){this.listener=u,this.proxy=null,this.src=m,this.type=A,this.capture=!!E,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,A){for(const E in u)m.call(A,u[E],E,u)}function Ht(u,m){for(const A in u)m.call(void 0,u[A],A,u)}function M(u){const m={};for(const A in u)m[A]=u[A];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let A,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(A in E)u[A]=E[A];for(let B=0;B<K.length;B++)A=K[B],Object.prototype.hasOwnProperty.call(E,A)&&(u[A]=E[A])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,A,E,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=St(u,m,E,L);return W>-1?(m=u[W],A||(m.fa=!1)):(m=new tt(m,this.src,B,!!E,L),m.fa=A,u.push(m)),m};function pt(u,m){const A=m.type;if(A in u.g){var E=u.g[A],L=Array.prototype.indexOf.call(E,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(E,L,1),B&&(ut(m),u.g[A].length==0&&(delete u.g[A],u.h--))}}function St(u,m,A,E){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!A&&B.ha==E)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(u,m,A,E,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],A,E,L);return null}return A=oo(A),u&&u[re]?u.J(m,A,p(E)?!!E.capture:!1,L):es(u,m,A,!1,E,L)}function es(u,m,A,E,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let Et=ns(u);if(Et||(u[xt]=Et=new rt(u)),A=Et.add(m,A,E,W,B),A.proxy)return A;if(E=Qs(),A.proxy=E,E.src=u,E.listener=A,u.addEventListener)x||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),E,L);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Qs(){function u(A){return m.call(u.src,u.listener,A)}const m=so;return u}function Fs(u,m,A,E,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fs(u,m[B],A,E,L);else E=p(E)?!!E.capture:!!E,A=oo(A),u&&u[re]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],A=St(m,A,E,L),A>-1&&(ut(m[A]),Array.prototype.splice.call(m,A,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,A,E,L)),(A=u>-1?m[u]:null)&&Gs(A))}function Gs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])pt(m.i,u);else{var A=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(A,E,u.capture):m.detachEvent?m.detachEvent(Wn(A),E):m.addListener&&m.removeListener&&m.removeListener(E),(A=ns(m))?(pt(A,u),A.h==0&&(A.src=null,m[xt]=null)):ut(u)}}}function Wn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function so(u,m){if(u.da)u=!0;else{m=new Kt(m,this);const A=u.listener,E=u.ha||u.src;u.fa&&Gs(u),u=A.call(E,m)}return u}function ns(u){return u=u[xt],u instanceof rt?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function pe(){N.call(this),this.i=new rt(this),this.M=this,this.G=null}S(pe,N),pe.prototype[re]=!0,pe.prototype.removeEventListener=function(u,m,A,E){Fs(this,u,m,A,E)};function Ie(u,m){var A,E=u.G;if(E)for(A=[];E;E=E.G)A.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(E,u),et(m,L)}L=!0;let B,W;if(A)for(W=A.length-1;W>=0;W--)B=m.g=A[W],L=rr(B,E,!0,m)&&L;if(B=m.g=u,L=rr(B,E,!0,m)&&L,L=rr(B,E,!1,m)&&L,A)for(W=0;W<A.length;W++)B=m.g=A[W],L=rr(B,E,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const A=u.g[m];for(let E=0;E<A.length;E++)ut(A[E]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,A,E){return this.i.add(String(u),m,!1,A,E)},pe.prototype.K=function(u,m,A,E){return this.i.add(String(u),m,!0,A,E)};function rr(u,m,A,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==A){const Et=W.listener,fe=W.ha||W.src;W.fa&&pt(u.i,W),L=Et.call(fe,E)!==!1&&L}}return L&&!E.defaultPrevented}function vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function jl(u){u.g=vh(()=>{u.g=null,u.i&&(u.i=!1,jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends N{constructor(m,A){super(),this.m=m,this.l=A,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){N.call(this),this.h=u,this.g={}}S(is,N);var lo=[];function uo(u){Lt(u.g,function(m,A){this.g.hasOwnProperty(A)&&Gs(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),uo(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,Eh=d.JSON.parse,ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Ql(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){D.call(this,"d")}S(ke,D);function En(){D.call(this,"c")}S(En,D);var he={},Fl=null;function Ks(){return Fl=Fl||new pe}he.Ia="serverreachability";function Gl(u){D.call(this,he.Ia,u)}S(Gl,D);function $n(u){const m=Ks();Ie(m,new Gl(m))}he.STAT_EVENT="statevent";function rs(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}S(rs,D);function ye(u){const m=Ks();Ie(m,new rs(m,u))}he.Ja="timingevent";function ti(u,m){D.call(this,he.Ja,u),this.size=m}S(ti,D);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Th(u,m,A,E,L,B){u.info(function(){if(u.g)if(B){var W="",Et=B.split("&");for(let Bt=0;Bt<Et.length;Bt++){var fe=Et[Bt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const wn=ae.split("_");W=wn.length>=2&&wn[1]=="type"?W+(ae+"="+fe+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+A+`
`+W})}function Kl(u,m,A,E,L,B,W){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+A+`
`+B+" "+W})}function ni(u,m,A,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,A)+(E?" "+E:"")})}function ss(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var A=B[u];if(!(A.length<2)){var E=A[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<E.length;W++)E[W]=""}}}}return sr(B)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function os(){}S(os,Hl),os.prototype.g=function(){return new XMLHttpRequest},ho=new os;function Di(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const A=[];for(;m>0&&u.length;)A.push(u.shift()),m--;return u.length&&A.push(u.join(":")),A}function Pn(u,m,A,E){this.j=u,this.i=m,this.l=A,this.S=E||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Ae={},Me={};function ii(u,m,A){u.M=1,u.A=ls(ve(m)),u.u=A,u.R=!0,Ys(u,null)}function Ys(u,m){u.F=Date.now(),ri(u),u.B=ve(u.A);var A=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Ws(A.i,"t",E),u.C=0,A=u.j.L,u.h=new zn,u.g=uu(u.j,A?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,A=u.g,E=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(lo[0]=L.toString()),L=lo);for(let B=0;B<L.length;B++){const W=se(A,L[B],E||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=qn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||fe==7||(fe==8||Bt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var A=bh(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var B=E;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<A.length;)if(ae=Jl(this,A),ae==Me){Et==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ae){this.m=4,ye(15),ni(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,ae,null),ai(this,ae);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||A.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,A,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(A.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Co(W),W.P=!0,ye(11))}}else ni(this.i,this.l,A,null),ai(this,A);Et==4&&hn(this),this.o&&!this.K&&(Et==4?su(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&A.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),Tn(this)}}}catch{}finally{}};function bh(u){if(!Xl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let A="";const E=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,A+=u.h.i.decode(m[B],{stream:!(L&&B==E-1)});return m.length=0,u.h.g+=A,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jl(u,m){var A=u.C,E=m.indexOf(`
`,A);return E==-1?Me:(A=Number(m.substring(A,E)),isNaN(A)?Ae:(E+=1,E+A>m.length?Me:(m=m.slice(E,E+A),u.C=E+A,m)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&($n(),ye(17)),hn(this),this.m=2,Tn(this)):Xs(this,this.T-u)};function Tn(u){u.j.I==0||u.K||su(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var A=u.j;if(A.I!=0&&(A.g==u||li(A.h,u))){if(!u.L&&li(A.h,u)&&A.I==3){try{var E=A.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ia(A),dr(A);else break t;gs(A),ye(18)}}else A.xa=L[1],0<A.xa-A.K&&L[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=ei(y(A.Va,A),6e3));oi(A.h)<=1&&A.ta&&(A.ta=void 0)}else mi(A,11)}else if((u.L||A.g==u)&&ia(A),!R(m))for(L=A.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const ae=Bt[0];if(!(ae<=A.K))if(A.K=ae,Bt=Bt[1],A.I==2)if(Bt[0]=="c"){A.M=Bt[1],A.ba=Bt[2];const wn=Bt[3];wn!=null&&(A.ka=wn,A.j.info("VER="+A.ka));const gi=Bt[4];gi!=null&&(A.za=gi,A.j.info("SVER="+A.za));const Hn=Bt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(E=1.5*Hn,A.O=E,A.j.info("backChannelRequestTimeoutMs_="+E)),E=A;const Qn=u.g;if(Qn){const ps=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var B=E.h;B.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(E.G){const ra=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(E.wa=ra,Qt(E.J,E.G,ra))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),E=A;var W=u;if(E.na=lu(E,E.L?E.ba:null,E.W),W.L){po(E.h,W);var Et=W,fe=E.O;fe&&(Et.H=fe),Et.D&&(si(Et),ri(Et)),E.g=W}else iu(E);A.i.length>0&&di(A)}else Bt[0]!="stop"&&Bt[0]!="close"||mi(A,7);else A.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?mi(A,7):wo(A):Bt[0]!="noop"&&A.l&&A.l.qa(Bt),A.A=0)}}$n(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const A of u.g.values())m=m.concat(A.G);return m}return Q(u.i)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(u,m){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const E=u[A].indexOf("=");let L,B=null;E>=0?(L=u[A].substring(0,E),B=u[A].substring(E+1)):L=u[A],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,Ao(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Zl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ar(this,m[4]),this.h=ui(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(us(m,Zs,!0),":");var A=this.g;return(A||m=="file")&&(u.push("//"),(m=this.o)&&u.push(us(m,Zs,!0),"@"),u.push(Di(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(us(A,A.charAt(0)=="/"?_o:Wl,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",us(A,$l)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let A=!!u.j;A?xe(m,u.j):A=!!u.o,A?m.o=u.o:A=!!u.g,A?m.g=u.g:A=u.u!=null;var E=u.h;if(A)ar(m,u.u);else if(A=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=m.h.lastIndexOf("/");L!=-1&&(E=m.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Et=L[W++];Et=="."?E&&W==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&W==L.length&&B.push("")):(B.push(Et),E=!0)}E=B.join("/")}else E=L}return A?m.h=E:A=u.i.toString()!=="",A?Ao(m,eu(u.i)):A=!!u.m,A&&(m.m=u.m),m};function ve(u){return new fn(u)}function xe(u,m,A){u.j=A?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,A){m instanceof lr?(u.i=m,$s(u.i,u.l)):(A||(m=us(m,or)),u.i=new lr(m,u.l))}function Qt(u,m,A){u.i.set(m,A)}function ls(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function us(u,m,A){return typeof u=="string"?(u=encodeURI(u).replace(m,en),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,Wl=/[#\?:]/g,_o=/[#\?]/g,or=/[#\?@]/g,$l=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Js(u.i,function(m,A){u.add(decodeURIComponent(m.replace(/\+/g," ")),A)}))}s=lr.prototype,s.add=function(u,m){nn(this),this.i=null,u=ur(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(m),this.h+=1,this};function tu(u,m){nn(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vo(u,m){return nn(u),m=ur(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(A,E){A.forEach(function(L){u.call(m,L,E,this)},this)},this)};function Eo(u,m){nn(u);let A=[];if(typeof m=="string")vo(u,m)&&(A=A.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)A=A.concat(u[m]);return A}s.set=function(u,m){return nn(this),this.i=null,u=ur(this,u),vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Eo(this,u),u.length>0?String(u[0]):m):m};function Ws(u,m,A){tu(u,m),A.length>0&&(u.i=null,u.g.set(ur(u,m),Q(A)),u.h+=A.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var A=m[E];const L=Di(A);A=Eo(this,A);for(let B=0;B<A.length;B++){let W=L;A[B]!==""&&(W+="="+Di(A[B])),u.push(W)}}return this.i=u.join("&")};function eu(u){const m=new lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $s(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(A,E){const L=E.toLowerCase();E!=L&&(tu(this,E),Ws(this,L,A))},u)),u.j=m}function Bn(u,m){const A=new kn;if(d.Image){const E=new Image;E.onload=T(Sn,A,"TestLoadImage: loaded",!0,m,E),E.onerror=T(Sn,A,"TestLoadImage: error",!1,m,E),E.onabort=T(Sn,A,"TestLoadImage: abort",!1,m,E),E.ontimeout=T(Sn,A,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function To(u,m){const A=new kn,E=new AbortController,L=setTimeout(()=>{E.abort(),Sn(A,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Sn(A,"TestPingServer: ok",!0,m):Sn(A,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(A,"TestPingServer: error",!1,m)})}function Sn(u,m,A,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(A)}catch{}}function cr(){this.g=new ql}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Hl),ci.prototype.g=function(){return new cs(this.i,this.h)};function cs(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cs,pe),s=cs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):jn(this),this.readyState==3&&ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},s.Na=function(u){this.g&&(this.response=u,hr(this))},s.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var A=m.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(A,E){m+=E,m+=":",m+=A,m+=`\r
`}),m}function hs(u,m,A){t:{for(E in A){var E=!1;break t}E=!0}E||(A=bn(A),typeof u=="string"?A!=null&&Di(A):Qt(u,m,A))}function Yt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,pe);var hi=/^https?$/i,So=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,A,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fs(this,B);return}if(u=A||"",A=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)A.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())A.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(A.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||E||L||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of A)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fs(this,B)}};function fs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ni(u)}function bo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},s.Xa=function(){ds(this)};function ds(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var A;if(!(A=m)){var E;if(E=B===0){let W=String(u.D).match(Zl)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),E=!hi.test(W?W.toLowerCase():"")}A=E}if(A)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",bo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,m||Ie(u,"ready");try{A.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var A=Yl(u[E]);const L=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const B=m[L]||[];m[L]=B,B.push(A)}Ht(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,A,E){ye(0),this.W=u,this.H=m||{},A&&E!==void 0&&(this.H.OSID=A,this.H.OAID=E),this.F=this.X,this.J=lu(this,null,this.W),di(this)};function wo(u){if(ea(u),u.I==3){var m=u.V++,A=ve(u.J);if(Qt(A,"SID",u.M),Qt(A,"RID",m),Qt(A,"TYPE","terminate"),ms(u,A),m=new Pn(u,u.j,m),m.M=2,m.A=ls(ve(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!A&&d.Image&&(new Image().src=m.A,A=!0),A||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}ou(u)}function dr(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ea(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||w(),Vt||(Wt(),Vt=!0),I.add(m,u),u.D=0}}function na(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,A=0;A<this.i.length;A++){e:{var E=this.i[A];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=A;break t}if(m===4096||A===this.i.length-1){m=A+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),A=ve(this.J),Qt(A,"RID",u),Qt(A,"CVER",22),this.G&&Qt(A,"X-HTTP-Session-Id",this.G),ms(this,A),B&&(this.R?m="headers="+Di(bn(B))+"&"+m:this.u&&hs(A,this.u,B)),go(this.h,L),this.Ra&&Qt(A,"TYPE","init"),this.S?(Qt(A,"$req",m),Qt(A,"SID","null"),L.U=!0,ii(L,A,null)):ii(L,A,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var A;m?A=m.l:A=u.V++;const E=ve(u.J);Qt(E,"SID",u.M),Qt(E,"RID",A),Qt(E,"AID",u.K),ms(u,E),u.u&&u.o&&hs(E,u.u,u.o),A=new Pn(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,A),ii(A,E,m)}function ms(u,m){u.H&&Lt(u.H,function(A,E){Qt(m,E,A)}),u.l&&Lt({},function(A,E){Qt(m,E,A)})}function nu(u,m,A){A=Math.min(u.i.length,A);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const fe=["count="+A];Et==-1?A>0?(Et=L[0].g,fe.push("ofs="+Et)):Et=0:fe.push("ofs="+Et);let Bt=!0;for(let ae=0;ae<A;ae++){var B=L[ae].g;const wn=L[ae].map;if(B-=Et,B<0)Et=Math.max(0,L[ae].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var W=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Hn]of W){let Qn=Hn;p(Hn)&&(Qn=sr(Hn)),fe.push(B+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{E&&E(wn)}}if(Bt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,A),m.G=u,W}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||w(),Vt||(Wt(),Vt=!0),I.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),dr(this),ru(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ru(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),ms(u,m),u.u&&u.o&&hs(m,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=ls(ve(m)),A.u=null,A.R=!0,Ys(A,u)}s.Va=function(){this.C!=null&&(this.C=null,dr(this),gs(this),ye(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function su(u,m){var A=null;if(u.g==m){ia(u),Co(u),u.g=null;var E=2}else if(li(u.h,m))A=m.G,po(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){A=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;E=Ks(),Ie(E,new ti(E,A)),di(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(E==1&&na(u,m)||E==2&&gs(u)))switch(A&&A.length>0&&(m=u.h,m.i=m.i.concat(A)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function au(u,m){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var A=y(u.bb,u),E=u.Ua;const L=!E;E=new fn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(E,"https"),ls(E),L?Bn(E.toString(),A):To(E.toString(),A)}else ye(2);u.I=0,u.l&&u.l.pa(m),ou(u),ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,A){var E=A instanceof fn?ve(A):new fn(A);if(E.g!="")m&&(E.g=m+"."+E.g),ar(E,E.u);else{var L=d.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new fn(null);E&&xe(B,E),m&&(B.g=m),L&&ar(B,L),A&&(B.h=A),E=B}return A=u.G,m=u.wa,A&&m&&Qt(E,A,m),Qt(E,"VER",u.ka),ms(u,E),E}function uu(u,m,A){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ci({ab:A})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}s=cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}S($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){wo(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=sr(u),u=A);m.i.push(new _e(m.Ya++,u)),m.I==3&&di(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,$e.Z.N.call(this)};function hu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const A in m){u=A;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(hu,ke);function fu(){En.call(this),this.status=1}S(fu,En);function Vi(u){this.g=u}S(Vi,cu),Vi.prototype.ra=function(){Ie(this.g,"a")},Vi.prototype.qa=function(u){Ie(this.g,new hu(u))},Vi.prototype.pa=function(u){Ie(this.g,new fu)},Vi.prototype.oa=function(){Ie(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Cv=function(){return new mr},Rv=function(){return Ks()},wv=he,Qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Tc=as,co.COMPLETE="complete",bv=co,Ql.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,dl=Ql,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,Sv=Yt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const XA="@firebase/firestore",JA="4.9.2";class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let $a="12.3.0";const zs=new dm("@firebase/firestore");function xa(){return zs.logLevel}function it(s,...t){if(zs.logLevel<=Dt.DEBUG){const i=t.map(pm);zs.debug(`Firestore (${$a}): ${s}`,...i)}}function $i(s,...t){if(zs.logLevel<=Dt.ERROR){const i=t.map(pm);zs.error(`Firestore (${$a}): ${s}`,...i)}}function Qa(s,...t){if(zs.logLevel<=Dt.WARN){const i=t.map(pm);zs.warn(`Firestore (${$a}): ${s}`,...i)}}function pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function mt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Iv(s,a,i)}function Iv(s,t,i){let a=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function qt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Iv(t,l,a)}function vt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Dv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Eb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class Tb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Sb{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new Dv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class bb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new bb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ZA(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ZA(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Cb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Cb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Nt(s,t){return s<t?-1:s>t?1:0}function Fd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Od(l)===Od(c)?Nt(l,c):Od(l)?1:-1}return Nt(s.length,t.length)}const Ib=55296,Db=57343;function Od(s){const t=s.charCodeAt(0);return t>=Ib&&t<=Db}function Fa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const WA="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class ne extends vi{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const Nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends vi{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return Nb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WA}static keyField(){return new Qe([WA])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ne.fromString(t))}static fromName(t){return new ct(ne.fromString(t).popFirst(5))}static empty(){return new ct(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ne(t.slice()))}}function Nv(s,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Ob(s,t,i,a){if(t===!0&&a===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $A(s){if(!ct.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function t_(s){if(ct.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ov(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Am(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function tr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Am(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ml(s,t){if(!Ov(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const e_=-62135596800,n_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*n_);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<e_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ml(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-e_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ie(0,0))}static max(){return new yt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bl=-1;function Vb(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Kr(l,ct.empty(),t)}function Mb(s){return new Kr(s.readTime,s.key,bl)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(yt.min(),ct.empty(),bl)}static max(){return new Kr(yt.max(),ct.empty(),bl)}}function xb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Nt(s.largestBatchId,t.largestBatchId))}const Ub="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function to(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Ub)throw s;it("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function kb(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(s){return s.name==="IndexedDbTransactionError"}class th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}th.ce=-1;const _m=-1;function eh(s){return s==null}function Uc(s){return s===0&&1/s==-1/0}function Pb(s){return typeof s=="number"&&Number.isInteger(s)&&!Uc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Vv="";function zb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=i_(t)),t=Bb(s.get(i),t);return i_(t)}function Bb(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case Vv:i+="";break;default:i+=c}}return i}function i_(s){return s+Vv+""}function r_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function $r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Mv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new He(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(t){return new s_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class s_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new vn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xv("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=jb.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const Uv="server_timestamp",Lv="__type__",kv="__previous_value__",Pv="__local_write_time__";function vm(s){return(s?.mapValue?.fields||{})[Lv]?.stringValue===Uv}function nh(s){const t=s.mapValue.fields[kv];return vm(t)?nh(t):t}function wl(s){const t=Yr(s.mapValue.fields[Pv].timestampValue);return new ie(t.seconds,t.nanos)}class qb{constructor(t,i,a,l,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const Lc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const zv="__type__",Hb="__max__",Ac={mapValue:{}},Bv="__vector__",kc="value";function Jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vm(s)?4:Fb(s)?9007199254740991:Qb(s)?10:11:mt(28295,{value:s})}function Ri(s,t){if(s===t)return!0;const i=Jr(s);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return wl(s).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),p=Yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Uc(d)===Uc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Fa(s.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(r_(d)!==r_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ri(d[_],p[_])))return!1;return!0})(s,t);default:return mt(52216,{left:s})}}function Cl(s,t){return(s.values||[]).find((i=>Ri(i,t)))!==void 0}function Ga(s,t){if(s===t)return 0;const i=Jr(s),a=Jr(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return a_(s.timestampValue,t.timestampValue);case 4:return a_(wl(s),wl(t));case 5:return Fd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xr(c),_=Xr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Nt(p[y],_[y]);if(T!==0)return T}return Nt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(ge(c.latitude),ge(d.latitude));return p!==0?p:Nt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return o_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[kc]?.arrayValue,T=_[kc]?.arrayValue,S=Nt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:o_(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const V=Fd(_[S],T[S]);if(V!==0)return V;const Q=Ga(p[_[S]],y[T[S]]);if(Q!==0)return Q}return Nt(_.length,T.length)})(s.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function a_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const i=Yr(s),a=Yr(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function o_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ga(i[l],a[l]);if(c)return c}return Nt(i.length,a.length)}function Ka(s){return Gd(s)}function Gd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Gd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Gd(i.fields[d])}`;return l+"}"})(s.mapValue):mt(61005,{value:s})}function Sc(s){switch(Jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(s);return t?16+Sc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Sc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return $r(a.fields,((c,d)=>{l+=c.length+Sc(d)})),l})(s.mapValue);default:throw mt(13486,{value:s})}}function Kd(s){return!!s&&"integerValue"in s}function Em(s){return!!s&&"arrayValue"in s}function l_(s){return!!s&&"nullValue"in s}function u_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function bc(s){return!!s&&"mapValue"in s}function Qb(s){return(s?.mapValue?.fields||{})[zv]?.stringValue===Bv}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return $r(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(s.arrayValue.values[i]);return t}return{...s}}function Fb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Hb}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){$r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new cn(Al(this.value))}}function jv(s){const t=[];return $r(s.fields,((i,a)=>{const l=new Qe([i]);if(bc(a)){const c=jv(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new vn(t)}class Xe{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),cn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),cn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pc{constructor(t,i){this.position=t,this.inclusive=i}}function c_(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Ga(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function h_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],t.position[i]))return!1;return!0}class zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Gb(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class qv{}class Ne extends qv{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Yb(t,i,a):i==="array-contains"?new Zb(t,a):i==="in"?new Wb(t,a):i==="not-in"?new $b(t,a):i==="array-contains-any"?new tw(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Xb(t,a):new Jb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ga(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ga(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends qv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return Hv(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hv(s){return s.op==="and"}function Qv(s){return Kb(s)&&Hv(s)}function Kb(s){for(const t of s.filters)if(t instanceof Ci)return!1;return!0}function Yd(s){if(s instanceof Ne)return s.field.canonicalString()+s.op.toString()+Ka(s.value);if(Qv(s))return s.filters.map((t=>Yd(t))).join(",");{const t=s.filters.map((i=>Yd(i))).join(",");return`${s.op}(${t})`}}function Fv(s,t){return s instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(s,t):s instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&Fv(d,l.filters[p])),!0):!1})(s,t):void mt(19439)}function Gv(s){return s instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(Gv).join(" ,")+"}"})(s):"Filter"}class Yb extends Ne{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Xb extends Ne{constructor(t,i){super(t,"in",i),this.keys=Kv("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Jb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=Kv("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Kv(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class Zb extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Em(i)&&Cl(i.arrayValue,this.value)}}class Wb extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class $b extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class tw extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Em(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class ew{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function f_(s,t=null,i=[],a=[],l=null,c=null,d=null){return new ew(s,t,i,a,l,c,d)}function Tm(s){const t=vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Yd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ka(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ka(a))).join(",")),t.Te=i}return t.Te}function Sm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Gb(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Fv(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!h_(s.startAt,t.startAt)&&h_(s.endAt,t.endAt)}function Xd(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ih{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nw(s,t,i,a,l,c,d,p){return new ih(s,t,i,a,l,c,d,p)}function bm(s){return new ih(s)}function d_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iw(s){return s.collectionGroup!==null}function _l(s){const t=vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new zc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new zc(Qe.keyField(),a))}return t.Ie}function Ei(s){const t=vt(s);return t.Ee||(t.Ee=rw(t,_l(s))),t.Ee}function rw(s,t){if(s.limitType==="F")return f_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zc(l.field,c)}));const i=s.endAt?new Pc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Pc(s.startAt.position,s.startAt.inclusive):null;return f_(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Jd(s,t,i){return new ih(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function rh(s,t){return Sm(Ei(s),Ei(t))&&s.limitType===t.limitType}function Yv(s){return`${Tm(Ei(s))}|lt:${s.limitType}`}function Ua(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Gv(l))).join(", ")}]`),eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ka(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ka(l))).join(",")),`Target(${a})`})(Ei(s))}; limitType=${s.limitType})`}function sh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of _l(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=c_(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,_l(a),l)||a.endAt&&!(function(d,p,_){const y=c_(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,_l(a),l))})(s,t)}function sw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Xv(s){return(t,i)=>{let a=!1;for(const l of _l(s)){const c=aw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function aw(s,t,i){const a=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Ga(_,y):mt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:s.dir})}}class qs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Mv(this.inner)}size(){return this.innerSize}}const ow=new le(ct.comparator);function er(){return ow}const Jv=new le(ct.comparator);function ml(...s){let t=Jv;for(const i of s)t=t.insert(i.key,i);return t}function Zv(s){let t=Jv;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ms(){return vl()}function Wv(){return vl()}function vl(){return new qs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const lw=new le(ct.comparator),uw=new Ve(ct.comparator);function Ot(...s){let t=uw;for(const i of s)t=t.add(i);return t}const cw=new Ve(Nt);function hw(){return cw}function wm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function $v(s){return{integerValue:""+s}}function fw(s,t){return Pb(t)?$v(t):wm(s,t)}class ah{constructor(){this._=void 0}}function dw(s,t,i){return s instanceof Bc?(function(l,c){const d={fields:{[Lv]:{stringValue:Uv},[Pv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vm(c)&&(c=nh(c)),c&&(d.fields[kv]=c),{mapValue:d}})(i,t):s instanceof Il?eE(s,t):s instanceof Dl?nE(s,t):(function(l,c){const d=tE(l,c),p=m_(d)+m_(l.Ae);return Kd(d)&&Kd(l.Ae)?$v(p):wm(l.serializer,p)})(s,t)}function mw(s,t,i){return s instanceof Il?eE(s,t):s instanceof Dl?nE(s,t):i}function tE(s,t){return s instanceof jc?(function(a){return Kd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Bc extends ah{}class Il extends ah{constructor(t){super(),this.elements=t}}function eE(s,t){const i=iE(t);for(const a of s.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Dl extends ah{constructor(t){super(),this.elements=t}}function nE(s,t){let i=iE(t);for(const a of s.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class jc extends ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function m_(s){return ge(s.integerValue||s.doubleValue)}function iE(s){return Em(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof Dl&&l instanceof Dl?Fa(a.elements,l.elements,Ri):a instanceof jc&&l instanceof jc?Ri(a.Ae,l.Ae):a instanceof Bc&&l instanceof Bc})(s.transform,t.transform)}class pw{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class oh{}function rE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Rm(s.key,Jn.none()):new xl(s.key,s.data,Jn.none());{const i=s.data,a=cn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ts(s.key,a,new vn(l.toArray()),Jn.none())}}function yw(s,t,i){s instanceof xl?(function(l,c,d){const p=l.value.clone(),_=p_(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ts?(function(l,c,d){if(!wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=p_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(sE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(s,t,i,a){return s instanceof xl?(function(c,d,p,_){if(!wc(c.precondition,d))return p;const y=c.value.clone(),T=y_(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof ts?(function(c,d,p,_){if(!wc(c.precondition,d))return p;const y=y_(c.fieldTransforms,_,d),T=d.data;return T.setAll(sE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Aw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=tE(a.transform,l||null);c!=null&&(i===null&&(i=cn.empty()),i.set(a.field,c))}return i||null}function g_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Fa(a,l,((c,d)=>gw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class xl extends oh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ts extends oh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function p_(s,t,i){const a=new Map;qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,mw(d,p,i[l]))}return a}function y_(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,dw(c,d,t))}return a}class Rm extends oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&yw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=Wv();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=rE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,a)=>g_(i,a)))&&Fa(this.baseMutations,t.baseMutations,((i,a)=>g_(i,a)))}}class Cm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return lw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Cm(t,i,a,l)}}class Ew{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Ut;function Sw(s){switch(s){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function aE(s){if(s===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(s){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:s})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function bw(){return new TextEncoder}const ww=new Fr([4294967295,4294967295],0);function A_(s){const t=bw().encode(s),i=new Tv;return i.update(t),new Uint8Array(i.digest())}function __(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fr([i,a],0),new Fr([l,c],0)]}class Im{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Fr.fromNumber(a)));return l.compare(ww)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=A_(t),[a,l]=__(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Im(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=A_(t),[a,l]=__(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new lh(yt.min(),l,new le(Nt),er(),Ot())}}class Ul{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ul(a,i,Ot(),Ot(),Ot())}}class Rc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class oE{constructor(t,i){this.targetId=t,this.Ce=i}}class lE{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class v_{constructor(){this.ve=0,this.Fe=E_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new Ul(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=E_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rw{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.Je=_c(),this.He=_c(),this.Ye=new le(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Xd(c))if(a===0){const d=new ct(c.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xr(a).toUint8Array()}catch(_){if(_ instanceof xv)return Qa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Im(d,l,c)}catch(_){return Qa(_ instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Xd(p.target)){const _=new ct(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new lh(t,i,this.Ye,this.je,a);return this.je=er(),this.Je=_c(),this.He=_c(),this.Ye=new le(Nt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new v_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new v_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function _c(){return new le(ct.comparator)}function E_(){return new le(ct.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},Iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dw={and:"AND",or:"OR"};class Nw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(s,t){return s.useProto3Json||eh(t)?t:{value:t}}function qc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Ow(s,t){return qc(s,t.toTimestamp())}function Ti(s){return qt(!!s,49232),yt.fromTimestamp((function(i){const a=Yr(i);return new ie(a.seconds,a.nanos)})(s))}function Dm(s,t){return Wd(s,t).canonicalString()}function Wd(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function cE(s){const t=ne.fromString(s);return qt(gE(t),10190,{key:t.toString()}),t}function $d(s,t){return Dm(s.databaseId,t.path)}function Vd(s,t){const i=cE(t);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(fE(i))}function hE(s,t){return Dm(s.databaseId,t)}function Vw(s){const t=cE(s);return t.length===4?ne.emptyPath():fE(t)}function tm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fE(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function T_(s,t,i){return{name:$d(s,t),fields:i.value.mapValue.fields}}function Mw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(qt(T===void 0||typeof T=="string",58123),Fe.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Fe.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?X.UNKNOWN:aE(y.code);return new at(T,y.message||"")})(d);i=new lE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vd(s,a.document.name),c=Ti(a.document.updateTime),d=a.document.createTime?Ti(a.document.createTime):yt.min(),p=new cn({mapValue:{fields:a.document.fields}}),_=Xe.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Rc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vd(s,a.document),c=a.readTime?Ti(a.readTime):yt.min(),d=Xe.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Rc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vd(s,a.document),c=a.removedTargetIds||[];i=new Rc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Tw(l,c),p=a.targetId;i=new oE(p,d)}}return i}function xw(s,t){let i;if(t instanceof xl)i={update:T_(s,t.key,t.value)};else if(t instanceof Rm)i={delete:$d(s,t.key)};else if(t instanceof ts)i={update:T_(s,t.key,t.data),updateMask:Hw(t.fieldMask)};else{if(!(t instanceof _w))return mt(16599,{Vt:t.type});i={verify:$d(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Ow(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(s,t.precondition)),i}function Uw(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ti(l.updateTime):Ti(c);return d.isEqual(yt.min())&&(d=Ti(c)),new pw(d,l.transformResults||[])})(i,t)))):[]}function Lw(s,t){return{documents:[hE(s,t.path)]}}function kw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hE(s,l);const c=(function(y){if(y.length!==0)return mE(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(V){return{field:La(V.field),direction:Bw(V.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Zd(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Pw(s){let t=Vw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const V=dE(S);return V instanceof Ci&&Qv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(Z){return new zc(ka(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,eh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(S){const V=!!S.before,Q=S.values||[];return new Pc(Q,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const V=!S.before,Q=S.values||[];return new Pc(Q,V)})(i.endAt)),nw(t,l,d,c,p,"F",_,y)}function zw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ka(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ne.create(ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>dE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function Bw(s){return Cw[s]}function jw(s){return Iw[s]}function qw(s){return Dw[s]}function La(s){return{fieldPath:s.canonicalString()}}function ka(s){return Qe.fromServerFormat(s.fieldPath)}function mE(s){return s instanceof Ne?(function(i){if(i.op==="=="){if(u_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(l_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(u_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(l_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:jw(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const a=i.getFilters().map((l=>mE(l)));return a.length===1?a[0]:{compositeFilter:{op:qw(i.op),filters:a}}})(s):mt(54877,{filter:s})}function Hw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class jr{constructor(t,i,a,l,c=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Qw{constructor(t){this.yt=t}}function Fw(s){const t=Pw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jd(t,t.limit,"L"):t}class Gw{constructor(){this.Cn=new Kw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Kr.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Kw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(pE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}const b_="LruGarbageCollector",Yw=1048576;function w_([s,t],[i,a]){const l=Nt(s,i);return l===0?Nt(t,a):l}class Xw{constructor(t){this.Ir=t,this.buffer=new Ve(w_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();w_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Jw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(b_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?it(b_,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)}))}}class Zw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(th.ce);const a=new Xw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(S_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),xa()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Ww(s,t){return new Zw(s,t)}class $w{constructor(){this.changes=new qs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class eR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&El(a.mutation,l,vn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Ms();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ml();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ms();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=er();const d=vl(),p=(function(){return vl()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof ts)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),El(T.mutation,y,T.mutation.getFieldMask(),ie.now())):d.set(y.key,vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new tR(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=vl();let l=new le(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||vn.empty();T=p.applyToLocalView(y,T),a.set(_,T);const S=(l.get(p.batchId)||Ot()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,S=Wv();T.forEach((V=>{if(!c.has(V)){const Q=rE(i.get(V),a.get(V));Q!==null&&S.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):iw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Y.resolve(Ms());let p=bl,_=c;return d.next((y=>Y.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(t,T).next((V=>{_=_.insert(T,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ot()))).next((T=>({batchId:p,changes:Zv(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(_=>{const y=(function(S,V){return new ih(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))}));let p=ml();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&El(T.mutation,y,vn.empty(),ie.now()),sh(i,y)&&(p=p.insert(_,y))})),p}))}}class nR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ti(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Fw(l.bundledQuery),readTime:Ti(l.readTime)}})(i)),Y.resolve()}}class iR{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ms();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=Ms(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Ms(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Ms(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ew(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class rR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class Nm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ct(new ne([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ne([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class sR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?_m:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Nt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ct(c),0);let p=new Ve(Nt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class aR{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=er();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=er();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||xb(Mb(T),a)<=0||(l.has(T.key)||sh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ii(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oR(this)}getSize(t){return Y.resolve(this.size)}}class oR extends $w{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class lR{constructor(t){this.persistence=t,this.si=new qs((i=>Tm(i)),Sm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Nm,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ya(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class yE{constructor(t,i){this.ui={},this.overlays={},this.ci=new th(0),this.li=!1,this.li=!0,this.hi=new rR,this.referenceDelegate=t(this),this.Pi=new lR(this),this.indexManager=new Gw,this.remoteDocumentCache=(function(l){return new aR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Qw(i),this.Ii=new nR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new iR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new sR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new uR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class uR extends Lb{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.Ri=new Nm,this.Vi=null}static mi(t){return new Om(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const l=ct.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Hc{constructor(t,i){this.persistence=t,this.pi=new qs((a=>zb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Ww(this,i)}static mi(t,i){return new Hc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Sc(t.data.value)),i}br(t,i,a){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,a,l)}}class cR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return i1()?8:kb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new cR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(xa()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(xa()<=Dt.DEBUG&&it("QueryEngine","Query:",Ua(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(xa()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(i))):Y.resolve())}ys(t,i){if(d_(i))return Y.resolve(null);let a=Ei(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),a=Ei(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,Jd(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return d_(i)||l.isEqual(yt.min())?Y.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Y.resolve(null):(xa()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(i)),this.vs(t,d,i,Vb(l,bl)).next((p=>p)))}))}Ds(t,i){let a=new Ve(Xv(t));return i.forEach(((l,c)=>{sh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return xa()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.ps.getDocumentsMatchingQuery(t,i,Kr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Mm="LocalStore",fR=3e8;class dR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Nt),this.xs=new qs((c=>Tm(c)),Sm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function mR(s,t,i,a){return new dR(s,t,i,a)}async function AE(s,t){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ot();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function gR(s,t){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const S=y.batch,V=S.keys();let Q=Y.resolve();return V.forEach((Z=>{Q=Q.next((()=>T.getEntry(_,Z))).next(($=>{const J=y.docVersions.get(Z);qt(J!==null,48541),$.version.compareTo(J)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function _E(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function pR(s,t){const i=vt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let Q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):T.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(T.resumeToken,a)),l=l.insert(S,Q),(function($,J,ht){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=fR?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,Q,T)&&p.push(i.Pi.updateTargetData(c,Q))}));let _=er(),y=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(yR(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(yt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function yR(s,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=er();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Mm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function AR(s,t){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=_m),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _R(s,t){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new jr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function em(s,t,i){const a=vt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!eo(d))throw d;it(Mm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function R_(s,t,i){const a=vt(s);let l=yt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=vt(_),V=S.xs.get(T);return V!==void 0?Y.resolve(S.Ms.get(V)):S.Pi.getTargetData(y,T)})(a,d,Ei(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((p=>(vR(a,sw(t),p),{documents:p,Qs:c})))))}function vR(s,t,i){let a=s.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class C_{constructor(){this.activeTargetIds=hw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ER{constructor(){this.Mo=new C_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new C_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TR{Oo(t){}shutdown(){}}const I_="ConnectivityMonitor";class D_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(I_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(I_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vc=null;function nm(){return vc===null?vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():vc++,"0x"+vc.toString(16)}const Md="RestConnection",SR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Lc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=nm(),p=this.zo(t,i.toUriEncodedString());it(Md,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),T=Za(y);return this.Jo(t,p,_,a,T).then((S=>(it(Md,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Qa(Md,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$a})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=SR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class wR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class RR extends bR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=nm();return new Promise(((p,_)=>{const y=new Sv;y.setWithCredentials(!0),y.listenOnce(bv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Tc.NO_ERROR:const S=y.getResponseJson();it(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Tc.TIMEOUT:it(Ke,`RPC '${t}' ${d} timed out`),_(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const V=y.getStatus();if(it(Ke,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const $=(function(ht){const At=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(At)>=0?At:X.UNKNOWN})(Z.status);_(new at($,Z.message))}else _(new at(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new at(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ke,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);it(Ke,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Cv(),p=Rv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${T}`,_);const S=d.createWebChannel(T,_);this.I_(S);let V=!1,Q=!1;const Z=new wR({Yo:J=>{Q?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),$=(J,ht,At)=>{J.listen(ht,(dt=>{try{At(dt)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return $(S,dl.EventType.OPEN,(()=>{Q||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),$(S,dl.EventType.CLOSE,(()=>{Q||(Q=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),$(S,dl.EventType.ERROR,(J=>{Q||(Q=!0,Qa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),$(S,dl.EventType.MESSAGE,(J=>{if(!Q){const ht=J.data[0];qt(!!ht,16349);const At=ht,dt=At?.error||At[0]?.error;if(dt){it(Ke,`RPC '${t}' stream ${l} received error:`,dt);const zt=dt.status;let Wt=(function(w){const b=we[w];if(b!==void 0)return aE(b)})(zt),Vt=dt.message;Wt===void 0&&(Wt=X.INTERNAL,Vt="Unknown error status: "+zt+" with message "+dt.message),Q=!0,Z.a_(new at(Wt,Vt)),S.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,ht),Z.u_(ht)}})),$(p,wv.STAT_EVENT,(J=>{J.stat===Qd.PROXY?it(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Qd.NOPROXY&&it(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function xd(){return typeof document<"u"?document:null}function uh(s){return new Nw(s,!0)}class vE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const N_="PersistentStream";class EE{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(N_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends EE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Mw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ti(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Xd(_)?{documents:Lw(c,_)}:{query:kw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uE(c,d.resumeToken);const y=Zd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=qc(c,d.snapshotVersion.toTimestamp());const y=Zd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=zw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=tm(this.serializer),i.removeTarget=t,this.q_(i)}}class IR extends EE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Uw(t.writeResults,t.commitTime),a=Ti(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>xw(this.serializer,a)))};this.q_(i)}}class DR{}class NR extends DR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Wd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Wd(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class VR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Hs(this)&&(it(Bs,"Restarting streams for network reachability change."),await(async function(_){const y=vt(_);y.Ea.add(4),await Ll(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ch(y)})(this))}))})),this.Ra=new OR(a,l)}}async function ch(s){if(Hs(s))for(const t of s.da)await t(!0)}async function Ll(s){for(const t of s.da)await t(!1)}function TE(s,t){const i=vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),km(i)?Lm(i):no(i).O_()&&Um(i,t))}function xm(s,t){const i=vt(s),a=no(i);i.Ia.delete(t),a.O_()&&SE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hs(i)&&i.Ra.set("Unknown"))}function Um(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(s).Y_(t)}function SE(s,t){s.Va.Ue(t),no(s).Z_(t)}function Lm(s){s.Va=new Rw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),no(s).start(),s.Ra.ua()}function km(s){return Hs(s)&&!no(s).x_()&&s.Ia.size>0}function Hs(s){return vt(s).Ea.size===0}function bE(s){s.Va=void 0}async function MR(s){s.Ra.set("Online")}async function xR(s){s.Ia.forEach(((t,i)=>{Um(s,t)}))}async function UR(s,t){bE(s),km(s)?(s.Ra.ha(t),Lm(s)):s.Ra.set("Unknown")}async function LR(s,t,i){if(s.Ra.set("Online"),t instanceof lE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){it(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Qc(s,a)}else if(t instanceof Rc?s.Va.Ze(t):t instanceof oE?s.Va.st(t):s.Va.tt(t),!i.isEqual(yt.min()))try{const a=await _E(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Fe.EMPTY_BYTE_STRING,T.snapshotVersion)),SE(c,_);const S=new jr(T.target,_,y,T.sequenceNumber);Um(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(Bs,"Failed to raise snapshot:",a),await Qc(s,a)}}async function Qc(s,t,i){if(!eo(t))throw t;s.Ea.add(1),await Ll(s),s.Ra.set("Offline"),i||(i=()=>_E(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Bs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await ch(s)}))}function wE(s,t){return t().catch((i=>Qc(s,i,t)))}async function hh(s){const t=vt(s),i=Zr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:_m;for(;kR(t);)try{const l=await AR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,PR(t,l)}catch(l){await Qc(t,l)}RE(t)&&CE(t)}function kR(s){return Hs(s)&&s.Ta.length<10}function PR(s,t){s.Ta.push(t);const i=Zr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function RE(s){return Hs(s)&&!Zr(s).x_()&&s.Ta.length>0}function CE(s){Zr(s).start()}async function zR(s){Zr(s).ra()}async function BR(s){const t=Zr(s);for(const i of s.Ta)t.ea(i.mutations)}async function jR(s,t,i){const a=s.Ta.shift(),l=Cm.from(a,t,i);await wE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await hh(s)}async function qR(s,t){t&&Zr(s).X_&&await(async function(a,l){if((function(d){return Sw(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Zr(a).B_(),await wE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await hh(a)}})(s,t),RE(s)&&CE(s)}async function O_(s,t){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(Bs,"RemoteStore received new credentials");const a=Hs(i);i.Ea.add(3),await Ll(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ch(i)}async function HR(s,t){const i=vt(s);t?(i.Ea.delete(2),await ch(i)):t||(i.Ea.add(2),await Ll(i),i.Ra.set("Unknown"))}function no(s){return s.ma||(s.ma=(function(i,a,l){const c=vt(i);return c.sa(),new CR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:MR.bind(null,s),t_:xR.bind(null,s),r_:UR.bind(null,s),H_:LR.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),km(s)?Lm(s):s.Ra.set("Unknown")):(await s.ma.stop(),bE(s))}))),s.ma}function Zr(s){return s.fa||(s.fa=(function(i,a,l){const c=vt(i);return c.sa(),new IR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:zR.bind(null,s),r_:qR.bind(null,s),ta:BR.bind(null,s),na:jR.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await hh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Pm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Pm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(s,t){if($i("AsyncQueue",`${t}: ${s}`),eo(s))return new at(X.UNAVAILABLE,`${t}: ${s}`);throw s}class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Pa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class V_{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Xa{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,Pa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class QR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class FR{constructor(){this.queries=M_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=vt(i),c=l.queries;l.queries=M_(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function M_(){return new qs((s=>Yv(s)),rh)}async function IE(s,t){const i=vt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new QR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=zm(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Bm(i)}async function DE(s,t){const i=vt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GR(s,t){const i=vt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Bm(i)}function KR(s,t,i){const a=vt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Bm(s){s.Ca.forEach((t=>{t.next()}))}var im,x_;(x_=im||(im={})).Ma="default",x_.Cache="cache";class NE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Xa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==im.Cache}}class OE{constructor(t){this.key=t}}class VE{constructor(t){this.key=t}}class YR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=Xv(t),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new V_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const V=l.get(T),Q=sh(this.query,S)?S:null,Z=!!V&&this.mutatedKeys.has(V.key),$=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;V&&Q?V.data.isEqual(Q.data)?Z!==$&&(a.track({type:3,doc:Q}),J=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),J=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!V&&Q?(a.track({type:0,doc:Q}),J=!0):V&&!Q&&(a.track({type:1,doc:V}),J=!0,(_||y)&&(p=!0)),J&&(Q?(d=d.add(Q),c=$?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(Q,Z){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:J})}};return $(Q)-$(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Xa(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new VE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new OE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jm="SyncEngine";class XR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class JR{constructor(t){this.key=t,this.hu=!1}}class ZR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qs((p=>Yv(p)),rh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new Nm,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WR(s,t,i=!0){const a=PE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ME(a,t,i,!0),l}async function $R(s,t){const i=PE(s);await ME(i,t,!0,!1)}async function ME(s,t,i,a){const l=await _R(s.localStore,Ei(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await tC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&TE(s.remoteStore,l),p}async function tC(s,t,i,a,l){s.pu=(S,V,Q)=>(async function($,J,ht,At){let dt=J.view.ru(ht);dt.Cs&&(dt=await R_($.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,dt))));const zt=At&&At.targetChanges.get(J.targetId),Wt=At&&At.targetMismatches.get(J.targetId)!=null,Vt=J.view.applyChanges(dt,$.isPrimaryClient,zt,Wt);return L_($,J.targetId,Vt.au),Vt.snapshot})(s,S,V,Q);const c=await R_(s.localStore,t,!0),d=new YR(t,c.Qs),p=d.ru(c.documents),_=Ul.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);L_(s,i,y.au);const T=new XR(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function eC(s,t,i){const a=vt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await em(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&xm(a.remoteStore,l.targetId),rm(a,l.targetId)})).catch(to)):(rm(a,l.targetId),await em(a.localStore,l.targetId,!0))}async function nC(s,t){const i=vt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),xm(i.remoteStore,a.targetId))}async function iC(s,t,i){const a=cC(s);try{const l=await(function(d,p){const _=vt(d),y=ie.now(),T=p.reduce(((Q,Z)=>Q.add(Z.key)),Ot());let S,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=er(),$=Ot();return _.Ns.getEntries(Q,T).next((J=>{Z=J,Z.forEach(((ht,At)=>{At.isValidDocument()||($=$.add(ht))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((J=>{S=J;const ht=[];for(const At of p){const dt=Aw(At,S.get(At.key).overlayedDocument);dt!=null&&ht.push(new ts(At.key,dt,jv(dt.value.mapValue),Jn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ht,p)})).next((J=>{V=J;const ht=J.applyToLocalDocumentSet(S,$);return _.documentOverlayCache.saveOverlays(Q,J.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:Zv(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Nt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await kl(a,l.changes),await hh(a.remoteStore)}catch(l){const c=zm(l,"Failed to persist write");i.reject(c)}}async function xE(s,t){const i=vt(s);try{const a=await pR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await kl(i,a,t)}catch(a){await to(a)}}function U_(s,t,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,S)=>{for(const V of S.Sa)V.va(p)&&(y=!0)})),y&&Bm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function rC(s,t,i){const a=vt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,Xe.newNoDocument(c,yt.min()));const p=Ot().add(c),_=new lh(yt.min(),new Map,new le(Nt),d,p);await xE(a,_),a.du=a.du.remove(c),a.Au.delete(t),qm(a)}else await em(a.localStore,t,!1).then((()=>rm(a,t,i))).catch(to)}async function sC(s,t){const i=vt(s),a=t.batch.batchId;try{const l=await gR(i.localStore,t);LE(i,a,null),UE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await kl(i,l)}catch(l){await to(l)}}async function aC(s,t,i){const a=vt(s);try{const l=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(qt(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);LE(a,t,i),UE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await kl(a,l)}catch(l){await to(l)}}function UE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function LE(s,t,i){const a=vt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function rm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||kE(s,a)}))}function kE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(xm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),qm(s))}function L_(s,t,i){for(const a of i)a instanceof OE?(s.Ru.addReference(a.key,t),oC(s,a)):a instanceof VE?(it(jm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||kE(s,a.key)):mt(19791,{wu:a})}function oC(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(jm,"New document in limbo: "+i),s.Eu.add(a),qm(s))}function qm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(ne.fromString(t)),a=s.fu.next();s.Au.set(a,new JR(i)),s.du=s.du.insert(i,a),TE(s.remoteStore,new jr(Ei(bm(i.path)),a,"TargetPurposeLimboResolution",th.ce))}}async function kl(s,t,i){const a=vt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Vm.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const T=vt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Y.forEach(y,(V=>Y.forEach(V.Es,(Q=>T.persistence.referenceDelegate.addReference(S,V.targetId,Q))).next((()=>Y.forEach(V.ds,(Q=>T.persistence.referenceDelegate.removeReference(S,V.targetId,Q)))))))))}catch(S){if(!eo(S))throw S;it(Mm,"Failed to update sequence numbers: "+S)}for(const S of y){const V=S.targetId;if(!S.fromCache){const Q=T.Ms.get(V),Z=Q.snapshotVersion,$=Q.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(V,$)}}})(a.localStore,c))}async function lC(s,t){const i=vt(s);if(!i.currentUser.isEqual(t)){it(jm,"User change. New user:",t.toKey());const a=await AE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await kl(i,a.Ls)}}function uC(s,t){const i=vt(s),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function PE(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rC.bind(null,t),t.Pu.H_=GR.bind(null,t.eventManager),t.Pu.yu=KR.bind(null,t.eventManager),t}function cC(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aC.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return mR(this.persistence,new hR,t.initialUser,this.serializer)}Cu(t){return new yE(Om.mi,this.serializer)}Du(t){return new ER}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class hC extends Fc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Hc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Jw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new yE((a=>Hc.mi(a,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>U_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FR})()}createDatastore(t){const i=uh(t.databaseInfo.databaseId),a=(function(c){return new RR(c)})(t.databaseInfo);return(function(c,d,p,_){return new NR(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>U_(this.syncEngine,i,0)),(function(){return D_.v()?new D_:new TR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const S=new ZR(l,c,d,p,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);it(Bs,"RemoteStore shutting down."),a.Ea.add(5),await Ll(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class zE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Wr="FirestoreClient";class fC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ud(s,t){s.asyncQueue.verifyOperationInProgress(),it(Wr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await AE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function k_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await dC(s);it(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>O_(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>O_(t.remoteStore,l))),s._onlineComponents=t}async function dC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Wr,"Using user provided OfflineComponentProvider");try{await Ud(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qa("Error using user provided cache. Falling back to memory cache: "+i),await Ud(s,new Fc)}}else it(Wr,"Using default OfflineComponentProvider"),await Ud(s,new hC(void 0));return s._offlineComponents}async function BE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Wr,"Using user provided OnlineComponentProvider"),await k_(s,s._uninitializedComponentsProvider._online)):(it(Wr,"Using default OnlineComponentProvider"),await k_(s,new sm))),s._onlineComponents}function mC(s){return BE(s).then((t=>t.syncEngine))}async function jE(s){const t=await BE(s),i=t.eventManager;return i.onListen=WR.bind(null,t.syncEngine),i.onUnlisten=eC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$R.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nC.bind(null,t.syncEngine),i}function gC(s,t,i={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new zE({next:V=>{T.Nu(),d.enqueueAndForget((()=>DE(c,S)));const Q=V.docs.has(p);!Q&&V.fromCache?y.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&V.fromCache&&_&&_.source==="server"?y.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),S=new NE(bm(p.path),T,{includeMetadataChanges:!0,qa:!0});return IE(c,S)})(await jE(s),s.asyncQueue,t,i,a))),a.promise}function pC(s,t,i={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new zE({next:V=>{T.Nu(),d.enqueueAndForget((()=>DE(c,S))),V.fromCache&&_.source==="server"?y.reject(new at(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(V)},error:V=>y.reject(V)}),S=new NE(p,T,{includeMetadataChanges:!0,qa:!0});return IE(c,S)})(await jE(s),s.asyncQueue,t,i,a))),a.promise}function qE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const P_=new Map;const HE="firestore.googleapis.com",z_=!0;class B_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HE,this.ssl=z_}else this.host=t.host,this.ssl=t.ssl??z_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Yw)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ob("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Eb;switch(a.type){case"firstParty":return new wb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=P_.get(i);a&&(it("ComponentProvider","Removing Datastore"),P_.delete(i),a.terminate())})(this),Promise.resolve()}}function yC(s,t,i,a={}){s=tr(s,fh);const l=Za(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(mv(`https://${p}`),gv("Firestore",!0)),c.host!==HE&&c.host!==p&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!ks(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=Ye.MOCK_USER;else{y=YS(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ye(S)}s._authCredentials=new Tb(new Dv(y,T))}}class dh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new dh(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ml(i,Oe._jsonSchema))return new Oe(t,a||null,new ct(ne.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Gr extends dh{constructor(t,i,a){super(t,i,bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ct(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function j_(s,t,...i){if(s=Ze(s),Nv("collection","path",t),s instanceof fh){const a=ne.fromString(t,...i);return t_(a),new Gr(s,null,a)}{if(!(s instanceof Oe||s instanceof Gr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return t_(a),new Gr(s.firestore,null,a)}}function Cc(s,t,...i){if(s=Ze(s),arguments.length===1&&(t=ym.newId()),Nv("doc","path",t),s instanceof fh){const a=ne.fromString(t,...i);return $A(a),new Oe(s,null,new ct(a))}{if(!(s instanceof Oe||s instanceof Gr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return $A(a),new Oe(s.firestore,s instanceof Gr?s.converter:null,new ct(a))}}const q_="AsyncQueue";class H_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const a=xd();a&&it(q_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;it(q_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Q_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Pm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Q_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class io extends fh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new H_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new H_(t),this._firestoreClient=void 0,await t}}}function AC(s,t){const i=typeof s=="object"?s:_v(),a=typeof s=="string"?s:Lc,l=gm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=GS("firestore");c&&yC(l,...c)}return l}function Hm(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_C(s),s._firestoreClient}function _C(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new qb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new fC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Fe.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ml(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class mh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qm{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Ml(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ml(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),vectorValues:Re("object")};const vC=/^__.*__$/;class EC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,i,this.fieldTransforms):new xl(t,this.data,i,this.fieldTransforms)}}class QE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ts(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function FE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class Fm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Gc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(FE(this.Ac)&&vC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||uh(t)}Cc(t,i,a,l=!1){return new Fm({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GE(s){const t=s._freezeSettings(),i=uh(s._databaseId);return new TC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function SC(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Gm("Data must be an object, but it was:",d,a);const p=KE(a,d);let _,y;if(c.merge)_=new vn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const V=am(t,S,i);if(!d.contains(V))throw new at(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);XE(T,V)||T.push(V)}_=new vn(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new EC(new cn(p),_,y)}class gh extends Qm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gh}}function bC(s,t,i,a){const l=s.Cc(1,t,i);Gm("Data must be an object, but it was:",l,a);const c=[],d=cn.empty();$r(a,((_,y)=>{const T=Km(t,_,i);y=Ze(y);const S=l.yc(T);if(y instanceof gh)c.push(T);else{const V=ph(y,S);V!=null&&(c.push(T),d.set(T,V))}}));const p=new vn(c);return new QE(d,p,l.fieldTransforms)}function wC(s,t,i,a,l,c){const d=s.Cc(1,t,i),p=[am(t,a,i)],_=[l];if(c.length%2!=0)throw new at(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(am(t,c[V])),_.push(c[V+1]);const y=[],T=cn.empty();for(let V=p.length-1;V>=0;--V)if(!XE(y,p[V])){const Q=p[V];let Z=_[V];Z=Ze(Z);const $=d.yc(Q);if(Z instanceof gh)y.push(Q);else{const J=ph(Z,$);J!=null&&(y.push(Q),T.set(Q,J))}}const S=new vn(y);return new QE(T,S,d.fieldTransforms)}function ph(s,t){if(YE(s=Ze(s)))return Gm("Unsupported field value:",t,s),KE(s,t);if(s instanceof Qm)return(function(a,l){if(!FE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=ph(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return fw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:qc(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qc(l.serializer,c)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:uE(l.serializer,a._byteString)};if(a instanceof Oe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof bi)return(function(d,p){return{mapValue:{fields:{[zv]:{stringValue:Bv},[kc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return wm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Am(a)}`)})(s,t)}function KE(s,t){const i={};return Mv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(s,((a,l)=>{const c=ph(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function YE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Si||s instanceof Un||s instanceof Oe||s instanceof Qm||s instanceof bi)}function Gm(s,t,i){if(!YE(i)||!Ov(i)){const a=Am(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function am(s,t,i){if((t=Ze(t))instanceof mh)return t._internalPath;if(typeof t=="string")return Km(s,t);throw Gc("Field path arguments must be of type string or ",s,!1,void 0,i)}const RC=new RegExp("[~\\*/\\[\\]]");function Km(s,t,i){if(t.search(RC)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mh(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Gc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new at(X.INVALID_ARGUMENT,p+s+_)}function XE(s,t){return s.some((i=>i.isEqual(t)))}class JE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ZE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CC extends JE{data(){return super.data()}}function ZE(s,t){return typeof t=="string"?Km(s,t):t instanceof mh?t._internalPath:t._delegate._internalPath}function IC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DC{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[kc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Si(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=nh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);qt(gE(a),9688,{name:t});const l=new Rl(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NC(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends JE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ZE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Re("string",Us._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ic extends Us{data(t={}){return super.data(t)}}class za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Ic(this._firestore,this._userDataWriter,a.key,a,new pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Ic(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Ic(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:OC(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}function VC(s){s=tr(s,Oe);const t=tr(s.firestore,io);return gC(Hm(t),s._key).then((i=>kC(t,s,i)))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:Re("string",za._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class WE extends DC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function MC(s){s=tr(s,dh);const t=tr(s.firestore,io),i=Hm(t),a=new WE(t);return IC(s._query),pC(i,s._query).then((l=>new za(t,a,s,l)))}function xC(s,t,i,...a){s=tr(s,Oe);const l=tr(s.firestore,io),c=GE(l);let d;return d=typeof(t=Ze(t))=="string"||t instanceof mh?wC(c,"updateDoc",s._key,t,i,a):bC(c,"updateDoc",s._key,t),Ym(l,[d.toMutation(s._key,Jn.exists(!0))])}function UC(s){return Ym(tr(s.firestore,io),[new Rm(s._key,Jn.none())])}function LC(s,t){const i=tr(s.firestore,io),a=Cc(s),l=NC(s.converter,t);return Ym(i,[SC(GE(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then((()=>a))}function Ym(s,t){return(function(a,l){const c=new Zi;return a.asyncQueue.enqueueAndForget((async()=>iC(await mC(a),l,c))),c.promise})(Hm(s),t)}function kC(s,t,i){const a=i.docs.get(t._key),l=new WE(s);return new Us(s,l,t._key,a,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){$a=l})(Wa),Ha(new Ps("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new io(new Sb(a.getProvider("auth-internal")),new Rb(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qr(XA,JA,t),Qr(XA,JA,"esm2020")})();var PC="firebase",zC="12.6.0";Qr(PC,zC,"app");function $E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BC=$E,tT=new Ol("auth","Firebase",$E());const Kc=new dm("@firebase/auth");function jC(s,...t){Kc.logLevel<=Dt.WARN&&Kc.warn(`Auth (${Wa}): ${s}`,...t)}function Dc(s,...t){Kc.logLevel<=Dt.ERROR&&Kc.error(`Auth (${Wa}): ${s}`,...t)}function Ii(s,...t){throw Jm(s,...t)}function Zn(s,...t){return Jm(s,...t)}function Xm(s,t,i){const a={...BC(),[t]:i};return new Ol("auth","Firebase",a).create(t,{appName:s.name})}function Ls(s){return Xm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qC(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ii(s,"argument-error"),Xm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return tT.create(s,...t)}function gt(s,t,...i){if(!s)throw Jm(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Dc(t),new Error(t)}function nr(s,t){s||Xi(t)}function om(){return typeof self<"u"&&self.location?.href||""}function HC(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}function QC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HC()||t1()||"connection"in navigator)?navigator.onLine:!0}function FC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=ZS()||e1()}get(){return QC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(s,t){nr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class eT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YC=new Pl(3e4,6e4);function Wm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ro(s,t,i,a,l={}){return nT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Vl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return $S()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Za(s.emulatorConfig.host)&&(y.credentials="include"),eT.fetch()(await iT(s,s.config.apiHost,i,p),y)})}async function nT(s,t,i){s._canInitEmulator=!1;const a={...GC,...t};try{const l=new JC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ec(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ec(s,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Xm(s,T,y);Ii(s,T)}}catch(l){if(l instanceof ir)throw l;Ii(s,"network-request-failed",{message:String(l)})}}async function XC(s,t,i,a,l={}){const c=await ro(s,t,i,a,l);return"mfaPendingCredential"in c&&Ii(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function iT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Zm(s.config,l):`${s.config.apiScheme}://${l}`;return KC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class JC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),YC.get())})}}function Ec(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Zn(s,t,a);return l.customData._tokenResponse=i,l}async function ZC(s,t){return ro(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return ro(s,"POST","/v1/accounts:lookup",t)}function Tl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WC(s,t=!1){const i=Ze(s),a=await i.getIdToken(t),l=$m(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Tl(Ld(l.auth_time)),issuedAtTime:Tl(Ld(l.iat)),expirationTime:Tl(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(s){return Number(s)*1e3}function $m(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=cv(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function G_(s){const t=$m(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ir&&$C(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function $C({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class tI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),a=await Nl(s,Yc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?rT(l.providerUserInfo):[],d=nI(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function eI(s){const t=Ze(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function rT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iI(s,t){const i=await nT(s,{},async()=>{const a=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await iT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&Za(s.emulatorConfig.host)&&(_.credentials="include"),eT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rI(s,t){return ro(s,"POST","/v2/accounts:revokeToken",Wm(s,t))}class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=G_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await iI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ba;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function kr(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return WC(this,t)}reload(){return eI(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ls(this.auth));const t=await this.getIdToken();return await Nl(this,ZC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:Q,providerData:Z,stsTokenManager:$}=i;gt(S&&$,t,"internal-error");const J=Ba.fromJSON(this.name,$);gt(typeof S=="string",t,"internal-error"),kr(a,t.name),kr(l,t.name),gt(typeof V=="boolean",t,"internal-error"),gt(typeof Q=="boolean",t,"internal-error"),kr(c,t.name),kr(d,t.name),kr(p,t.name),kr(_,t.name),kr(y,t.name),kr(T,t.name);const ht=new Xn({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(ht.providerData=Z.map(At=>({...At}))),_&&(ht._redirectEventId=_),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ba;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?rT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ba;p.updateFromIdToken(a);const _=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const K_=new Map;function Ji(s){nr(s instanceof Function,"Expected a class definition");let t=K_.get(s);return t?(nr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,K_.set(s,t),t)}class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}sT.type="NONE";const Y_=sT;function Nc(s,t,i){return`firebase:${s}:${t}:${i}`}class ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ja(Ji(Y_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(Y_);const d=Nc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const V=await Yc(t,{idToken:T}).catch(()=>{});if(!V)break;S=await Xn._fromGetAccountInfoResponse(t,V,T)}else S=Xn._fromJSON(t,T);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ja(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ja(c,t,a))}}function X_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hT(t))return"Blackberry";if(fT(t))return"Webos";if(oT(t))return"Safari";if((t.includes("chrome/")||lT(t))&&!t.includes("edge/"))return"Chrome";if(cT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function aT(s=Je()){return/firefox\//i.test(s)}function oT(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lT(s=Je()){return/crios\//i.test(s)}function uT(s=Je()){return/iemobile/i.test(s)}function cT(s=Je()){return/android/i.test(s)}function hT(s=Je()){return/blackberry/i.test(s)}function fT(s=Je()){return/webos/i.test(s)}function tg(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function sI(s=Je()){return tg(s)&&!!window.navigator?.standalone}function aI(){return n1()&&document.documentMode===10}function dT(s=Je()){return tg(s)||cT(s)||fT(s)||hT(s)||/windows phone/i.test(s)||uT(s)}function mT(s,t=[]){let i;switch(s){case"Browser":i=X_(Je());break;case"Worker":i=`${X_(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${a}`}class oI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function lI(s,t={}){return ro(s,"GET","/v2/passwordPolicy",Wm(s,t))}const uI=6;class cI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class hI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new oI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Ls(this));const i=t?Ze(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lI(this),i=new cI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await rI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yh(s){return Ze(s)}class J_{constructor(t){this.auth=t,this.observer=null,this.addObserver=c1(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fI(s){eg=s}function dI(s){return eg.loadJS(s)}function mI(){return eg.gapiScript}function gI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function pI(s,t){const i=gm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ks(c,t??{}))return l;Ii(l,"already-initialized")}return i.initialize({options:t})}function yI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function AI(s,t,i){const a=yh(s);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=gT(t),{host:d,port:p}=_I(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(ks(y,a.config.emulator)&&ks(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Za(d)?(mv(`${c}//${d}${_}`),gv("Auth",!0)):vI()}function gT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function _I(s){const t=gT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Z_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Z_(d)}}}function Z_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function vI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class pT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function qa(s,t){return XC(s,"POST","/v1/accounts:signInWithIdp",Wm(s,t))}const EI="http://localhost";class js extends pT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new js(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:EI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}class ng{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zl extends ng{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends zl{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Yi extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return js._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class zr extends zl{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends zl{constructor(){super("twitter.com")}static credential(t,i){return js._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Br.credential(i,a)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=W_(a);return new Ja({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=W_(a);return new Ja({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function W_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Jc extends ir{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Jc(t,i,a,l)}}function yT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,t,a):c})}async function TI(s,t,i=!1){const a=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ja._forOperation(s,"link",a)}async function SI(s,t,i=!1){const{auth:a}=s;if(Yn(a.app))return Promise.reject(Ls(a));const l="reauthenticate";try{const c=await Nl(s,yT(a,l,t,s),i);gt(c.idToken,a,"internal-error");const d=$m(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(s.uid===p,a,"user-mismatch"),Ja._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ii(a,"user-mismatch"),c}}async function bI(s,t,i=!1){if(Yn(s.app))return Promise.reject(Ls(s));const a="signIn",l=await yT(s,a,t),c=await Ja._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function wI(s,t,i,a){return Ze(s).onIdTokenChanged(t,i,a)}function RI(s,t,i){return Ze(s).beforeAuthStateChanged(t,i)}function CI(s,t,i,a){return Ze(s).onAuthStateChanged(t,i,a)}function II(s){return Ze(s).signOut()}const Zc="__sak";class AT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const DI=1e3,NI=10;class _T extends AT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);aI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,NI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}_T.type="LOCAL";const OI=_T;class vT extends AT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}vT.type="SESSION";const ET=vT;function VI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await VI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function ig(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class MI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=ig("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function xI(s){wi().location.href=s}function TT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function UI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LI(){return navigator?.serviceWorker?.controller||null}function kI(){return TT()?self:null}const ST="firebaseLocalStorageDb",PI=1,Wc="firebaseLocalStorage",bT="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,t){return s.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function zI(){const s=indexedDB.deleteDatabase(ST);return new Bl(s).toPromise()}function um(){const s=indexedDB.open(ST,PI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Wc,{keyPath:bT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await zI(),t(await um()))})})}async function $_(s,t,i){const a=_h(s,!0).put({[bT]:t,value:i});return new Bl(a).toPromise()}async function BI(s,t){const i=_h(s,!1).get(t),a=await new Bl(i).toPromise();return a===void 0?null:a.value}function tv(s,t){const i=_h(s,!0).delete(t);return new Bl(i).toPromise()}const jI=800,qI=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>qI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(kI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await um();return await $_(t,Zc,"1"),await tv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>$_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>BI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const HI=wT;new Pl(3e4,6e4);function RT(s,t){return t?Ji(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class rg extends pT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function QI(s){return bI(s.auth,new rg(s),s.bypassAuthState)}function FI(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),SI(i,new rg(s),s.bypassAuthState)}async function GI(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),TI(i,new rg(s),s.bypassAuthState)}class CT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QI;case"linkViaPopup":case"linkViaRedirect":return GI;case"reauthViaPopup":case"reauthViaRedirect":return FI;default:Ii(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KI=new Pl(2e3,1e4);async function YI(s,t,i){if(Yn(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const a=yh(s);qC(s,t,ng);const l=RT(a,i);return new xs(a,"signInViaPopup",t,l).executeNotNull()}class xs extends CT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KI.get())};t()}}xs.currentPopupAction=null;const XI="pendingRedirect",Oc=new Map;class JI extends CT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await ZI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(s,t){const i=t2(t),a=$I(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function WI(s,t){Oc.set(s._key(),t)}function $I(s){return Ji(s._redirectPersistence)}function t2(s){return Nc(XI,s.config.apiKey,s.name)}async function e2(s,t,i=!1){if(Yn(s.app))return Promise.reject(Ls(s));const a=yh(s),l=RT(a,t),d=await new JI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const n2=600*1e3;class i2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!r2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!IT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function IT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function r2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(s);default:return!1}}async function s2(s,t={}){return ro(s,"GET","/v1/projects",t)}const a2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o2=/^https?/;async function l2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await s2(s);for(const i of t)try{if(u2(i))return}catch{}Ii(s,"unauthorized-domain")}function u2(s){const t=om(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!o2.test(i))return!1;if(a2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const c2=new Pl(3e4,6e4);function nv(){const s=wi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function h2(s){return new Promise((t,i)=>{function a(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),i(Zn(s,"network-request-failed"))},timeout:c2.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=gI("iframefcb");return wi()[l]=()=>{gapi.load?a():i(Zn(s,"network-request-failed"))},dI(`${mI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function f2(s){return Vc=Vc||h2(s),Vc}const d2=new Pl(5e3,15e3),m2="__/auth/iframe",g2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A2(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Zm(t,g2):`https://${s.config.authDomain}/${m2}`,a={apiKey:t.apiKey,appName:s.name,v:Wa},l=y2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Vl(a).slice(1)}`}async function _2(s){const t=await f2(s),i=wi().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:A2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},d2.get());function _(){wi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,S2="_blank",b2="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w2(s,t,i,a=E2,l=T2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...v2,width:a.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=lT(y)?S2:i),aT(y)&&(t=t||b2,_.scrollbars="yes");const T=Object.entries(_).reduce((V,[Q,Z])=>`${V}${Q}=${Z},`,"");if(sI(y)&&p!=="_self")return R2(t||"",p),new iv(null);const S=window.open(t||"",p,T);gt(S,s,"popup-blocked");try{S.focus()}catch{}return new iv(S)}function R2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const C2="__/auth/handler",I2="emulator/auth/handler",D2=encodeURIComponent("fac");async function rv(s,t,i,a,l,c){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Wa,eventId:l};if(t instanceof ng){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",u1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof zl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),y=_?`#${D2}=${encodeURIComponent(_)}`:"";return`${N2(s)}?${Vl(p).slice(1)}${y}`}function N2({config:s}){return s.emulator?Zm(s,I2):`https://${s.authDomain}/${C2}`}const kd="webStorageSupport";class O2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=e2,this._overrideRedirectResult=WI}async _openPopup(t,i,a,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rv(t,i,a,om(),l);return w2(t,c,ig())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await rv(t,i,a,om(),l);return xI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await _2(t),a=new i2(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&i(!!c),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=l2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return dT()||oT()||tg()}}const V2=O2;var sv="@firebase/auth",av="1.11.1";class M2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function x2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U2(s){Ha(new Ps("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(s)},y=new hI(a,l,c,_);return yI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ha(new Ps("auth-internal",t=>{const i=yh(t.getProvider("auth").getImmediate());return(a=>new M2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(sv,av,x2(s)),Qr(sv,av,"esm2020")}const L2=300,k2=dv("authIdTokenMaxAge")||L2;let ov=null;const P2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>k2)return;const l=i?.token;ov!==l&&(ov=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function z2(s=_v()){const t=gm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=pI(s,{popupRedirectResolver:V2,persistence:[HI,OI,ET]}),a=dv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=P2(c.toString());RI(i,d,()=>d(i.currentUser)),wI(i,p=>d(p))}}const l=hv("auth");return l&&AI(i,`http://${l}`),i}function B2(){return document.getElementsByTagName("head")?.[0]??document}fI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Zn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",B2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U2("Browser");const j2={apiKey:"AIzaSyB7o546NGglFSjtUFbKzVdd1T_tXWfGPj8",authDomain:"animadex-2f979.firebaseapp.com",projectId:"animadex-2f979",storageBucket:"animadex-2f979.firebasestorage.app",messagingSenderId:"577072322198",appId:"1:577072322198:web:4b922cb45a849f13add4b7"},DT=Av(j2),fl=AC(DT),Pd=z2(DT);function q2(){const[s,t]=xn.useState([]),[i,a]=xn.useState(""),[l,c]=xn.useState(""),[d,p]=xn.useState(""),[_,y]=xn.useState(!1),[T,S]=xn.useState(null),[V,Q]=xn.useState(null),[Z,$]=xn.useState(!1);xn.useEffect(()=>{const b=CI(Pd,async D=>{if(Q(D),D)try{const x=await VC(Cc(fl,"admins",D.uid));$(x.exists())}catch(x){console.error("Error checking admin status:",x),$(!1)}else $(!1)});async function N(){try{const D=await MC(j_(fl,"entries"));if(D.empty)t(LA);else{const x=D.docs.map(R=>({id:R.id,...R.data()}));t(x)}}catch(D){console.error("Error loading entries:",D),t(LA)}}return N(),()=>b()},[]);function J(){if(!V||!Z){alert("Only admins can add entries");return}S({id:null,image:"",latin:"",english:"",french:"",japanese:"",category:"bird",locations:[],capture:"photo",date:new Date().toISOString().slice(0,10),notes:""}),y(!0)}function ht(b){if(!V||!Z){alert("Only admins can edit entries");return}S({...b}),y(!0)}async function At(b){if(!V||!Z){alert("Only admins can delete entries");return}if(confirm("Delete?"))try{await UC(Cc(fl,"entries",b)),t(N=>N.filter(D=>D.id!==b))}catch(N){console.error("Failed to delete:",N)}}function dt(b){if(!b)return;const N=new FileReader;N.onload=()=>S(D=>({...D,image:N.result})),N.readAsDataURL(b)}async function zt(b){if(b.preventDefault(),!V||!Z){alert("Only admins can save entries");return}const N={...T};try{if(N.id){const{id:D,...x}=N,R=Cc(fl,"entries",N.id);await xC(R,x),t(Kt=>Kt.map(re=>re.id===N.id?N:re))}else{const{id:D,...x}=N,R=await LC(j_(fl,"entries"),x),Kt={...x,id:R.id};t(re=>[Kt,...re])}y(!1),S(null)}catch(D){console.error("Failed to save entry:",D)}}const Wt=s.filter(b=>{const N=i.toLowerCase(),D=!i||[b.latin,b.english,b.french,b.japanese,...b.locations||[]].join(" ").toLowerCase().includes(N),x=!l||b.category===l,R=!d||b.capture===d;return D&&x&&R}),Vt=new Yi,I=()=>YI(Pd,Vt).catch(console.error),w=()=>II(Pd).catch(console.error);return nt.jsx("div",{style:{width:"100vw",minHeight:"100vh",padding:"24px",backgroundColor:"#5a1a1aff"},children:nt.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[nt.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[nt.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold"},children:"Landre's Animadex (Asia)"}),nt.jsx("div",{children:V?nt.jsxs(nt.Fragment,{children:[nt.jsxs("span",{style:{marginRight:"8px"},children:[V.displayName," ",Z&&"(Admin)"]}),nt.jsx("button",{onClick:w,style:{padding:"6px 12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Logout"})]}):nt.jsx("button",{onClick:I,style:{padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Login"})})]}),nt.jsx(IS,{query:i,setQuery:a,categoryFilter:l,setCategoryFilter:c,captureFilter:d,setCaptureFilter:p,openAddForm:J}),nt.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"32px",justifyItems:"center",boxSizing:"border-box"},children:[T&&T.id===null&&nt.jsx("div",{style:{gridColumn:"1 / -1"},children:nt.jsx(UA,{editing:T,setEditing:S,onSubmit:zt,onCancel:()=>S(null),handleImageUpload:dt})}),Wt.map(b=>nt.jsxs(cS.Fragment,{children:[nt.jsx(kS,{entry:b,onEdit:ht,onDelete:At}),T&&T.id===b.id&&nt.jsx("div",{style:{gridColumn:"1 / -1"},children:nt.jsx(UA,{editing:T,setEditing:S,onSubmit:zt,onCancel:()=>S(null),handleImageUpload:dt})})]},b.id))]}),nt.jsx("footer",{style:{marginTop:"32px",fontSize:"0.85rem",color:"#6b7280"},children:"You reached the end of the animadex: Now please go outside and find new species!"})]})})}yS.createRoot(document.getElementById("root")).render(nt.jsx(xn.StrictMode,{children:nt.jsx(q2,{})}));
