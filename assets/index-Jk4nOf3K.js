(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var vd={exports:{}},cl={};var b_;function sS(){if(b_)return cl;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var R_;function rS(){return R_||(R_=1,vd.exports=sS()),vd.exports}var ot=rS(),Ed={exports:{}},vt={};var w_;function aS(){if(w_)return vt;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ht(M,K,et){this.props=M,this.context=K,this.refs=Z,this.updater=et||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ht.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _t(){}_t.prototype=ht.prototype;function dt(M,K,et){this.props=M,this.context=K,this.refs=Z,this.updater=et||J}var jt=dt.prototype=new _t;jt.constructor=dt,W(jt,ht.prototype),jt.isPureReactComponent=!0;var Jt=Array.isArray;function Vt(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function b(M,K,et){var it=et.ref;return{$$typeof:r,type:M,key:K,ref:it!==void 0?it:null,props:et}}function N(M,K){return b(M.type,K,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function x(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ie(M,K){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):K.toString(36)}function we(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Vt,Vt):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,K,et,it,pt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var xt=!1;if(M===null)xt=!0;else switch(St){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(M.$$typeof){case r:case t:xt=!0;break;case A:return xt=M._init,H(xt(M._payload),K,et,it,pt)}}if(xt)return pt=pt(M),xt=it===""?"."+ie(M,0):it,Jt(pt)?(et="",xt!=null&&(et=xt.replace(w,"$&/")+"/"),H(pt,K,et,"",function(er){return er})):pt!=null&&(I(pt)&&(pt=N(pt,et+(pt.key==null||M&&M.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+xt)),K.push(pt)),1;xt=0;var Ce=it===""?".":it+":";if(Jt(M))for(var se=0;se<M.length;se++)it=M[se],St=Ce+ie(it,se),xt+=H(it,K,et,St,pt);else if(se=G(M),typeof se=="function")for(M=se.call(M),se=0;!(it=M.next()).done;)it=it.value,St=Ce+ie(it,se++),xt+=H(it,K,et,St,pt);else if(St==="object"){if(typeof M.then=="function")return H(we(M),K,et,it,pt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xt}function tt(M,K,et){if(M==null)return M;var it=[],pt=0;return H(M,it,"","",function(St){return K.call(et,St,pt++)}),it}function ut(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:tt,forEach:function(M,K,et){tt(M,function(){K.apply(this,arguments)},et)},count:function(M){var K=0;return tt(M,function(){K++}),K},toArray:function(M){return tt(M,function(K){return K})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=S,vt.Children=Ht,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=a,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,K,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=W({},M.props),pt=M.key;if(K!=null)for(St in K.key!==void 0&&(pt=""+K.key),K)!R.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(it[St]=K[St]);var St=arguments.length-2;if(St===1)it.children=et;else if(1<St){for(var xt=Array(St),Ce=0;Ce<St;Ce++)xt[Ce]=arguments[Ce+2];it.children=xt}return b(M.type,pt,it)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},vt.createElement=function(M,K,et){var it,pt={},St=null;if(K!=null)for(it in K.key!==void 0&&(St=""+K.key),K)R.call(K,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=K[it]);var xt=arguments.length-2;if(xt===1)pt.children=et;else if(1<xt){for(var Ce=Array(xt),se=0;se<xt;se++)Ce[se]=arguments[se+2];pt.children=Ce}if(M&&M.defaultProps)for(it in xt=M.defaultProps,xt)pt[it]===void 0&&(pt[it]=xt[it]);return b(M,St,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:p,render:M}},vt.isValidElement=I,vt.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ut}},vt.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},vt.startTransition=function(M){var K=D.T,et={};D.T=et;try{var it=M(),pt=D.S;pt!==null&&pt(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Vt,Lt)}catch(St){Lt(St)}finally{K!==null&&et.types!==null&&(K.types=et.types),D.T=K}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(M){return D.H.use(M)},vt.useActionState=function(M,K,et){return D.H.useActionState(M,K,et)},vt.useCallback=function(M,K){return D.H.useCallback(M,K)},vt.useContext=function(M){return D.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,K){return D.H.useDeferredValue(M,K)},vt.useEffect=function(M,K){return D.H.useEffect(M,K)},vt.useEffectEvent=function(M){return D.H.useEffectEvent(M)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(M,K,et){return D.H.useImperativeHandle(M,K,et)},vt.useInsertionEffect=function(M,K){return D.H.useInsertionEffect(M,K)},vt.useLayoutEffect=function(M,K){return D.H.useLayoutEffect(M,K)},vt.useMemo=function(M,K){return D.H.useMemo(M,K)},vt.useOptimistic=function(M,K){return D.H.useOptimistic(M,K)},vt.useReducer=function(M,K,et){return D.H.useReducer(M,K,et)},vt.useRef=function(M){return D.H.useRef(M)},vt.useState=function(M){return D.H.useState(M)},vt.useSyncExternalStore=function(M,K,et){return D.H.useSyncExternalStore(M,K,et)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.0",vt}var C_;function um(){return C_||(C_=1,Ed.exports=aS()),Ed.exports}var Kn=um(),Td={exports:{}},hl={},Ad={exports:{}},Sd={};var I_;function oS(){return I_||(I_=1,(function(r){function t(H,tt){var ut=H.length;H.push(tt);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=H[Lt];if(0<l(Ht,tt))H[Lt]=tt,H[ut]=Ht,ut=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ut=H.pop();if(ut!==tt){H[0]=ut;t:for(var Lt=0,Ht=H.length,M=Ht>>>1;Lt<M;){var K=2*(Lt+1)-1,et=H[K],it=K+1,pt=H[it];if(0>l(et,ut))it<Ht&&0>l(pt,et)?(H[Lt]=pt,H[it]=ut,Lt=it):(H[Lt]=et,H[K]=ut,Lt=K);else if(it<Ht&&0>l(pt,ut))H[Lt]=pt,H[it]=ut,Lt=it;else break t}}return tt}function l(H,tt){var ut=H.sortIndex-tt.sortIndex;return ut!==0?ut:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,S=null,V=3,G=!1,J=!1,W=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function jt(H){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=H)a(y),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(y)}}function Jt(H){if(W=!1,jt(H),!J)if(i(v)!==null)J=!0,Vt||(Vt=!0,x());else{var tt=i(y);tt!==null&&we(Jt,tt.startTime-H)}}var Vt=!1,D=-1,R=5,b=-1;function N(){return Z?!0:!(r.unstable_now()-b<R)}function I(){if(Z=!1,Vt){var H=r.unstable_now();b=H;var tt=!0;try{t:{J=!1,W&&(W=!1,_t(D),D=-1),G=!0;var ut=V;try{e:{for(jt(H),S=i(v);S!==null&&!(S.expirationTime>H&&N());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,V=S.priorityLevel;var Ht=Lt(S.expirationTime<=H);if(H=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,jt(H),tt=!0;break e}S===i(v)&&a(v),jt(H)}else a(v);S=i(v)}if(S!==null)tt=!0;else{var M=i(y);M!==null&&we(Jt,M.startTime-H),tt=!1}}break t}finally{S=null,V=ut,G=!1}tt=void 0}}finally{tt?x():Vt=!1}}}var x;if(typeof dt=="function")x=function(){dt(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=I,x=function(){ie.postMessage(null)}}else x=function(){ht(I,0)};function we(H,tt){D=ht(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return H()}finally{V=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=V;V=H;try{return tt()}finally{V=ut}},r.unstable_scheduleCallback=function(H,tt,ut){var Lt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:tt,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(H.sortIndex=ut,t(y,H),i(v)===null&&H===i(y)&&(W?(_t(D),D=-1):W=!0,we(Jt,ut-Lt))):(H.sortIndex=Ht,t(v,H),J||G||(J=!0,Vt||(Vt=!0,x()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var tt=V;return function(){var ut=V;V=tt;try{return H.apply(this,arguments)}finally{V=ut}}}})(Sd)),Sd}var D_;function lS(){return D_||(D_=1,Ad.exports=oS()),Ad.exports}var bd={exports:{}},Qe={};var N_;function uS(){if(N_)return Qe;N_=1;var r=um();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,A)},Qe.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},Qe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:G}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:V,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Qe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,y){return v(y)},Qe.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var O_;function cS(){if(O_)return bd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=uS(),bd.exports}var V_;function hS(){if(V_)return hl;V_=1;var r=lS(),t=um(),i=cS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case Jt:return"Suspense";case Vt:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var we=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function et(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var it=M(null),pt=M(null),St=M(null),xt=M(null);function Ce(e,n){switch(et(St,n),et(pt,e),et(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(it),et(it,e)}function se(){K(it),K(pt),K(St)}function er(e){e.memoizedState!==null&&et(xt,e);var n=it.current,s=Yy(n,e.type);n!==s&&(et(pt,e),et(it,s))}function Gr(e){pt.current===e&&(K(it),K(pt)),xt.current===e&&(K(xt),al._currentValue=ut)}var Fr,Qr;function $n(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Qr}var ro=!1;function nr(e,n){if(!e||ro)return"";ro=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),k=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===k.length)for(o=C.length-1,h=k.length-1;1<=o&&0<=h&&C[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==k[h]){var q=`
`+C[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return $n("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,Eh=r.unstable_shouldYield,jl=r.unstable_requestPaint,$e=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,uo=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,Th=r.unstable_LowPriority,ql=r.unstable_IdlePriority,Hl=r.log,Gl=r.unstable_setDisableYieldValue,Un=null,Pe=null;function Tn(e){if(typeof Hl=="function"&&Gl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:Ql,Fl=Math.log,Kr=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Fl(e)/Kr|0)|0}var Wn=256,sr=262144,pe=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-ce(s),Q=1<<q;E[q]=0,C[q]=-1;var z=k[q];if(z!==null)for(k[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}s&=~Q}o!==0&&ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ar(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:or(s),(s&(e.suspendedLanes|n))!==0?0:s}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:y_(e.type))}function Pn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var kn=Math.random().toString(36).slice(2),ye="__reactFiber$"+kn,Me="__reactProps$"+kn,ii="__reactContainer$"+kn,Yr="__reactEvents$"+kn,bh="__reactListeners$"+kn,Xl="__reactHandles$"+kn,Zl="__reactResources$"+kn,si="__reactMarker$"+kn;function Xr(e){delete e[ye],delete e[Me],delete e[Yr],delete e[bh],delete e[Xl]}function ri(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=e_(e);e!==null;){if(s=e[ye])return s;e=e_(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[ye]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[si]=!0}var fo=new Set,mo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function Jl(e){return ge.call(yo,e)?!0:ge.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Zr(e,n,s){if(Jl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ur=/[\n"\\]/g;function en(e){return e.replace(ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Jr(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,xe(n)):s!=null?vo(e,g,xe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function $l(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function vo(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Wl(e,n,s){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+xe(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(we(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function $r(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Ao=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function cr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Jr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));Jr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&lr(o)}break t;case"textarea":Wl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var ta=!1;function hs(e,n,s){if(ta)return e(n,s);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(cs!==null||ci!==null)&&(Yu(),cs&&(n=cs,e=ci,ci=cs=null,cr(n),e)))for(n=0;n<e.length;n++)cr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{hr=!1}var hi=null,So=null,fr=null;function bo(){if(fr)return fr;var e,n=So,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return fr=h.slice(e,1<o?1-o:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function jn(){return!1}function ke(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:jn,this.isPropagationStopped=jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ke(Oi),fs=S({},Oi,{view:0,detail:0}),Ro=ke(fs),ds,ea,di,na=S({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,ea=e.screenY-di.screenY):ea=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),wo=ke(na),mr=S({},na,{dataTransfer:0}),nu=ke(mr),iu=S({},fs,{relatedTarget:0}),gr=ke(iu),Co=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),su=ke(Co),ia=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=ke(ia),au=S({},Oi,{data:0}),mi=ke(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function ms(){return cu}var We=S({},fs,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=ke(We),fu=S({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ke(fu),u=S({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ke(u),_=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(_),L=S({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(L),$=S({},Oi,{newState:0,oldState:0}),Tt=ke($),he=[9,13,27,32],zt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var Rn=bn&&"TextEvent"in window&&!re,gi=bn&&(!zt||re&&8<re&&11>=re),qn=" ",Hn=!1;function pr(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function I0(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function D0(e,n){if(ra)return e==="compositionend"||!zt&&pr(e,n)?(e=bo(),fr=So=hi=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var N0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!N0[e.type]:n==="textarea"}function rg(e,n,s,o){cs?ci?ci.push(o):ci=[o]:cs=o,n=ec(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Io=null,Do=null;function O0(e){jy(e,0)}function du(e){var n=hn(e);if(lr(n))return e}function ag(e,n){if(e==="change")return n}var og=!1;if(bn){var Rh;if(bn){var wh="oninput"in document;if(!wh){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),wh=typeof lg.oninput=="function"}Rh=wh}else Rh=!1;og=Rh&&(!document.documentMode||9<document.documentMode)}function ug(){Io&&(Io.detachEvent("onpropertychange",cg),Do=Io=null)}function cg(e){if(e.propertyName==="value"&&du(Do)){var n=[];rg(n,Do,e,Sn(e)),hs(O0,n)}}function V0(e,n,s){e==="focusin"?(ug(),Io=n,Do=s,Io.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function M0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Do)}function x0(e,n){if(e==="click")return du(n)}function U0(e,n){if(e==="input"||e==="change")return du(n)}function L0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:L0;function No(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ge.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,n){var s=hg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=hg(s)}}function dg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var P0=bn&&"documentMode"in document&&11>=document.documentMode,aa=null,Ih=null,Oo=null,Dh=!1;function gg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dh||aa==null||aa!==ui(o)||(o=aa,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=ec(Ih,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=aa)))}function yr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Nh={},pg={};bn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function _r(e){if(Nh[e])return Nh[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in pg)return Nh[e]=n[s];return e}var yg=_r("animationend"),_g=_r("animationiteration"),vg=_r("animationstart"),k0=_r("transitionrun"),z0=_r("transitionstart"),B0=_r("transitioncancel"),Eg=_r("transitionend"),Tg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Gn(e,n){Tg.set(e,n),oi(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],la=0,Vh=0;function gu(){for(var e=la,n=Vh=la=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ag(s,h,f)}}function pu(e,n,s,o){wn[la++]=e,wn[la++]=n,wn[la++]=s,wn[la++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,s,o){return pu(e,n,s,o),yu(e)}function vr(e,n){return pu(e,null,null,n),yu(e)}function Ag(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Wo)throw Wo=0,Hf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function j0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new j0(e,n,s,o)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Sg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")xh(e)&&(g=1);else if(typeof e=="string")g=QA(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=mn(31,s,n,h),e.elementType=b,e.lanes=f,e;case W:return Er(s.children,h,f,n);case Z:g=8,h|=24;break;case ht:return e=mn(12,s,n,h|2),e.elementType=ht,e.lanes=f,e;case Jt:return e=mn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case Vt:return e=mn(19,s,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case _t:g=9;break t;case jt:g=11;break t;case D:g=14;break t;case R:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Er(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Uh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function bg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rg=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=Rg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},Rg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ca=[],ha=0,vu=null,Vo=0,In=[],Dn=0,gs=null,pi=1,yi="";function xi(e,n){ca[ha++]=Vo,ca[ha++]=vu,vu=e,Vo=n}function wg(e,n,s){In[Dn++]=pi,In[Dn++]=yi,In[Dn++]=gs,gs=e;var o=pi;e=yi;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-ce(n)+h|s<<h|o,yi=f+e}else pi=1<<f|s<<h|o,yi=e}function Ph(e){e.return!==null&&(xi(e,1),wg(e,1,0))}function kh(e){for(;e===vu;)vu=ca[--ha],ca[ha]=null,Vo=ca[--ha],ca[ha]=null;for(;e===gs;)gs=In[--Dn],In[Dn]=null,yi=In[--Dn],In[Dn]=null,pi=In[--Dn],In[Dn]=null}function Cg(e,n){In[Dn++]=pi,In[Dn++]=yi,In[Dn++]=gs,pi=n.id,yi=n.overflow,gs=e}var ze=null,Wt=null,Mt=!1,ps=null,Nn=!1,zh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Cn(n,e)),zh}function Ig(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)wt(el[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),$l(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Fy(n.textContent,s)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||ys(e,!0)}function Dg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ze=ze.return}}function fa(e){if(e!==ze)return!1;if(!Mt)return Dg(e),Mt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||sd(e.type,e.memoizedProps)),s=!s),s&&Wt&&ys(e),Dg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=t_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=t_(e)}else n===27?(n=Wt,Os(e.type)?(e=ud,ud=null,Wt=e):Wt=n):Wt=ze?Vn(e.stateNode.nextSibling):null;return!0}function Tr(){Wt=ze=null,Mt=!1}function Bh(){var e=ps;return e!==null&&(on===null?on=e:on.push.apply(on,e),ps=null),e}function Mo(e){ps===null?ps=[e]:ps.push(e)}var jh=M(null),Ar=null,Ui=null;function _s(e,n,s){et(jh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=jh.current,K(jh)}function qh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Hh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),qh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),qh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function da(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Hh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Ar=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Ng(Ar,e)}function Tu(e,n){return Ar===null&&Sr(e),Ng(e,n)}function Ng(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var q0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},H0=r.unstable_scheduleCallback,G0=r.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new q0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&H0(G0,function(){e.controller.abort()})}var Uo=null,Fh=0,ma=0,ga=null;function F0(e,n){if(Uo===null){var s=Uo=[];Fh=0,ma=Xf(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fh++,n.then(Og,Og),n}function Og(){if(--Fh===0&&Uo!==null){ga!==null&&(ga.status="fulfilled");var e=Uo;Uo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Q0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Vg=H.S;H.S=function(e,n){gy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&F0(e,n),Vg!==null&&Vg(e,n)};var br=M(null);function Qh(){var e=br.current;return e!==null?e:$t.pooledCache}function Au(e,n){n===null?et(br,br.current):et(br,n.pool)}function Mg(){var e=Qh();return e===null?null:{parent:Ee._currentValue,pool:e}}var pa=Error(a(460)),Kh=Error(a(474)),Su=Error(a(542)),bu={then:function(){}};function xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ug(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e}throw wr=n,pa}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,pa):s}}var wr=null;function Lg(){if(wr===null)throw Error(a(459));var e=wr;return wr=null,e}function Pg(e){if(e===pa||e===Su)throw Error(a(483))}var ya=null,Lo=0;function Ru(e){var n=Lo;return Lo+=1,ya===null&&(ya=[]),Ug(ya,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kg(e){function n(U,O){if(e){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Mi(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,P,F){return O===null||O.tag!==6?(O=Uh(P,U.mode,F),O.return=U,O):(O=h(O,P),O.return=U,O)}function C(U,O,P,F){var lt=P.type;return lt===W?q(U,O,P.props.children,F,P.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Rr(lt)===O.type)?(O=h(O,P.props),Po(O,P),O.return=U,O):(O=_u(P.type,P.key,P.props,null,U.mode,F),Po(O,P),O.return=U,O)}function k(U,O,P,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Lh(P,U.mode,F),O.return=U,O):(O=h(O,P.children||[]),O.return=U,O)}function q(U,O,P,F,lt){return O===null||O.tag!==7?(O=Er(P,U.mode,F,lt),O.return=U,O):(O=h(O,P),O.return=U,O)}function Q(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Uh(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=_u(O.type,O.key,O.props,null,U.mode,P),Po(P,O),P.return=U,P;case J:return O=Lh(O,U.mode,P),O.return=U,O;case R:return O=Rr(O),Q(U,O,P)}if(we(O)||x(O))return O=Er(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return Q(U,Ru(O),P);if(O.$$typeof===dt)return Q(U,Tu(U,O),P);wu(U,O)}return null}function z(U,O,P,F){var lt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:E(U,O,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===lt?C(U,O,P,F):null;case J:return P.key===lt?k(U,O,P,F):null;case R:return P=Rr(P),z(U,O,P,F)}if(we(P)||x(P))return lt!==null?null:q(U,O,P,F,null);if(typeof P.then=="function")return z(U,O,Ru(P),F);if(P.$$typeof===dt)return z(U,O,Tu(U,P),F);wu(U,P)}return null}function j(U,O,P,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(O,U,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?P:F.key)||null,C(O,U,F,lt);case J:return U=U.get(F.key===null?P:F.key)||null,k(O,U,F,lt);case R:return F=Rr(F),j(U,O,P,F,lt)}if(we(F)||x(F))return U=U.get(P)||null,q(O,U,F,lt,null);if(typeof F.then=="function")return j(U,O,P,Ru(F),lt);if(F.$$typeof===dt)return j(U,O,P,Tu(O,F),lt);wu(O,F)}return null}function st(U,O,P,F){for(var lt=null,Pt=null,at=O,bt=O=0,It=null;at!==null&&bt<P.length;bt++){at.index>bt?(It=at,at=null):It=at.sibling;var kt=z(U,at,P[bt],F);if(kt===null){at===null&&(at=It);break}e&&at&&kt.alternate===null&&n(U,at),O=f(kt,O,bt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt,at=It}if(bt===P.length)return s(U,at),Mt&&xi(U,bt),lt;if(at===null){for(;bt<P.length;bt++)at=Q(U,P[bt],F),at!==null&&(O=f(at,O,bt),Pt===null?lt=at:Pt.sibling=at,Pt=at);return Mt&&xi(U,bt),lt}for(at=o(at);bt<P.length;bt++)It=j(at,U,bt,P[bt],F),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?bt:It.key),O=f(It,O,bt),Pt===null?lt=It:Pt.sibling=It,Pt=It);return e&&at.forEach(function(Ls){return n(U,Ls)}),Mt&&xi(U,bt),lt}function ft(U,O,P,F){if(P==null)throw Error(a(151));for(var lt=null,Pt=null,at=O,bt=O=0,It=null,kt=P.next();at!==null&&!kt.done;bt++,kt=P.next()){at.index>bt?(It=at,at=null):It=at.sibling;var Ls=z(U,at,kt.value,F);if(Ls===null){at===null&&(at=It);break}e&&at&&Ls.alternate===null&&n(U,at),O=f(Ls,O,bt),Pt===null?lt=Ls:Pt.sibling=Ls,Pt=Ls,at=It}if(kt.done)return s(U,at),Mt&&xi(U,bt),lt;if(at===null){for(;!kt.done;bt++,kt=P.next())kt=Q(U,kt.value,F),kt!==null&&(O=f(kt,O,bt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt);return Mt&&xi(U,bt),lt}for(at=o(at);!kt.done;bt++,kt=P.next())kt=j(at,U,bt,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&at.delete(kt.key===null?bt:kt.key),O=f(kt,O,bt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt);return e&&at.forEach(function(iS){return n(U,iS)}),Mt&&xi(U,bt),lt}function Zt(U,O,P,F){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var lt=P.key;O!==null;){if(O.key===lt){if(lt=P.type,lt===W){if(O.tag===7){s(U,O.sibling),F=h(O,P.props.children),F.return=U,U=F;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Rr(lt)===O.type){s(U,O.sibling),F=h(O,P.props),Po(F,P),F.return=U,U=F;break t}s(U,O);break}else n(U,O);O=O.sibling}P.type===W?(F=Er(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=_u(P.type,P.key,P.props,null,U.mode,F),Po(F,P),F.return=U,U=F)}return g(U);case J:t:{for(lt=P.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(U,O.sibling),F=h(O,P.children||[]),F.return=U,U=F;break t}else{s(U,O);break}else n(U,O);O=O.sibling}F=Lh(P,U.mode,F),F.return=U,U=F}return g(U);case R:return P=Rr(P),Zt(U,O,P,F)}if(we(P))return st(U,O,P,F);if(x(P)){if(lt=x(P),typeof lt!="function")throw Error(a(150));return P=lt.call(P),ft(U,O,P,F)}if(typeof P.then=="function")return Zt(U,O,Ru(P),F);if(P.$$typeof===dt)return Zt(U,O,Tu(U,P),F);wu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(U,O.sibling),F=h(O,P),F.return=U,U=F):(s(U,O),F=Uh(P,U.mode,F),F.return=U,U=F),g(U)):s(U,O)}return function(U,O,P,F){try{Lo=0;var lt=Zt(U,O,P,F);return ya=null,lt}catch(at){if(at===pa||at===Su)throw at;var Pt=mn(29,at,null,U.mode);return Pt.lanes=F,Pt.return=U,Pt}finally{}}}var Cr=kg(!0),zg=kg(!1),vs=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=yu(e),Ag(e,null,s),n}return pu(e,o,n,s),yu(e)}function ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Zh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Jh=!1;function zo(){if(Jh){var e=ga;if(e!==null)throw e}}function Bo(e,n,s,o){Jh=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,k=C.next;C.next=null,g===null?f=k:g.next=k,g=C;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=k:E.next=k,q.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;g=0,q=k=C=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Ct&z)===z:(o&z)===z){z!==0&&z===ma&&(Jh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ft=E;z=n;var Zt=s;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){Q=st.call(Zt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,z=typeof st=="function"?st.call(Zt,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:vs=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(k=q=j,C=Q):q=q.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);q===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),ws|=g,e.lanes=g,e.memoizedState=Q}}function Bg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Bg(s[e],n)}var _a=M(null),Cu=M(0);function qg(e,n){e=Fi,et(Cu,e),et(_a,n),Fi=e|n.baseLanes}function $h(){et(Cu,Fi),et(_a,_a.current)}function Wh(){Fi=Cu.current,K(_a),K(Cu)}var gn=M(null),On=null;function As(e){var n=e.alternate;et(fe,fe.current&1),et(gn,e),On===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(On=e)}function tf(e){et(fe,fe.current),et(gn,e),On===null&&(On=e)}function Hg(e){e.tag===22?(et(fe,fe.current),et(gn,e),On===null&&(On=e)):Ss()}function Ss(){et(fe,fe.current),et(gn,gn.current)}function pn(e){K(gn),On===e&&(On=null),K(fe)}var fe=M(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||od(s)||ld(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Yt=null,Te=null,Du=!1,va=!1,Ir=!1,Nu=0,jo=0,Ea=null,K0=0;function le(){throw Error(a(321))}function ef(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function nf(e,n,s,o,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?wp:_f,Ir=!1,f=s(o,h),Ir=!1,va&&(f=Fg(n,s,o,h)),Gg(e),f}function Gg(e){H.H=Go;var n=Yt!==null&&Yt.next!==null;if(Pi=0,Te=Yt=At=null,Du=!1,jo=0,Ea=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Eu(e)&&(Ae=!0))}function Fg(e,n,s,o){At=e;var h=0;do{if(va&&(Ea=null),jo=0,va=!1,25<=h)throw Error(a(301));if(h+=1,Te=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Cp,f=n(s,o)}while(va);return f}function Y0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function sf(){var e=Nu!==0;return Nu=0,e}function rf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function af(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}Pi=0,Te=Yt=At=null,va=!1,jo=Nu=0,Ea=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?At.memoizedState=Te=e:Te=Te.next=e}return Te}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),e=Ug(Ea,e,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?wp:_f),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===dt)return Be(e)}throw Error(a(438,String(e)))}function of(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ou(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=N;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=de();return lf(n,Yt,e)}function lf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,k=n,q=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(Ct&Q)===Q:(Pi&Q)===Q){var z=k.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===ma&&(q=!0);else if((Pi&z)===z){k=k.next,z===ma&&(q=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,At.lanes|=z,ws|=z;Q=k.action,Ir&&s(f,Q),f=k.hasEagerState?k.eagerState:s(f,Q)}else z={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,At.lanes|=Q,ws|=Q;k=k.next}while(k!==null&&k!==n);if(C===null?g=f:C.next=E,!dn(f,e.memoizedState)&&(Ae=!0,q&&(s=ga,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=de(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Qg(e,n,s){var o=At,h=de(),f=Mt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!dn((Yt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ae=!0),h=h.queue,ff(Xg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Yg.bind(null,o,h,s,n),null),$t===null)throw Error(a(349));f||(Pi&127)!==0||Kg(o,n,s)}return s}function Kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Ou(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Yg(e,n,s,o){n.value=s,n.getSnapshot=o,Zg(n)&&Jg(e)}function Xg(e,n,s){return s(function(){Zg(n)&&Jg(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Jg(e){var n=vr(e,2);n!==null&&ln(n,e,2)}function cf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Ir){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function $g(e,n,s,o){return e.baseState=s,lf(e,Yt,typeof o=="function"?o:ki)}function X0(e,n,s,o,h){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Wg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Wg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),C=H.S;C!==null&&C(g,E),tp(e,n,E)}catch(k){hf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),tp(e,n,f)}catch(k){hf(e,n,k)}}function tp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ep(e,n,o)},function(o){return hf(e,n,o)}):ep(e,n,s)}function ep(e,n,s){n.status="fulfilled",n.value=s,np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Wg(e,s)))}function hf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,np(n),n=n.next;while(n!==o)}e.action=null}function np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function sp(e,n){if(Mt){var s=$t.formState;if(s!==null){t:{var o=At;if(Mt){if(Wt){e:{for(var h=Wt,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Vn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},s.queue=o,s=Sp.bind(null,At,o),o.dispatch=s,o=cf(!1),f=yf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=X0.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function rp(e){var n=de();return ap(n,Yt,e)}function ap(e,n,s){if(n=lf(e,n,ip)[0],e=Mu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===pa?Su:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Ta(9,{destroy:void 0},Z0.bind(null,h,s),null)),[o,f,e]}function Z0(e,n){e.action=n}function op(e){var n=de(),s=Yt;if(s!==null)return ap(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ta(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Ou(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function lp(){return de().memoizedState}function xu(e,n,s,o){var h=tn();At.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},s,o===void 0?null:o)}function Uu(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&ef(o,Yt.memoizedState.deps)?h.memoizedState=Ta(n,f,s,o):(At.flags|=e,h.memoizedState=Ta(1|n,f,s,o))}function up(e,n){xu(8390656,8,e,n)}function ff(e,n){Uu(2048,8,e,n)}function J0(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Ou(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function cp(e){var n=de().memoizedState;return J0({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function hp(e,n){return Uu(4,2,e,n)}function fp(e,n){return Uu(4,4,e,n)}function dp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mp(e,n,s){s=s!=null?s.concat([e]):null,Uu(4,4,dp.bind(null,n,e),s)}function df(){}function gp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function pp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),Ir){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function mf(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=yy(),At.lanes|=e,ws|=e,s)}function yp(e,n,s,o){return dn(s,n)?s:_a.current!==null?(e=mf(e,s,o),dn(e,n)||(Ae=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Ct&261930)===0?(Ae=!0,e.memoizedState=s):(e=yy(),At.lanes|=e,ws|=e,n)}function _p(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,yf(e,!1,n,s);try{var C=h(),k=H.S;if(k!==null&&k(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var q=Q0(C,o);Ho(e,n,q,vn(e))}else Ho(e,n,o,vn(e))}catch(Q){Ho(e,n,{then:function(){},status:"rejected",reason:Q},vn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function $0(){}function gf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=vp(e).queue;_p(e,h,n,ut,s===null?$0:function(){return Ep(e),s(o)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ep(e){var n=vp(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},vn())}function pf(){return Be(al)}function Tp(){return de().memoizedState}function Ap(){return de().memoizedState}function W0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=Es(s);var o=Ts(n,e,s);o!==null&&(ln(o,n,s),ko(o,n,s)),n={cache:Gh()},e.payload=n;return}n=n.return}}function tA(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(e)?bp(n,s):(s=Mh(e,n,s,o),s!==null&&(ln(s,e,o),Rp(s,n,o)))}function Sp(e,n,s){var o=vn();Ho(e,n,s,o)}function Ho(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return pu(e,n,h,0),$t===null&&gu(),!1}catch{}finally{}if(s=Mh(e,n,h,o),s!==null)return ln(s,e,o),Rp(s,n,o),!0}return!1}function yf(e,n,s,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=Mh(e,s,o,2),n!==null&&ln(n,e,2)}function Lu(e){var n=e.alternate;return e===At||n!==null&&n===At}function bp(e,n){va=Du=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Rp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Go={readContext:Be,use:Vu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Go.useEffectEvent=le;var wp={readContext:Be,use:Vu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:up,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,xu(4194308,4,dp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Ir){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Ir){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=tA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,s=Sp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:df,useDeferredValue:function(e,n){var s=tn();return mf(s,e,n)},useTransition:function(){var e=cf(!1);return e=_p.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=tn();if(Mt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$t===null)throw Error(a(349));(Ct&127)!==0||Kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,up(Xg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Yg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=$t.identifierPrefix;if(Mt){var s=yi,o=pi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=K0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:sp,useActionState:sp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=yf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return tn().memoizedState=W0.bind(null,At)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},_f={readContext:Be,use:Vu,useCallback:gp,useContext:Be,useEffect:ff,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:Mu,useRef:lp,useState:function(){return Mu(ki)},useDebugValue:df,useDeferredValue:function(e,n){var s=de();return yp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=Mu(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:pf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var s=de();return $g(s,Yt,e,n)},useMemoCache:of,useCacheRefresh:Ap};_f.useEffectEvent=cp;var Cp={readContext:Be,use:Vu,useCallback:gp,useContext:Be,useEffect:ff,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:uf,useRef:lp,useState:function(){return uf(ki)},useDebugValue:df,useDeferredValue:function(e,n){var s=de();return Yt===null?mf(s,e,n):yp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=uf(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:pf,useFormState:op,useActionState:op,useOptimistic:function(e,n){var s=de();return Yt!==null?$g(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:of,useCacheRefresh:Ap};Cp.useEffectEvent=cp;function vf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ef={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=Es(o);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(ln(n,e,o),ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=Es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(ln(n,e,o),ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(ln(n,e,s),ko(n,e,s))}};function Ip(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!No(s,o)||!No(h,f):!0}function Dp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Ef.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Np(e){mu(e)}function Op(e){console.error(e)}function Vp(e){mu(e)}function Pu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Mp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){Pu(e,n)},s}function xp(e){return e=Es(e),e.tag=3,e}function Up(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Mp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Mp(n,s,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function eA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&da(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Xu():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Qf(e,o,h)),!1;case 22:return s.flags|=65536,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Qf(e,o,h)),!1}throw Error(a(435,s.tag))}return Qf(e,o,h),Xu(),!1}if(Mt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(a(422),{cause:o}),Mo(Cn(e,s)))):(o!==zh&&(n=Error(a(423),{cause:o}),Mo(Cn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,s),h=Tf(e.stateNode,o,h),Zh(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,s),$o===null?$o=[f]:$o.push(f),ue!==4&&(ue=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Tf(s.stateNode,o,e),Zh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=xp(h),Up(h,e,s,o),Zh(s,h),!1}s=s.return}while(s!==null);return!1}var Af=Error(a(461)),Ae=!1;function je(e,n,s,o){n.child=e===null?zg(n,null,s,o):Cr(n,e.child,s,o)}function Lp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Sr(n),o=nf(e,n,s,g,f,h),E=sf(),e!==null&&!Ae?(rf(e,n,h),zi(e,n,h)):(Mt&&E&&Ph(n),n.flags|=1,je(e,n,o,h),n.child)}function Pp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,kp(e,n,f,o,h)):(e=_u(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function kp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Sf(e,n,s,o,h)}function zp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Bp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?qg(n,f):$h(),Hg(n);else return o=n.lanes=536870912,Bp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Au(n,f.cachePool),qg(n,f),Ss(),n.memoizedState=null):(e!==null&&Au(n,null),$h(),Ss());return je(e,n,h,s),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(e,n,s,o,h){var f=Qh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Au(n,null),$h(),Hg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function ku(e,n){return n=Bu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jp(e,n,s){return Cr(n,e.child,null,s),e=ku(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function nA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=ku(n,o),n.lanes=536870912,Fo(null,e);if(tf(n),(e=Wt)?(e=Wy(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,ze=n,Wt=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(tf(n),h)if(n.flags&256)n.flags&=-257,n=jp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||da(e,n,s,!1),h=(s&e.childLanes)!==0,Ae||h){if(o=$t,o!==null&&(g=ho(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,vr(e,g),ln(o,e,g),Af;Xu(),n=jp(e,n,s)}else e=f.treeContext,Wt=Vn(g.nextSibling),ze=n,Mt=!0,ps=null,Nn=!1,e!==null&&Cg(n,e),n=ku(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Sf(e,n,s,o,h){return Sr(n),s=nf(e,n,s,o,void 0,h),o=sf(),e!==null&&!Ae?(rf(e,n,h),zi(e,n,h)):(Mt&&o&&Ph(n),n.flags|=1,je(e,n,s,h),n.child)}function qp(e,n,s,o,h,f){return Sr(n),n.updateQueue=null,s=Fg(n,o,s,h),Gg(e),o=sf(),e!==null&&!Ae?(rf(e,n,f),zi(e,n,f)):(Mt&&o&&Ph(n),n.flags|=1,je(e,n,s,f),n.child)}function Hp(e,n,s,o,h){if(Sr(n),n.stateNode===null){var f=ua,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ua,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(vf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ef.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Dr(s,E);f.props=C;var k=f.context,q=s.contextType;g=ua,typeof q=="object"&&q!==null&&(g=Be(q));var Q=s.getDerivedStateFromProps;q=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Dp(n,f,o,g),vs=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,h),zo(),k=n.memoizedState,E||z!==k||vs?(typeof Q=="function"&&(vf(n,s,Q,o),k=n.memoizedState),(C=vs||Ip(n,s,C,o,z,k,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),g=n.memoizedProps,q=Dr(s,g),f.props=q,Q=n.pendingProps,z=f.context,k=s.contextType,C=ua,typeof k=="object"&&k!==null&&(C=Be(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==C)&&Dp(n,f,o,C),vs=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,h),zo();var j=n.memoizedState;g!==Q||z!==j||vs||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(vf(n,s,E,o),j=n.memoizedState),(q=vs||Ip(n,s,q,o,z,j,C)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=C,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cr(n,e.child,null,h),n.child=Cr(n,null,s,h)):je(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Gp(e,n,s,o){return Tr(),n.flags|=256,je(e,n,s,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Mg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Fp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?As(n):Ss(),(e=Wt)?(e=Wy(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,ze=n,Wt=null)):e=null,e===null)throw ys(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=Bu({mode:"hidden",children:E},h),o=Er(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(s),o.childLanes=wf(e,g,s),n.memoizedState=bf,Fo(null,o)):(As(n),Cf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=If(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=Bu({mode:"visible",children:o.children},h),E=Er(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cr(n,e.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=wf(e,g,s),n.memoizedState=bf,n=Fo(null,o));else if(As(n),ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(a(419)),o.stack="",o.digest=g,Mo({value:o,source:null,stack:null}),n=If(e,n,s)}else if(Ae||da(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=$t,g!==null&&(o=ho(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,vr(e,o),ln(g,e,o),Af;od(E)||Xu(),n=If(e,n,s)}else od(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Wt=Vn(E.nextSibling),ze=n,Mt=!0,ps=null,Nn=!1,e!==null&&Cg(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,C=e.child,k=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,k!==null?E=Mi(k,E):(E=Er(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(s):(h=E.cachePool,h!==null?(C=Ee._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Mg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,g,s),n.memoizedState=bf,Fo(e.child,o)):(As(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Cf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function If(e,n,s){return Cr(n,e.child,null,s),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qh(e.return,n,s)}function Df(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(fe,g),je(e,n,o,s),o=Mt?Vo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,s,n);else if(e.tag===19)Qp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Iu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Df(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Iu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Df(n,!0,s,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function iA(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),_s(n,Ee,e.memoizedState.cache),Tr();break;case 27:case 5:er(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fp(e,n,s):(As(n),e=zi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(da(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(fe,fe.current),o)break;return null;case 22:return n.lanes=0,zp(e,n,s,n.pendingProps);case 24:_s(n,Ee,e.memoizedState.cache)}return zi(e,n,s)}function Yp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Nf(e,s)&&(n.flags&128)===0)return Ae=!1,iA(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,Mt&&(n.flags&1048576)!==0&&wg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")xh(e)?(o=Dr(e,o),n.tag=1,n=Hp(null,n,e,o,s)):(n.tag=0,n=Sf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===jt){n.tag=11,n=Lp(null,n,e,o,s);break t}else if(h===D){n.tag=14,n=Pp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Dr(o,n.pendingProps),Hp(e,n,o,h,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Xh(e,n),Bo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_s(n,Ee,o),o!==f.cache&&Hh(n,[Ee],s,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gp(e,n,o,s);break t}else if(o!==h){h=Cn(Error(a(424)),n),Mo(h),n=Gp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=Vn(e.firstChild),ze=n,Mt=!0,ps=null,Nn=!0,s=zg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Tr(),o===h){n=zi(e,n,s);break t}je(e,n,o,s)}n=n.child}return n;case 26:return zu(e,n),e===null?(s=r_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,e=n.pendingProps,o=nc(St.current).createElement(s),o[ye]=n,o[Me]=e,qe(o,s,e),_e(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&Mt&&(o=n.stateNode=n_(n.type,n.pendingProps,St.current),ze=n,Nn=!0,h=Wt,Os(n.type)?(ud=h,Wt=Vn(o.firstChild)):Wt=h),je(e,n,n.pendingProps.children,s),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=Wt)&&(o=MA(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,ze=n,Wt=Vn(o.firstChild),Nn=!1,h=!0):h=!1),h||ys(n)),er(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,sd(h,f)?o=null:g!==null&&sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=nf(e,n,Y0,null,null,s),al._currentValue=h),zu(e,n),je(e,n,o,s),n.child;case 6:return e===null&&Mt&&((e=s=Wt)&&(s=xA(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,ze=n,Wt=null,e=!0):e=!1),e||ys(n)),null;case 13:return Fp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cr(n,null,o,s):je(e,n,o,s),n.child;case 11:return Lp(e,n,n.type,n.pendingProps,s);case 7:return je(e,n,n.pendingProps,s),n.child;case 8:return je(e,n,n.pendingProps.children,s),n.child;case 12:return je(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),je(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Sr(n),h=Be(h),o=o(h),n.flags|=1,je(e,n,o,s),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,s);case 15:return kp(e,n,n.type,n.pendingProps,s);case 19:return Kp(e,n,s);case 31:return nA(e,n,s);case 22:return zp(e,n,s,n.pendingProps);case 24:return Sr(n),o=Be(Ee),e===null?(h=Qh(),h===null&&(h=$t,f=Gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Yh(n),_s(n,Ee,h)):((e.lanes&s)!==0&&(Xh(e,n),Bo(n,null,null,s),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Ee,o)):(o=f.cache,_s(n,Ee,o),o!==h.cache&&Hh(n,[Ee],s,!0))),je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Of(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw wr=bu,Kh}else e.flags&=-16777217}function Xp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(n))if(Ty())e.flags|=8192;else throw wr=bu,Kh}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,Ra|=n)}function Qo(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function sA(e,n,s){var o=n.pendingProps;switch(kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(te(n),Xp(n,f)):(te(n),Of(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),te(n),Xp(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),te(n),Of(n,h,e,o,s)),null;case 27:if(Gr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}e=it.current,fa(n)?Ig(n):(e=n_(h,o,s),n.stateNode=e,Bi(n))}return te(n),null;case 5:if(Gr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(f=it.current,fa(n))Ig(n);else{var g=nc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return te(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,fa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,s)),e||ys(n,!0)}else e=nc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ju(n,n.updateQueue),te(n),null);case 4:return se(),e===null&&Wf(n.stateNode.containerInfo),te(n),null;case 10:return Li(n.type),te(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Sg(s,e),s=s.sibling;return et(fe,fe.current&1|2),Mt&&xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Qu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Iu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return te(n),null}else 2*$e()-o.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=fe.current,et(fe,h?s&1|2:s&1),Mt&&xi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return pn(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(br),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function rA(e,n){switch(kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return pn(n),Wh(),e!==null&&K(br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function Zp(e,n){switch(kh(n),n.tag){case 3:Li(Ee),se();break;case 26:case 27:case 5:Gr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(fe);break;case 10:Li(n.type);break;case 22:case 23:pn(n),Wh(),e!==null&&K(br);break;case 24:Li(Ee)}}function Ko(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function bs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,k=E;try{k()}catch(q){Qt(h,C,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{jg(n,s)}catch(o){Qt(e,e.return,o)}}}function $p(e,n,s){s.props=Dr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Yo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function Wp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function Vf(e,n,s){try{var o=e.stateNode;CA(o,e.type,s,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(xf(e,n,s),e=e.sibling;e!==null;)xf(e,n,s),e=e.sibling}function qu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,o,s),n[ye]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var ji=!1,Se=!1,Uf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function aA(e,n){if(e=e.containerInfo,nd=uc,e=mg(e),Ch(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,k=0,q=0,Q=e,z=null;e:for(;;){for(var j;Q!==s||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===s&&++k===h&&(E=g),z===f&&++q===o&&(C=g),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(id={focusedElem:e,selectionRange:s},uc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var st=Dr(s.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ad(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function iy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Ko(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Dr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&Jp(s),o&512&&Yo(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{jg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&ey(s);case 26:case 5:Hi(e,s),n===null&&o&4&&Wp(s),o&512&&Yo(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&ay(e,s);break;case 13:Hi(e,s),o&4&&oy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=gA.bind(null,s),UA(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||Se,h=ji;var f=Se;ji=o,(Se=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),ji=h,Se=f}break;case 30:break;default:Hi(e,s)}}function sy(e){var n=e.alternate;n!==null&&(e.alternate=null,sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function qi(e,n,s){for(s=s.child;s!==null;)ry(e,n,s),s=s.sibling}function ry(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:Se||_i(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||_i(s,n);var o=ae,h=sn;Os(s.type)&&(ae=s.stateNode,sn=!1),qi(e,n,s),il(s.stateNode),ae=o,sn=h;break;case 5:Se||_i(s,n);case 6:if(o=ae,h=sn,ae=null,qi(e,n,s),ae=o,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(sn?(e=ae,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):Jy(ae,s.stateNode));break;case 4:o=ae,h=sn,ae=s.stateNode.containerInfo,sn=!0,qi(e,n,s),ae=o,sn=h;break;case 0:case 11:case 14:case 15:bs(2,s,n),Se||bs(4,s,n),qi(e,n,s);break;case 1:Se||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&$p(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,qi(e,n,s),Se=o;break;default:qi(e,n,s)}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){Qt(n,n.return,s)}}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){Qt(n,n.return,s)}}function oA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ny),n;default:throw Error(a(435,e.tag))}}function Hu(e,n){var s=oA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=pA.bind(null,e,o);o.then(h,h)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ae=E.stateNode,sn=!1;break t}break;case 5:ae=E.stateNode,sn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ry(f,g,h),ae=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ly(n,e),n=n.sibling}var Fn=null;function ly(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(bs(3,e,e.return),Ko(3,e),bs(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(Se||s===null||_i(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Fn;if(rn(n,e),an(e),o&512&&(Se||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=l_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=l_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else u_(h,e.type,e.stateNode);else e.stateNode=o_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?u_(h,e.type,e.stateNode):o_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(Se||s===null||_i(s,s.return)),s!==null&&o&4&&Vf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(Se||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(st){Qt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(st){Qt(e,e.return,st)}}break;case 3:if(rc=null,h=Fn,Fn=ic(n.containerInfo),rn(n,e),Fn=h,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(st){Qt(e,e.return,st)}Uf&&(Uf=!1,uy(e));break;case 4:o=Fn,Fn=ic(e.stateNode.containerInfo),rn(n,e),an(e),Fn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,k=ji,q=Se;if(ji=k||h,Se=q||C,rn(n,e),Se=q,ji=k,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ji||Se||Nr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Qt(C,C.return,st)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(st){Qt(C,C.return,st)}}}else if(n.tag===18){if(s===null){C=n;try{var j=C.stateNode;h?$y(j,!0):$y(C.stateNode,!1)}catch(st){Qt(C,C.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hu(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ty(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Mf(e);qu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=Mf(e);qu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,k=Mf(e);xf(e,k,C);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),Nr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$p(n,n.return,s),Nr(n);break;case 27:il(n.stateNode);case 26:case 5:_i(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Ko(4,f);break;case 1:if(Gi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Qt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Bg(C[h],E)}catch(k){Qt(o,o.return,k)}}s&&g&64&&Jp(f),Yo(f,f.return);break;case 27:ey(f);case 26:case 5:Gi(h,f,s),s&&o===null&&g&4&&Wp(f),Yo(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&g&4&&ay(h,f);break;case 13:Gi(h,f,s),s&&g&4&&oy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Yo(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function Lf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&xo(s))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cy(e,n,s,o),n=n.sibling}function cy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&Ko(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Xo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Aa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Lf(g,n);break;case 24:Qn(e,n,s,o),h&2048&&Pf(n.alternate,n);break;default:Qn(e,n,s,o)}}function Aa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Aa(f,g,E,C,h),Ko(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Aa(f,g,E,C,h):Xo(f,g):(q._visibility|=2,Aa(f,g,E,C,h)),h&&k&2048&&Lf(g.alternate,g);break;case 24:Aa(f,g,E,C,h),h&&k&2048&&Pf(g.alternate,g);break;default:Aa(f,g,E,C,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&Lf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&Pf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var Zo=8192;function Sa(e,n,s){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)hy(e,n,s),e=e.sibling}function hy(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&Zo&&e.memoizedState!==null&&KA(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Fn;Fn=ic(e.stateNode.containerInfo),Sa(e,n,s),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Sa(e,n,s),Zo=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,my(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&bs(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):Jo(e);break;default:Jo(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,my(o,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function my(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(sy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var lA={getCacheForType:function(e){var n=Be(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ee).controller.signal}},uA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,$t=null,Rt=null,Ct=0,Ft=0,yn=null,Rs=!1,ba=!1,kf=!1,Fi=0,ue=0,ws=0,Or=0,zf=0,_n=0,Ra=0,$o=null,on=null,Bf=!1,Fu=0,gy=0,Qu=1/0,Ku=null,Cs=null,De=0,Is=null,wa=null,Qi=0,jf=0,qf=null,py=null,Wo=0,Hf=null;function vn(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?Xf():Yl()}function yy(){if(_n===0)if((Ct&536870912)===0||Mt){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,s){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Ds(e,Ct,_n,!1)),rr(e,s),((Bt&2)===0||e!==$t)&&(e===$t&&((Bt&2)===0&&(Or|=s),ue===4&&Ds(e,Ct,_n,!1)),vi(e))}function _y(e,n,s){if((Bt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?fA(e,n):Ff(e,n,!0),f=o;do{if(h===0){ba&&!o&&Ds(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!cA(s)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=$o;var C=E.current.memoizedState.isDehydrated;if(C&&(Ca(E,g).flags|=256),g=Ff(E,g,!1),g!==2){if(kf&&!C){E.errorRecoveryDisabledLanes|=f,Or|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Ds(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,_n,!Rs);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Fu+300-$e(),10<h)){if(Ds(o,n,_n,!Rs),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Xy(vy.bind(null,o,s,on,Ku,Bf,n,_n,Or,Ra,Rs,f,"Throttled",-0,0),h);break t}vy(o,s,on,Ku,Bf,n,_n,Or,Ra,Rs,f,null,-0,0)}}break}while(!0);vi(e)}function vy(e,n,s,o,h,f,g,E,C,k,q,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},hy(n,f,Q);var st=(f&62914560)===f?Fu-$e():(f&4194048)===f?gy-$e():0;if(st=YA(Q,st),st!==null){Qi=f,e.cancelPendingCommit=st(Cy.bind(null,e,n,f,s,o,h,g,E,C,q,Q,null,z,j)),Ds(e,f,g,!k);return}}Cy(e,n,f,s,o,h,g,E,C)}function cA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(e,n,s,o){n&=~zf,n&=~Or,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ar(e,s,n)}function Yu(){return(Bt&6)===0?(tl(0),!1):!0}function Gf(){if(Rt!==null){if(Ft===0)var e=Rt.return;else e=Rt,Ui=Ar=null,af(e),ya=null,Lo=0,e=Rt;for(;e!==null;)Zp(e.alternate,e),e=e.return;Rt=null}}function Ca(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,NA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Gf(),$t=e,Rt=s=Mi(e.current,null),Ct=n,Ft=0,yn=null,Rs=!1,ba=Ln(e,n),kf=!1,Ra=_n=zf=Or=ws=ue=0,on=$o=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,gu(),s}function Ey(e,n){At=null,H.H=Go,n===pa||n===Su?(n=Lg(),Ft=3):n===Kh?(n=Lg(),Ft=4):Ft=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Rt===null&&(ue=1,Pu(e,Cn(n,e.current)))}function Ty(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?On===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===On:!1}function Ay(){var e=H.H;return H.H=Go,e===null?Go:e}function Sy(){var e=H.A;return H.A=lA,e}function Xu(){ue=4,Rs||(Ct&4194048)!==Ct&&gn.current!==null||(ba=!0),(ws&134217727)===0&&(Or&134217727)===0||$t===null||Ds($t,Ct,_n,!1)}function Ff(e,n,s){var o=Bt;Bt|=2;var h=Ay(),f=Sy();($t!==e||Ct!==n)&&(Ku=null,Ca(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,C=yn;switch(Ft){case 8:Gf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var k=Ft;if(Ft=0,yn=null,Ia(e,E,C,k),s&&ba){g=0;break t}break;default:k=Ft,Ft=0,yn=null,Ia(e,E,C,k)}}hA(),g=ue;break}catch(q){Ey(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ui=Ar=null,Bt=o,H.H=h,H.A=f,Rt===null&&($t=null,Ct=0,gu()),g}function hA(){for(;Rt!==null;)by(Rt)}function fA(e,n){var s=Bt;Bt|=2;var o=Ay(),h=Sy();$t!==e||Ct!==n?(Ku=null,Qu=$e()+500,Ca(e,n)):ba=Ln(e,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Ia(e,n,f,1);break;case 2:case 9:if(xg(f)){Ft=0,yn=null,Ry(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),vi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:xg(f)?(Ft=0,yn=null,Ry(n)):(Ft=0,yn=null,Ia(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?c_(g):E.stateNode.complete){Ft=0,yn=null;var C=E.sibling;if(C!==null)Rt=C;else{var k=E.return;k!==null?(Rt=k,Zu(k)):Rt=null}break e}}Ft=0,yn=null,Ia(e,n,f,5);break;case 6:Ft=0,yn=null,Ia(e,n,f,6);break;case 8:Gf(),ue=6;break t;default:throw Error(a(462))}}dA();break}catch(q){Ey(e,q)}while(!0);return Ui=Ar=null,H.H=o,H.A=h,Bt=s,Rt!==null?0:($t=null,Ct=0,gu(),ue)}function dA(){for(;Rt!==null&&!Eh();)by(Rt)}function by(e){var n=Yp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Zu(e):Rt=n}function Ry(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=qp(s,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=qp(s,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:af(n);default:Zp(s,n),n=Rt=Sg(n,Fi),n=Yp(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Zu(e):Rt=n}function Ia(e,n,s,o){Ui=Ar=null,af(n),ya=null,Lo=0;var h=n.return;try{if(eA(e,h,n,s,Ct)){ue=1,Pu(e,Cn(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,Pu(e,Cn(s,e.current)),Rt=null;return}n.flags&32768?(Mt||o===1?e=!0:ba||(Ct&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Rs);return}e=n.return;var s=sA(n.alternate,n,Fi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ue===0&&(ue=5)}function wy(e,n){do{var s=rA(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ue=6,Rt=null}function Cy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do Ju();while(De!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vh,Sh(e,s,f,g,E,C),e===$t&&(Rt=$t=null,Ct=0),wa=n,Is=e,Qi=s,jf=f,qf=h,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yA(rs,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,g=Bt,Bt|=4;try{aA(e,n,s)}finally{Bt=g,tt.p=h,H.T=o}}De=1,Iy(),Dy(),Ny()}}function Iy(){if(De===1){De=0;var e=Is,n=wa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{ly(n,e);var f=id,g=mg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(C!==null&&Ch(E)){var k=C.start,q=C.end;if(q===void 0&&(q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(q,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),st=E.textContent.length,ft=Math.min(C.start,st),Zt=C.end===void 0?ft:Math.min(C.end,st);!j.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var U=fg(E,ft),O=fg(E,Zt);if(U&&O&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var P=Q.createRange();P.setStart(U.node,U.offset),j.removeAllRanges(),ft>Zt?(j.addRange(P),j.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),j.addRange(P))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!nd,id=nd=null}finally{Bt=h,tt.p=o,H.T=s}}e.current=n,De=2}}function Dy(){if(De===2){De=0;var e=Is,n=wa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{iy(e,n.alternate,n)}finally{Bt=h,tt.p=o,H.T=s}}De=3}}function Ny(){if(De===4||De===3){De=0,jl();var e=Is,n=wa,s=Qi,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,wa=Is=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Di(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(Qi&3)!==0&&Ju(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Hf?Wo++:(Wo=0,Hf=e):Wo=0,tl(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Ju(){return Iy(),Dy(),Ny(),Vy()}function Vy(){if(De!==5)return!1;var e=Is,n=jf;jf=0;var s=Di(Qi),o=H.T,h=tt.p;try{tt.p=32>s?32:s,H.T=null,s=qf,qf=null;var f=Is,g=Qi;if(De=0,wa=Is=null,Qi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,dy(f.current),cy(f,f.current,g,s),Bt=E,tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=h,H.T=o,Oy(e,n)}}function My(e,n,s){n=Cn(s,n),n=Tf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(rr(e,2),vi(e))}function Qt(e,n,s){if(e.tag===3)My(e,e,s);else for(;n!==null;){if(n.tag===3){My(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=Cn(s,e),s=xp(2),o=Ts(n,s,2),o!==null&&(Up(s,o,n,e),rr(o,2),vi(o));break}}n=n.return}}function Qf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new uA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(kf=!0,h.add(s),e=mA.bind(null,e,n,s),n.then(e,e))}function mA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Ct&s)===s&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>$e()-Fu?(Bt&2)===0&&Ca(e,0):zf|=s,Ra===Ct&&(Ra=0)),vi(e)}function xy(e,n){n===0&&(n=Kl()),e=vr(e,n),e!==null&&(rr(e,n),vi(e))}function gA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),xy(e,s)}function pA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),xy(e,s)}function yA(e,n){return Ie(e,n)}var $u=null,Da=null,Kf=!1,Wu=!1,Yf=!1,Ns=0;function vi(e){e!==Da&&e.next===null&&(Da===null?$u=Da=e:Da=Da.next=e),Wu=!0,Kf||(Kf=!0,vA())}function tl(e,n){if(!Yf&&Wu){Yf=!0;do for(var s=!1,o=$u;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,ky(o,f))}else f=Ct,f=ei(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,ky(o,f));o=o.next}while(s);Yf=!1}}function _A(){Uy()}function Uy(){Wu=Kf=!1;var e=0;Ns!==0&&DA()&&(e=Ns);for(var n=$e(),s=null,o=$u;o!==null;){var h=o.next,f=Ly(o,n);f===0?(o.next=null,s===null?$u=h:s.next=h,h===null&&(Da=s)):(s=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=h}De!==0&&De!==5||tl(e),Ns!==0&&(Ns=0)}function Ly(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ah(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=Ct,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Di(s)){case 2:case 8:s=uo;break;case 32:s=rs;break;case 268435456:s=ql;break;default:s=rs}return o=Py.bind(null,e),s=Ie(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var o=Ct;return o=ei(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(_y(e,o,n),Ly(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Py.bind(null,e):null)}function ky(e,n){if(Ju())return null;_y(e,n,!0)}function vA(){OA(function(){(Bt&6)!==0?Ie(lo,_A):Uy()})}function Xf(){if(Ns===0){var e=ma;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ns=e}return Ns}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function By(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function EA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=zy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var C=g?By(h,g):new FormData(h);gf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?By(h,g):new FormData(h),gf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Zf=0;Zf<Oh.length;Zf++){var Jf=Oh[Zf],TA=Jf.toLowerCase(),AA=Jf[0].toUpperCase()+Jf.slice(1);Gn(TA,"on"+AA)}Gn(yg,"onAnimationEnd"),Gn(_g,"onAnimationIteration"),Gn(vg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(k0,"onTransitionRun"),Gn(z0,"onTransitionStart"),Gn(B0,"onTransitionCancel"),Gn(Eg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,k=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(q){mu(q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,k=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(q){mu(q)}h.currentTarget=null,f=C}}}}function wt(e,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var o=e+"__bubble";s.has(o)||(qy(n,e,2,!1),s.add(o))}function $f(e,n,s){var o=0;n&&(o|=4),qy(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(s){s!=="selectionchange"&&(SA.has(s)||$f(s,!1,e),$f(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,$f("selectionchange",!1,n))}}function qy(e,n,s,o){switch(y_(n)){case 2:var h=JA;break;case 8:h=$A;break;default:h=md}s=h.bind(null,n,s,e),h=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function td(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}hs(function(){var k=f,q=Sn(s),Q=[];t:{var z=Tg.get(e);if(z!==void 0){var j=fi,st=e;switch(e){case"keypress":if(dr(s)===0)break t;case"keydown":case"keyup":j=hu;break;case"focusin":st="focus",j=gr;break;case"focusout":st="blur",j=gr;break;case"beforeblur":case"afterblur":j=gr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case yg:case _g:case vg:j=su;break;case Eg:j=T;break;case"scroll":case"scrollend":j=Ro;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Vi;break;case"toggle":case"beforetoggle":j=Tt}var ft=(n&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),U=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=k,P;O!==null;){var F=O;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=Bn(O,U),F!=null&&ft.push(nl(O,F,P))),Zt)break;O=O.return}0<ft.length&&(z=new j(z,st,null,s,q),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==Ao&&(st=s.relatedTarget||s.fromElement)&&(ri(st)||st[ii]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(st=s.relatedTarget||s.toElement,j=k,st=st?ri(st):null,st!==null&&(Zt=c(st),ft=st.tag,st!==Zt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(j=null,st=k),j!==st)){if(ft=wo,F="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Vi,F="onPointerLeave",U="onPointerEnter",O="pointer"),Zt=j==null?z:hn(j),P=st==null?z:hn(st),z=new ft(F,O+"leave",j,s,q),z.target=Zt,z.relatedTarget=P,F=null,ri(q)===k&&(ft=new ft(U,O+"enter",st,s,q),ft.target=P,ft.relatedTarget=Zt,F=ft),Zt=F,j&&st)e:{for(ft=bA,U=j,O=st,P=0,F=U;F;F=ft(F))P++;F=0;for(var lt=O;lt;lt=ft(lt))F++;for(;0<P-F;)U=ft(U),P--;for(;0<F-P;)O=ft(O),F--;for(;P--;){if(U===O||O!==null&&U===O.alternate){ft=U;break e}U=ft(U),O=ft(O)}ft=null}else ft=null;j!==null&&Hy(Q,z,j,ft,!1),st!==null&&Zt!==null&&Hy(Q,Zt,st,ft,!0)}}t:{if(z=k?hn(k):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Pt=ag;else if(sg(z))if(og)Pt=U0;else{Pt=M0;var at=V0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&$r(k.elementType)&&(Pt=ag):Pt=x0;if(Pt&&(Pt=Pt(e,k))){rg(Q,Pt,s,q);break t}at&&at(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&vo(z,"number",z.value)}switch(at=k?hn(k):window,e){case"focusin":(sg(at)||at.contentEditable==="true")&&(aa=at,Ih=k,Oo=null);break;case"focusout":Oo=Ih=aa=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,gg(Q,s,q);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":gg(Q,s,q)}var bt;if(zt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else ra?pr(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(gi&&s.locale!=="ko"&&(ra||It!=="onCompositionStart"?It==="onCompositionEnd"&&ra&&(bt=bo()):(hi=q,So="value"in hi?hi.value:hi.textContent,ra=!0)),at=ec(k,It),0<at.length&&(It=new mi(It,e,null,s,q),Q.push({event:It,listeners:at}),bt?It.data=bt:(bt=sa(s),bt!==null&&(It.data=bt)))),(bt=Rn?I0(e,s):D0(e,s))&&(It=ec(k,"onBeforeInput"),0<It.length&&(at=new mi("onBeforeInput","beforeinput",null,s,q),Q.push({event:at,listeners:It}),at.data=bt)),EA(Q,e,k,s,q)}jy(Q,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(nl(e,h,f)),h=Bn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function bA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,k=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||k===null||(C=k,h?(k=Bn(s,f),k!=null&&g.unshift(nl(s,k,C))):h||(k=Bn(s,f),k!=null&&g.push(nl(s,k,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var RA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(RA,`
`).replace(wA,"")}function Fy(e,n){return n=Gy(n),Gy(e)===n}function Xt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),Zr(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,Zr(e,s,o))}}function ed(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zr(e,s,o)}}}function qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),o&&Xt(e,n,"src",s.src,s,null);return;case"input":wt("invalid",e);var E=f=g=h=null,C=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":C=q;break;case"defaultChecked":k=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Xt(e,n,o,q,s,null)}}$l(e,f,E,C,k,g,h,!1);return;case"select":wt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,s,null)}ls(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,C,o,s,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)wt(el[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,k,o,s,null)}return;default:if($r(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&ed(e,n,q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xt(e,n,E,o,s,null))}function CA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,k=null,q=null;for(j in s){var Q=s[j];if(s.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(j)||Xt(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":k=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Q&&Xt(e,n,z,j,o,Q)}}Jr(e,g,E,C,k,q,f,h);return;case"select":j=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Xt(e,n,h,f,o,C)}n=E,s=g,o=j,z!=null?os(e,!!s,z,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}Wl(e,z,j);return;case"option":for(var st in s)if(z=s[st],s.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Xt(e,n,st,null,o,z)}for(C in o)if(z=o[C],j=s[C],o.hasOwnProperty(C)&&z!==j&&(z!=null||j!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,C,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,z);for(k in o)if(z=o[k],j=s[k],o.hasOwnProperty(k)&&z!==j&&(z!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,k,z,o,j)}return;default:if($r(n)){for(var Zt in s)z=s[Zt],s.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&ed(e,n,Zt,void 0,o,z);for(q in o)z=o[q],j=s[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||ed(e,n,q,z,o,j);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,z);for(Q in o)z=o[Q],j=s[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Xt(e,n,Q,z,o,j)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Qy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],k=C.startTime;if(k>E)break;var q=C.transferSize,Q=C.initiatorType;q&&Qy(Q)&&(C=C.responseEnd,g+=q*(C<E?1:(E-k)/(C-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nd=null,id=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function DA(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(VA)}:Xy;function VA(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Jy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&il(e.ownerDocument.body);s=h}while(s);Ma(n)}function $y(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ad(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function MA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function xA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function Wy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function UA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ud=null;function t_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function e_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function n_(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xr(e)}var Mn=new Map,i_=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=tt.d;tt.d={f:LA,r:PA,D:kA,C:zA,L:BA,m:jA,X:HA,S:qA,M:GA};function LA(){var e=Ki.f(),n=Yu();return e||n}function PA(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Ep(n):Ki.r(e)}var Na=typeof document>"u"?null:document;function s_(e,n,s){var o=Na;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function kA(e){Ki.D(e),s_("dns-prefetch",e,null)}function zA(e,n){Ki.C(e,n),s_("preconnect",e,n)}function BA(e,n,s){Ki.L(e,n,s);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+en(s.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Va(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function jA(e,n){Ki.m(e,n);var s=Na;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(f)))return}o=s.createElement("link"),qe(o,"link",e),_e(o),s.head.appendChild(o)}}}function qA(e,n,s){Ki.S(e,n,s);var o=Na;if(o&&e){var h=ai(o).hoistableStyles,f=Oa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(sl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&cd(e,s);var C=g=o.createElement("link");_e(C),qe(C,"link",e),C._p=new Promise(function(k,q){C.onload=k,C.onerror=q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function HA(e,n){Ki.X(e,n);var s=Na;if(s&&e){var o=ai(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&hd(e,n),f=s.createElement("script"),_e(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function GA(e,n){Ki.M(e,n);var s=Na;if(s&&e){var o=ai(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&hd(e,n),f=s.createElement("script"),_e(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,s,o){var h=(h=St.current)?ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Oa(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Oa(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||FA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+en(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function a_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function FA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",s),_e(n),e.head.appendChild(n))}function Va(e){return'[src="'+en(e)+'"]'}function rl(e){return"script[async]"+e}function o_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),qe(o,"style",h),sc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Oa(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=a_(s),(h=Mn.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",o),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(h=e.querySelector(rl(f)))?(n.instance=h,_e(h),h):(o=s,(h=Mn.get(f))&&(o=S({},s),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,s.precedence,e));return n.instance}function sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function l_(e,n,s){if(rc===null){var o=new Map,h=rc=new Map;h.set(s,o)}else h=rc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function u_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function QA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function KA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Oa(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=a_(o),(h=Mn.get(h))&&cd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var fd=0;function YA(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&fd===0&&(fd=62500*IA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>fd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(XA,e),oc=null,ac.call(e))}function XA(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function ZA(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function h_(e,n,s,o,h,f,g,E,C,k,q,Q){return e=new ZA(e,n,s,g,C,k,q,Q,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Yh(f),e}function f_(e){return e?(e=ua,e):ua}function d_(e,n,s,o,h,f){h=f_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(ln(s,e,n),ko(s,e,n))}function m_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function dd(e,n){m_(e,n),(e=e.alternate)&&m_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=vr(e,67108864);n!==null&&ln(n,e,67108864),dd(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=vn();n=or(n);var s=vr(e,n);s!==null&&ln(s,e,n),dd(e,n)}}var uc=!0;function JA(e,n,s,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,md(e,n,s,o)}finally{tt.p=f,H.T=h}}function $A(e,n,s,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,md(e,n,s,o)}finally{tt.p=f,H.T=h}}function md(e,n,s,o){if(uc){var h=gd(o);if(h===null)td(e,n,o,cc,s),__(e,o);else if(tS(h,e,n,s,o))o.stopPropagation();else if(__(e,o),n&4&&-1<WA.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ce(g);E.entanglements[1]|=C,g&=~C}vi(f),(Bt&6)===0&&(Qu=$e()+500,tl(0))}}break;case 31:case 13:E=vr(f,2),E!==null&&ln(E,f,2),Yu(),dd(f,2)}if(f=gd(o),f===null&&td(e,n,o,cc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else td(e,n,o,null,s)}}function gd(e){return e=Sn(e),pd(e)}var cc=null;function pd(e){if(cc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case lo:return 2;case uo:return 8;case rs:case Th:return 32;case ql:return 268435456;default:return 32}default:return 32}}var yd=!1,Vs=null,Ms=null,xs=null,ol=new Map,ll=new Map,Us=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function tS(e,n,s,o,h){switch(n){case"focusin":return Vs=ul(Vs,e,n,s,o,h),!0;case"dragenter":return Ms=ul(Ms,e,n,s,o,h),!0;case"mouseover":return xs=ul(xs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,h)),!0}return!1}function v_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){p_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){p_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ao=o,s.target.dispatchEvent(o),Ao=null}else return n=An(s),n!==null&&g_(n),e.blockedOn=s,!1;n.shift()}return!0}function E_(e,n,s){hc(e)&&s.delete(n)}function eS(){yd=!1,Vs!==null&&hc(Vs)&&(Vs=null),Ms!==null&&hc(Ms)&&(Ms=null),xs!==null&&hc(xs)&&(xs=null),ol.forEach(E_),ll.forEach(E_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eS)))}var dc=null;function T_(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ma(e){function n(C){return fc(C,e)}Vs!==null&&fc(Vs,e),Ms!==null&&fc(Ms,e),xs!==null&&fc(xs,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<Us.length;s++){var o=Us[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||T_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(pd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),T_(s)}}}function A_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function _d(e){this._internalRoot=e}mc.prototype.render=_d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();d_(s,o,e,n,null,null)},mc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;d_(e.current,2,null,e,null,null),Yu(),n[ii]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&v_(e)}};var S_=t.version;if(S_!=="19.2.0")throw Error(a(527,S_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var nS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Un=gc.inject(nS),Pe=gc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Np,f=Op,g=Vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=h_(e,1,!1,null,null,s,o,null,h,f,g,A_),e[ii]=n.current,Wf(e),new _d(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Np,g=Op,E=Vp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=h_(e,1,!0,n,s??null,o,h,C,f,g,E,A_),n.context=f_(null),s=n.current,o=vn(),o=or(o),h=Es(o),h.callback=null,Ts(s,h,o),s=o,n.current.lanes=s,rr(n,s),vi(n),e[ii]=n.current,Wf(e),new mc(n)},hl.version="19.2.0",hl}var M_;function fS(){if(M_)return Td.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Td.exports=hS(),Td.exports}var dS=fS();const cm=[{id:"bird",label:" Bird"},{id:"mammal",label:" Mammal"},{id:"reptile",label:" Reptile"},{id:"amphibian",label:" Amphibian"},{id:"insect",label:" Insect"},{id:"fish",label:" Fish"},{id:"other",label:" Other"}],hm=[{id:"photo",label:" Photo"},{id:"observation",label:" Observed"},{id:"tracks",label:" Tracks"}];function mS({query:r,setQuery:t,categoryFilter:i,setCategoryFilter:a,captureFilter:l,setCaptureFilter:c,openAddForm:d}){return ot.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6 flex flex-wrap gap-3",children:[ot.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"Search names or locations",value:r,onChange:p=>t(p.target.value)}),ot.jsxs("select",{className:"border p-2 rounded",value:i,onChange:p=>a(p.target.value),children:[ot.jsx("option",{value:"",children:"All categories"}),cm.map(p=>ot.jsx("option",{value:p.id,children:p.label},p.id))]}),ot.jsxs("select",{className:"border p-2 rounded",value:l,onChange:p=>c(p.target.value),children:[ot.jsx("option",{value:"",children:"All capture levels"}),hm.map(p=>ot.jsx("option",{value:p.id,children:p.label},p.id))]}),ot.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:d,children:"+ Add"})]})}function gS({entry:r,onEdit:t,onDelete:i}){return ot.jsxs("div",{className:"bg-white rounded shadow overflow-hidden flex",children:[ot.jsx("img",{src:r.image||"https://via.placeholder.com/500",alt:"",className:"w-[500px] h-[500px] object-cover"}),ot.jsxs("div",{className:"p-4 flex-1 space-y-1",children:[ot.jsxs("h2",{className:"text-xl font-semibold",children:[" ",r.latin]}),ot.jsxs("p",{children:[" ",r.english]}),ot.jsxs("p",{children:[" ",r.french]}),ot.jsxs("p",{children:[" ",r.japanese]}),ot.jsxs("p",{className:"text-gray-500",children:["Category: ",cm.find(a=>a.id===r.category)?.label]}),ot.jsxs("p",{className:"text-gray-500",children:["Capture: ",hm.find(a=>a.id===r.capture)?.label]}),ot.jsxs("p",{className:"text-gray-500",children:["Locations: ",r.locations.join(", ")]}),ot.jsx("p",{className:"text-gray-400 text-sm",children:r.date}),r.notes&&ot.jsxs("p",{className:"text-gray-600 text-sm",children:[" ",r.notes]}),ot.jsxs("div",{className:"flex gap-2 pt-2",children:[ot.jsx("button",{className:"px-3 py-1 bg-yellow-400 rounded",onClick:()=>t(r),children:"Edit"}),ot.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded",onClick:()=>i(r.id),children:"Delete"})]})]})]})}function pS({editing:r,setEditing:t,onSubmit:i,onCancel:a,handleImageUpload:l}){const c=Kn.useRef();return ot.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:ot.jsxs("form",{onSubmit:i,className:"bg-white p-6 rounded shadow w-full max-w-xl space-y-3",children:[ot.jsx("h2",{className:"text-xl font-bold",children:r.id?"Edit entry":"Add entry"}),ot.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Scientific name",value:r.latin,onChange:d=>t({...r,latin:d.target.value}),required:!0}),ot.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"English name",value:r.english,onChange:d=>t({...r,english:d.target.value}),required:!0}),ot.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"French name",value:r.french,onChange:d=>t({...r,french:d.target.value}),required:!0}),ot.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Japanese name",value:r.japanese,onChange:d=>t({...r,japanese:d.target.value}),required:!0}),ot.jsx("select",{className:"border p-2 rounded w-full",value:r.category,onChange:d=>t({...r,category:d.target.value}),children:cm.map(d=>ot.jsx("option",{value:d.id,children:d.label},d.id))}),ot.jsx("select",{className:"border p-2 rounded w-full",value:r.capture,onChange:d=>t({...r,capture:d.target.value}),children:hm.map(d=>ot.jsx("option",{value:d.id,children:d.label},d.id))}),ot.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Locations (comma-separated)",value:r.locations.join(", "),onChange:d=>t({...r,locations:d.target.value.split(",").map(p=>p.trim()).filter(p=>p)})}),ot.jsx("input",{type:"date",className:"border p-2 rounded w-full",value:r.date,onChange:d=>t({...r,date:d.target.value})}),ot.jsx("textarea",{className:"border p-2 rounded w-full",placeholder:"Notes",value:r.notes,onChange:d=>t({...r,notes:d.target.value})}),ot.jsx("input",{type:"file",className:"border p-2 rounded w-full",accept:"image/*",ref:c,onChange:d=>l(d.target.files[0])}),ot.jsxs("div",{className:"flex gap-2 pt-2 justify-end",children:[ot.jsx("button",{type:"button",className:"px-3 py-2 bg-gray-300 rounded",onClick:a,children:"Cancel"}),ot.jsx("button",{type:"submit",className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})}const x_=[{id:"1",image:"",latin:"",english:"Great Egret",french:"Grande aigrette",japanese:"",category:"bird",locations:["Hyogo, Rokko"],capture:"photo",date:"2025-11-16",notes:"Seen near the port."}],yS=()=>{};var U_={};const aE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},_S=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,G=y&63;v||(G=64,d||(V=64)),a.push(i[A],i[S],i[V],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(aE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):_S(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new vS;const V=c<<2|p>>4;if(a.push(V),y!==64){const G=p<<4&240|y>>2;if(a.push(G),S!==64){const J=y<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(r){const t=aE(r);return oE.encodeByteArray(t,!0)},Mc=function(r){return ES(r).replace(/\./g,"")},lE=function(r){try{return oE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AS=()=>TS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&lE(r[1]);return t&&JSON.parse(t)},Wc=()=>{try{return yS()||AS()||SS()||bS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uE=r=>Wc()?.emulatorHosts?.[r],RS=r=>{const t=uE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},cE=()=>Wc()?.config,hE=r=>Wc()?.[`_${r}`];class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Ja(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fE(r){return(await fetch(r,{credentials:"include"})).ok}function CS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}const yl={};function IS(){const r={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?r.emulator.push(t):r.prod.push(t);return r}function DS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let L_=!1;function dE(r,t){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||yl[r]===t||yl[r]||L_)return;yl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=IS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{L_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=DS(a),G=i("text"),J=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ht=i("preprendIcon"),_t=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),A(Z,W);const jt=y();v(_t,ht),dt.append(_t,J,Z,jt),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function OS(){const r=Wc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const zS="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=zS,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?BS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new is(l,p,a)}}function BS(r,t){return r.replace(jS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const jS=/\{\$([^}]+)}/g;function qS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Pr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(P_(c)&&P_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function P_(r){return r!==null&&typeof r=="object"}function Vl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function HS(r,t){const i=new GS(r,t);return i.subscribe.bind(i)}class GS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");FS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Rd(){}function Je(r){return r&&r._delegate?r._delegate:r}class kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vr="[DEFAULT]";class QS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new wS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YS(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:KS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KS(r){return r===Vr?void 0:r}function YS(r){return r.instantiationMode==="EAGER"}class XS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new QS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const ZS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},JS=Dt.INFO,$S={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},WS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=$S[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=JS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const t1=(r,t)=>t.some(i=>r instanceof i);let k_,z_;function e1(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,kd=new WeakMap,gE=new WeakMap,wd=new WeakMap,dm=new WeakMap;function i1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&mE.set(i,r)}).catch(()=>{}),dm.set(t,r),t}function s1(r){if(kd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});kd.set(r,t)}let zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||gE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function r1(r){zd=r(zd)}function a1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Cd(this),t,...i);return gE.set(a,t.sort?t.sort():[t]),qs(a)}:n1().includes(r)?function(...t){return r.apply(Cd(this),t),qs(mE.get(this))}:function(...t){return qs(r.apply(Cd(this),t))}}function o1(r){return typeof r=="function"?a1(r):(r instanceof IDBTransaction&&s1(r),t1(r,e1())?new Proxy(r,zd):r)}function qs(r){if(r instanceof IDBRequest)return i1(r);if(wd.has(r))return wd.get(r);const t=o1(r);return t!==r&&(wd.set(r,t),dm.set(t,r)),t}const Cd=r=>dm.get(r);function l1(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=qs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(qs(d.result),v.oldVersion,v.newVersion,qs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],Id=new Map;function B_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=c1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||u1.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Id.set(t,c),c}r1(r=>({...r,get:(t,i,a)=>B_(t,i)||r.get(t,i,a),has:(t,i)=>!!B_(t,i)||r.has(t,i)}));class h1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(f1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function f1(r){return r.getComponent()?.type==="VERSION"}const Bd="@firebase/app",j_="0.14.6";const $i=new fm("@firebase/app"),d1="@firebase/app-compat",m1="@firebase/analytics-compat",g1="@firebase/analytics",p1="@firebase/app-check-compat",y1="@firebase/app-check",_1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",A1="@firebase/database-compat",S1="@firebase/functions",b1="@firebase/functions-compat",R1="@firebase/installations",w1="@firebase/installations-compat",C1="@firebase/messaging",I1="@firebase/messaging-compat",D1="@firebase/performance",N1="@firebase/performance-compat",O1="@firebase/remote-config",V1="@firebase/remote-config-compat",M1="@firebase/storage",x1="@firebase/storage-compat",U1="@firebase/firestore",L1="@firebase/ai",P1="@firebase/firestore-compat",k1="firebase",z1="12.6.0";const jd="[DEFAULT]",B1={[Bd]:"fire-core",[d1]:"fire-core-compat",[g1]:"fire-analytics",[m1]:"fire-analytics-compat",[y1]:"fire-app-check",[p1]:"fire-app-check-compat",[_1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[S1]:"fire-fn",[b1]:"fire-fn-compat",[R1]:"fire-iid",[w1]:"fire-iid-compat",[C1]:"fire-fcm",[I1]:"fire-fcm-compat",[D1]:"fire-perf",[N1]:"fire-perf-compat",[O1]:"fire-rc",[V1]:"fire-rc-compat",[M1]:"fire-gcs",[x1]:"fire-gcs-compat",[U1]:"fire-fst",[P1]:"fire-fst-compat",[L1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};const xc=new Map,j1=new Map,qd=new Map;function q_(r,t){try{r.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ha(r){const t=r.name;if(qd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,r);for(const i of xc.values())q_(i,r);for(const i of j1.values())q_(i,r);return!0}function mm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Ol("app","Firebase",q1);class H1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const $a=z1;function pE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=cE()),!i)throw Hs.create("no-options");const c=xc.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new XS(l);for(const v of qd.values())d.addComponent(v);const p=new H1(i,a,d);return xc.set(l,p),p}function yE(r=jd){const t=xc.get(r);if(!t&&r===jd&&cE())return pE();if(!t)throw Hs.create("no-app",{appName:r});return t}function Gs(r,t,i){let a=B1[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ha(new kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const G1="firebase-heartbeat-database",F1=1,Sl="firebase-heartbeat-store";let Dd=null;function _E(){return Dd||(Dd=l1(G1,F1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Sl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function Q1(r){try{const i=(await _E()).transaction(Sl),a=await i.objectStore(Sl).get(vE(r));return await i.done,a}catch(t){if(t instanceof is)$i.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function H_(r,t){try{const a=(await _E()).transaction(Sl,"readwrite");await a.objectStore(Sl).put(t,vE(r)),await a.done}catch(i){if(i instanceof is)$i.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function vE(r){return`${r.name}!${r.options.appId}`}const K1=1024,Y1=30;class X1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new J1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Y1){const l=$1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:a}=Z1(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function Z1(r,t=K1){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),F_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),F_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class J1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Q1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function F_(r){return Mc(JSON.stringify({version:2,heartbeats:r})).length}function $1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function W1(r){Ha(new kr("platform-logger",t=>new h1(t),"PRIVATE")),Ha(new kr("heartbeat",t=>new X1(t),"PRIVATE")),Gs(Bd,j_,r),Gs(Bd,j_,"esm2020"),Gs("fire-js","")}W1("");var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,EE;(function(){var r;function t(D,R){function b(){}b.prototype=R.prototype,D.F=R.prototype,D.prototype=new b,D.prototype.constructor=D,D.D=function(N,I,x){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return R.prototype[I].apply(N,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,R,b){b||(b=0);const N=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)N[I]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(I=0;I<16;++I)N[I]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=D.g[0],b=D.g[1],I=D.g[2];let x=D.g[3],w;w=R+(x^b&(I^x))+N[0]+3614090360&4294967295,R=b+(w<<7&4294967295|w>>>25),w=x+(I^R&(b^I))+N[1]+3905402710&4294967295,x=R+(w<<12&4294967295|w>>>20),w=I+(b^x&(R^b))+N[2]+606105819&4294967295,I=x+(w<<17&4294967295|w>>>15),w=b+(R^I&(x^R))+N[3]+3250441966&4294967295,b=I+(w<<22&4294967295|w>>>10),w=R+(x^b&(I^x))+N[4]+4118548399&4294967295,R=b+(w<<7&4294967295|w>>>25),w=x+(I^R&(b^I))+N[5]+1200080426&4294967295,x=R+(w<<12&4294967295|w>>>20),w=I+(b^x&(R^b))+N[6]+2821735955&4294967295,I=x+(w<<17&4294967295|w>>>15),w=b+(R^I&(x^R))+N[7]+4249261313&4294967295,b=I+(w<<22&4294967295|w>>>10),w=R+(x^b&(I^x))+N[8]+1770035416&4294967295,R=b+(w<<7&4294967295|w>>>25),w=x+(I^R&(b^I))+N[9]+2336552879&4294967295,x=R+(w<<12&4294967295|w>>>20),w=I+(b^x&(R^b))+N[10]+4294925233&4294967295,I=x+(w<<17&4294967295|w>>>15),w=b+(R^I&(x^R))+N[11]+2304563134&4294967295,b=I+(w<<22&4294967295|w>>>10),w=R+(x^b&(I^x))+N[12]+1804603682&4294967295,R=b+(w<<7&4294967295|w>>>25),w=x+(I^R&(b^I))+N[13]+4254626195&4294967295,x=R+(w<<12&4294967295|w>>>20),w=I+(b^x&(R^b))+N[14]+2792965006&4294967295,I=x+(w<<17&4294967295|w>>>15),w=b+(R^I&(x^R))+N[15]+1236535329&4294967295,b=I+(w<<22&4294967295|w>>>10),w=R+(I^x&(b^I))+N[1]+4129170786&4294967295,R=b+(w<<5&4294967295|w>>>27),w=x+(b^I&(R^b))+N[6]+3225465664&4294967295,x=R+(w<<9&4294967295|w>>>23),w=I+(R^b&(x^R))+N[11]+643717713&4294967295,I=x+(w<<14&4294967295|w>>>18),w=b+(x^R&(I^x))+N[0]+3921069994&4294967295,b=I+(w<<20&4294967295|w>>>12),w=R+(I^x&(b^I))+N[5]+3593408605&4294967295,R=b+(w<<5&4294967295|w>>>27),w=x+(b^I&(R^b))+N[10]+38016083&4294967295,x=R+(w<<9&4294967295|w>>>23),w=I+(R^b&(x^R))+N[15]+3634488961&4294967295,I=x+(w<<14&4294967295|w>>>18),w=b+(x^R&(I^x))+N[4]+3889429448&4294967295,b=I+(w<<20&4294967295|w>>>12),w=R+(I^x&(b^I))+N[9]+568446438&4294967295,R=b+(w<<5&4294967295|w>>>27),w=x+(b^I&(R^b))+N[14]+3275163606&4294967295,x=R+(w<<9&4294967295|w>>>23),w=I+(R^b&(x^R))+N[3]+4107603335&4294967295,I=x+(w<<14&4294967295|w>>>18),w=b+(x^R&(I^x))+N[8]+1163531501&4294967295,b=I+(w<<20&4294967295|w>>>12),w=R+(I^x&(b^I))+N[13]+2850285829&4294967295,R=b+(w<<5&4294967295|w>>>27),w=x+(b^I&(R^b))+N[2]+4243563512&4294967295,x=R+(w<<9&4294967295|w>>>23),w=I+(R^b&(x^R))+N[7]+1735328473&4294967295,I=x+(w<<14&4294967295|w>>>18),w=b+(x^R&(I^x))+N[12]+2368359562&4294967295,b=I+(w<<20&4294967295|w>>>12),w=R+(b^I^x)+N[5]+4294588738&4294967295,R=b+(w<<4&4294967295|w>>>28),w=x+(R^b^I)+N[8]+2272392833&4294967295,x=R+(w<<11&4294967295|w>>>21),w=I+(x^R^b)+N[11]+1839030562&4294967295,I=x+(w<<16&4294967295|w>>>16),w=b+(I^x^R)+N[14]+4259657740&4294967295,b=I+(w<<23&4294967295|w>>>9),w=R+(b^I^x)+N[1]+2763975236&4294967295,R=b+(w<<4&4294967295|w>>>28),w=x+(R^b^I)+N[4]+1272893353&4294967295,x=R+(w<<11&4294967295|w>>>21),w=I+(x^R^b)+N[7]+4139469664&4294967295,I=x+(w<<16&4294967295|w>>>16),w=b+(I^x^R)+N[10]+3200236656&4294967295,b=I+(w<<23&4294967295|w>>>9),w=R+(b^I^x)+N[13]+681279174&4294967295,R=b+(w<<4&4294967295|w>>>28),w=x+(R^b^I)+N[0]+3936430074&4294967295,x=R+(w<<11&4294967295|w>>>21),w=I+(x^R^b)+N[3]+3572445317&4294967295,I=x+(w<<16&4294967295|w>>>16),w=b+(I^x^R)+N[6]+76029189&4294967295,b=I+(w<<23&4294967295|w>>>9),w=R+(b^I^x)+N[9]+3654602809&4294967295,R=b+(w<<4&4294967295|w>>>28),w=x+(R^b^I)+N[12]+3873151461&4294967295,x=R+(w<<11&4294967295|w>>>21),w=I+(x^R^b)+N[15]+530742520&4294967295,I=x+(w<<16&4294967295|w>>>16),w=b+(I^x^R)+N[2]+3299628645&4294967295,b=I+(w<<23&4294967295|w>>>9),w=R+(I^(b|~x))+N[0]+4096336452&4294967295,R=b+(w<<6&4294967295|w>>>26),w=x+(b^(R|~I))+N[7]+1126891415&4294967295,x=R+(w<<10&4294967295|w>>>22),w=I+(R^(x|~b))+N[14]+2878612391&4294967295,I=x+(w<<15&4294967295|w>>>17),w=b+(x^(I|~R))+N[5]+4237533241&4294967295,b=I+(w<<21&4294967295|w>>>11),w=R+(I^(b|~x))+N[12]+1700485571&4294967295,R=b+(w<<6&4294967295|w>>>26),w=x+(b^(R|~I))+N[3]+2399980690&4294967295,x=R+(w<<10&4294967295|w>>>22),w=I+(R^(x|~b))+N[10]+4293915773&4294967295,I=x+(w<<15&4294967295|w>>>17),w=b+(x^(I|~R))+N[1]+2240044497&4294967295,b=I+(w<<21&4294967295|w>>>11),w=R+(I^(b|~x))+N[8]+1873313359&4294967295,R=b+(w<<6&4294967295|w>>>26),w=x+(b^(R|~I))+N[15]+4264355552&4294967295,x=R+(w<<10&4294967295|w>>>22),w=I+(R^(x|~b))+N[6]+2734768916&4294967295,I=x+(w<<15&4294967295|w>>>17),w=b+(x^(I|~R))+N[13]+1309151649&4294967295,b=I+(w<<21&4294967295|w>>>11),w=R+(I^(b|~x))+N[4]+4149444226&4294967295,R=b+(w<<6&4294967295|w>>>26),w=x+(b^(R|~I))+N[11]+3174756917&4294967295,x=R+(w<<10&4294967295|w>>>22),w=I+(R^(x|~b))+N[2]+718787259&4294967295,I=x+(w<<15&4294967295|w>>>17),w=b+(x^(I|~R))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+x&4294967295}a.prototype.v=function(D,R){R===void 0&&(R=D.length);const b=R-this.blockSize,N=this.C;let I=this.h,x=0;for(;x<R;){if(I==0)for(;x<=b;)l(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<R;)if(N[I++]=D.charCodeAt(x++),I==this.blockSize){l(this,N),I=0;break}}else for(;x<R;)if(N[I++]=D[x++],I==this.blockSize){l(this,N),I=0;break}}this.h=I,this.o+=R},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var b=D.length-8;b<D.length;++b)D[b]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,b=0;b<4;++b)for(let N=0;N<32;N+=8)D[R++]=this.g[b]>>>N&255;return D};function c(D,R){var b=p;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=R(D)}function d(D,R){this.h=R;const b=[];let N=!0;for(let I=D.length-1;I>=0;I--){const x=D[I]|0;N&&x==R||(b[I]=x,N=!1)}this.g=b}var p={};function v(D){return-128<=D&&D<128?c(D,function(R){return new d([R|0],R<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return Z(y(-D));const R=[];let b=1;for(let N=0;D>=b;N++)R[N]=D/b|0,b*=4294967296;return new d(R,0)}function A(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return Z(A(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=y(Math.pow(R,8));let N=S;for(let x=0;x<D.length;x+=8){var I=Math.min(8,D.length-x);const w=parseInt(D.substring(x,x+I),R);I<8?(I=y(Math.pow(R,I)),N=N.j(I).add(y(w))):(N=N.j(b),N=N.add(y(w)))}return N}var S=v(0),V=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-Z(this).m();let D=0,R=1;for(let b=0;b<this.g.length;b++){const N=this.i(b);D+=(N>=0?N:4294967296+N)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(D);const R=y(Math.pow(D,6));var b=this;let N="";for(;;){const I=jt(b,R).g;b=ht(b,I.j(R));let x=((b.g.length>0?b.g[0]:b.h)>>>0).toString(D);if(b=I,J(b))return x+N;for(;x.length<6;)x="0"+x;N=x+N}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=ht(this,D),W(D)?-1:J(D)?0:1};function Z(D){const R=D.g.length,b=[];for(let N=0;N<R;N++)b[N]=~D.g[N];return new d(b,~D.h).add(V)}r.abs=function(){return W(this)?Z(this):this},r.add=function(D){const R=Math.max(this.g.length,D.g.length),b=[];let N=0;for(let I=0;I<=R;I++){let x=N+(this.i(I)&65535)+(D.i(I)&65535),w=(x>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);N=w>>>16,x&=65535,w&=65535,b[I]=w<<16|x}return new d(b,b[b.length-1]&-2147483648?-1:0)};function ht(D,R){return D.add(Z(R))}r.j=function(D){if(J(this)||J(D))return S;if(W(this))return W(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(W(D))return Z(this.j(Z(D)));if(this.l(G)<0&&D.l(G)<0)return y(this.m()*D.m());const R=this.g.length+D.g.length,b=[];for(var N=0;N<2*R;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(let I=0;I<D.g.length;I++){const x=this.i(N)>>>16,w=this.i(N)&65535,ie=D.i(I)>>>16,we=D.i(I)&65535;b[2*N+2*I]+=w*we,_t(b,2*N+2*I),b[2*N+2*I+1]+=x*we,_t(b,2*N+2*I+1),b[2*N+2*I+1]+=w*ie,_t(b,2*N+2*I+1),b[2*N+2*I+2]+=x*ie,_t(b,2*N+2*I+2)}for(D=0;D<R;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=R;D<2*R;D++)b[D]=0;return new d(b,0)};function _t(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function dt(D,R){this.g=D,this.h=R}function jt(D,R){if(J(R))throw Error("division by zero");if(J(D))return new dt(S,S);if(W(D))return R=jt(Z(D),R),new dt(Z(R.g),Z(R.h));if(W(R))return R=jt(D,Z(R)),new dt(Z(R.g),R.h);if(D.g.length>30){if(W(D)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var b=V,N=R;N.l(D)<=0;)b=Jt(b),N=Jt(N);var I=Vt(b,1),x=Vt(N,1);for(N=Vt(N,2),b=Vt(b,2);!J(N);){var w=x.add(N);w.l(D)<=0&&(I=I.add(b),x=w),N=Vt(N,1),b=Vt(b,1)}return R=ht(D,I.j(R)),new dt(I,R)}for(I=S;D.l(R)>=0;){for(b=Math.max(1,Math.floor(D.m()/R.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),x=y(b),w=x.j(R);W(w)||w.l(D)>0;)b-=N,x=y(b),w=x.j(R);J(x)&&(x=V),I=I.add(x),D=ht(D,w)}return new dt(I,D)}r.B=function(D){return jt(this,D).h},r.and=function(D){const R=Math.max(this.g.length,D.g.length),b=[];for(let N=0;N<R;N++)b[N]=this.i(N)&D.i(N);return new d(b,this.h&D.h)},r.or=function(D){const R=Math.max(this.g.length,D.g.length),b=[];for(let N=0;N<R;N++)b[N]=this.i(N)|D.i(N);return new d(b,this.h|D.h)},r.xor=function(D){const R=Math.max(this.g.length,D.g.length),b=[];for(let N=0;N<R;N++)b[N]=this.i(N)^D.i(N);return new d(b,this.h^D.h)};function Jt(D){const R=D.g.length+1,b=[];for(let N=0;N<R;N++)b[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(b,D.h)}function Vt(D,R){const b=R>>5;R%=32;const N=D.g.length-b,I=[];for(let x=0;x<N;x++)I[x]=R>0?D.i(x+b)>>>R|D.i(x+b+1)<<32-R:D.i(x+b);return new d(I,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,EE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Fs=d}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,dl,AE,Ac,Hd,SE,bE,RE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var $=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)$[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,$)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let $=0;$<B;$++)u[_+$]=L[$]}else u.push(L)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,_){const T=dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Vt=!1,D=new _t,R=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(b)}};function b(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){Z(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,I),ie.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=St(u,m,T,L);return $>-1?(m=u[$],_||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,T,L);return null}return _=oo(_),u&&u[we]?u.J(m,_,p(T)?!!T.capture:!1,L):er(u,m,_,!1,T,L)}function er(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const $=p(L)?!!L.capture:!!L;let Tt=nr(u);if(Tt||(u[xt]=Tt=new it(u)),_=Tt.add(m,_,T,$,B),_.proxy)return _;if(T=Gr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)x||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gr(){function u(_){return m.call(u.src,u.listener,_)}const m=ro;return u}function Fr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=oo(_),u&&u[we]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=St(m,_,T,L),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=nr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,T,L)),(_=u>-1?m[u]:null)&&Qr(_))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent($n(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=nr(m))?(pt(_,u),_.h==0&&(_.src=null,m[xt]=null)):ut(u)}}}function $n(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Qr(u),u=_.call(T,m)}return u}function nr(u){return u=u[xt],u instanceof it?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function ge(){N.call(this),this.i=new it(this),this.M=this,this.G=null}S(ge,N),ge.prototype[we]=!0,ge.prototype.removeEventListener=function(u,m,_,T){Fr(this,u,m,_,T)};function Ie(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var L=m;m=new I(T,u),et(m,L)}L=!0;let B,$;if(_)for($=_.length-1;$>=0;$--)B=m.g=_[$],L=ss(B,T,!0,m)&&L;if(B=m.g=u,L=ss(B,T,!0,m)&&L,L=ss(B,T,!1,m)&&L,_)for($=0;$<_.length;$++)B=m.g=_[$],L=ss(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ge.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ss(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==_){const Tt=$.listener,he=$.ha||$.src;$.fa&&pt(u.i,$),L=Tt.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function Eh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function jl(u){u.g=Eh(()=>{u.g=null,u.i&&(u.i=!1,jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends N{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){N.call(this),this.h=u,this.g={}}S(ir,N);var lo=[];function uo(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qr(m)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),uo(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Th=d.JSON.parse,ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Gl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){I.call(this,"d")}S(Pe,I);function Tn(){I.call(this,"c")}S(Tn,I);var ce={},Fl=null;function Kr(){return Fl=Fl||new ge}ce.Ia="serverreachability";function Ql(u){I.call(this,ce.Ia,u)}S(Ql,I);function Wn(u){const m=Kr();Ie(m,new Ql(m))}ce.STAT_EVENT="statevent";function sr(u,m){I.call(this,ce.STAT_EVENT,u),this.stat=m}S(sr,I);function pe(u){const m=Kr();Ie(m,new sr(m,u))}ce.Ja="timingevent";function ti(u,m){I.call(this,ce.Ja,u),this.size=m}S(ti,I);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Ah(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var $="",Tt=B.split("&");for(let zt=0;zt<Tt.length;zt++){var he=Tt[zt].split("=");if(he.length>1){const re=he[0];he=he[1];const Rn=re.split("_");$=Rn.length>=2&&Rn[1]=="type"?$+(re+"="+he+"&"):$+(re+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+$})}function Kl(u,m,_,T,L,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+$})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,_)+(T?" "+T:"")})}function rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return rs(B)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function or(){}S(or,Hl),or.prototype.g=function(){return new XMLHttpRequest},ho=new or;function Di(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ii(u,m,_){u.M=1,u.A=lr(ve(m)),u.u=_,u.R=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),si(u),u.B=ve(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$r(_.i,"t",T),u.C=0,_=u.j.L,u.h=new kn,u.g=uu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(lo[0]=L.toString()),L=lo);for(let B=0;B<L.length;B++){const $=se(_,L[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=jn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Tt!=4||he==7||(he==8||zt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=bh(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,pe(12),hn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=Zl(this,_),re==Me){Tt==4&&(this.m=4,pe(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,pe(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ai(this,re);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Co($),$.P=!0,pe(11))}}else ni(this.i,this.l,_,null),ai(this,_);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?ru(this.j,this):(this.o=!1,si(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),hn(this),An(this)}}}catch{}finally{}};function bh(u){if(!Xl(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let _="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Me:(_=Number(m.substring(_,T)),isNaN(_)?ye:(T+=1,T+_>m.length?Me:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function si(u){u.T=Date.now()+u.H,Xr(u,u.H)}function Xr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&(Wn(),pe(17)),hn(this),this.m=2,An(this)):Xr(this,this.T-u)};function An(u){u.j.I==0||u.K||ru(u.j,u)}function hn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ia(_),ds(_);else break t;gr(_),pe(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(y(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&ia(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const re=zt[0];if(!(re<=_.K))if(_.K=re,zt=zt[1],_.I==2)if(zt[0]=="c"){_.M=zt[1],_.ba=zt[2];const Rn=zt[3];Rn!=null&&(_.ka=Rn,_.j.info("VER="+_.ka));const gi=zt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const qn=zt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Hn=u.g;if(Hn){const pr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var B=T.h;B.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(T.G){const sa=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Gt(T.J,T.G,sa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var $=u;if(T.na=lu(T,T.L?T.ba:null,T.W),$.L){po(T.h,$);var Tt=$,he=T.O;he&&(Tt.H=he),Tt.D&&(ri(Tt),si(Tt)),T.g=$}else iu(T);_.i.length>0&&di(_)}else zt[0]!="stop"&&zt[0]!="close"||mi(_,7);else _.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?mi(_,7):Ro(_):zt[0]!="noop"&&_.l&&_.l.qa(zt),_.A=0)}}Wn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,_o(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Jl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ur(m,Jr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ur(m,Jr,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ur(_,_.charAt(0)=="/"?vo:$l,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ur(_,Wl)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?xe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let $=0;$<L.length;){const Tt=L[$++];Tt=="."?T&&$==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?_o(m,eu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new fn(u)}function xe(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,_){m instanceof ls?(u.i=m,Wr(u.i,u.l)):(_||(m=ur(m,os)),u.i=new ls(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function lr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ur(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jr=/[#\/\?@]/g,$l=/[#\?:]/g,vo=/[#\?]/g,os=/[#\?@]/g,Wl=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ls.prototype,r.add=function(u,m){nn(this),this.i=null,u=us(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function tu(u,m){nn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return nn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function To(u,m){nn(u);let _=[];if(typeof m=="string")Eo(u,m)&&(_=_.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return nn(this),this.i=null,u=us(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function $r(u,m,_){tu(u,m),_.length>0&&(u.i=null,u.g.set(us(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Di(_);_=To(this,_);for(let B=0;B<_.length;B++){let $=L;_[B]!==""&&($+="="+Di(_[B])),u.push($)}}return this.i=u.join("&")};function eu(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(tu(this,T),$r(this,L,_))},u)),u.j=m}function zn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ao(u,m){const _=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function cs(){this.g=new ql}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Hl),ci.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cr,ge),r=cr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Bn(this),this.readyState==3&&ta(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function hr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=bn(_),typeof u=="string"?_!=null&&Di(_):Gt(u,m,_))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ge);var hi=/^https?$/i,So=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of _)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fr(this,B)}};function fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ni(u)}function bo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},r.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let $=String(u.D).match(Jl)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!hi.test($?$.toLowerCase():"")}_=T}if(_)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",bo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ie(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Th(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Yl(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){pe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),di(this)};function Ro(u){if(ea(u),u.I==3){var m=u.V++,_=ve(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),mr(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=lr(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}ou(u)}function ds(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ea(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||R(),Vt||(Jt(),Vt=!0),D.add(m,u),u.D=0}}function na(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),_=ve(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),mr(this,_),B&&(this.R?m="headers="+Di(bn(B))+"&"+m:this.u&&hr(_,this.u,B)),go(this.h,L),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),L.U=!0,ii(L,_,null)):ii(L,_,m),this.I=2}}else this.I==3&&(u?wo(this,u):this.i.length==0||mo(this.h)||wo(this))};function wo(u,m){var _;m?_=m.l:_=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",_),Gt(T,"AID",u.K),mr(u,T),u.u&&u.o&&hr(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,_),ii(_,T,m)}function mr(u,m){u.H&&Lt(u.H,function(_,T){Gt(m,T,_)}),u.l&&Lt({},function(_,T){Gt(m,T,_)})}function nu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const he=["count="+_];Tt==-1?_>0?(Tt=L[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let zt=!0;for(let re=0;re<_;re++){var B=L[re].g;const Rn=L[re].map;if(B-=Tt,B<0)Tt=Math.max(0,L[re].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var $=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,qn]of $){let Hn=qn;p(qn)&&(Hn=rs(qn)),he.push(B+gi+"="+encodeURIComponent(Hn))}}catch(gi){throw he.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Rn)}}if(zt){$=he.join("&");break t}}$=void 0}return u=u.i.splice(0,_),m.G=u,$}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||R(),Vt||(Jt(),Vt=!0),D.add(m,u),u.A=0}}function gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ds(this),su(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),mr(u,m),u.u&&u.o&&hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=lr(ve(m)),_.u=null,_.R=!0,Yr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),gr(this),pe(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var _=null;if(u.g==m){ia(u),Co(u),u.g=null;var T=2}else if(li(u.h,m))_=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Kr(),Ie(T,new ti(T,_)),di(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&na(u,m)||T==2&&gr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function au(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),lr(T),L?zn(T.toString(),_):Ao(T.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),ou(u),ea(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,_){var T=_ instanceof fn?ve(_):new fn(_);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new fn(null);T&&xe(B,T),m&&(B.g=m),L&&as(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Gt(T,_,m),Gt(T,"VER",u.ka),mr(u,T),T}function uu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ci({ab:_})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}S(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ro(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=rs(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,We.Z.N.call(this)};function hu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(hu,Pe);function fu(){Tn.call(this),this.status=1}S(fu,Tn);function Vi(u){this.g=u}S(Vi,cu),Vi.prototype.ra=function(){Ie(this.g,"a")},Vi.prototype.qa=function(u){Ie(this.g,new hu(u))},Vi.prototype.pa=function(u){Ie(this.g,new fu)},Vi.prototype.oa=function(){Ie(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,RE=function(){return new ms},bE=function(){return Kr()},SE=ce,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Ac=ar,co.COMPLETE="complete",AE=co,Gl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,dl=Gl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,TE=Kt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore",Y_="4.9.2";class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let Wa="12.3.0";const zr=new fm("@firebase/firestore");function xa(){return zr.logLevel}function nt(r,...t){if(zr.logLevel<=Dt.DEBUG){const i=t.map(gm);zr.debug(`Firestore (${Wa}): ${r}`,...i)}}function Wi(r,...t){if(zr.logLevel<=Dt.ERROR){const i=t.map(gm);zr.error(`Firestore (${Wa}): ${r}`,...i)}}function Ga(r,...t){if(zr.logLevel<=Dt.WARN){const i=t.map(gm);zr.warn(`Firestore (${Wa}): ${r}`,...i)}}function gm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,wE(r,a,i)}function wE(r,t,i){let a=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||wE(t,l,a)}function Et(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class CE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class eb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nb{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ji,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ji)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new CE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class ib{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new ib(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new X_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ab(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=ab(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Nt(r,t){return r<t?-1:r>t?1:0}function Gd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Nd(l)===Nd(c)?Nt(l,c):Nd(l)?1:-1}return Nt(r.length,t.length)}const ob=55296,lb=57343;function Nd(r){const t=r.charCodeAt(0);return t>=ob&&t<=lb}function Fa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Z_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Gd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fs.fromString(t.substring(4,t.length-2))}}class ee extends Ei{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return ub.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z_}static keyField(){return new Ge([Z_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}function IE(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function cb(r,t,i,a){if(t===!0&&a===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function J_(r){if(!ct.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $_(r){if(ct.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function DE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ym(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function ts(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ym(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Re(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ml(r,t){if(!DE(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}const W_=-62135596800,tv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*tv);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<W_)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ml(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-W_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bl=-1;function hb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Ks(l,ct.empty(),t)}function fb(r){return new Ks(r.readTime,r.key,bl)}class Ks{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ks(yt.min(),ct.empty(),bl)}static max(){return new Ks(yt.max(),ct.empty(),bl)}}function db(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const mb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function to(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==mb)throw r;nt("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function pb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(r){return r.name==="IndexedDbTransactionError"}class th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}th.ce=-1;const _m=-1;function eh(r){return r==null}function Uc(r){return r===0&&1/r==-1/0}function yb(r){return typeof r=="number"&&Number.isInteger(r)&&!Uc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const NE="";function _b(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=ev(t)),t=vb(r.get(i),t);return ev(t)}function vb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case NE:i+="";break;default:i+=c}}return i}function ev(r){return r+NE+""}function nv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ws(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function OE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new He(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(t){return new iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new En([])}unionWith(t){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new VE("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const Eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=Eb.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}const ME="server_timestamp",xE="__type__",UE="__previous_value__",LE="__local_write_time__";function vm(r){return(r?.mapValue?.fields||{})[xE]?.stringValue===ME}function nh(r){const t=r.mapValue.fields[UE];return vm(t)?nh(t):t}function Rl(r){const t=Ys(r.mapValue.fields[LE].timestampValue);return new ne(t.seconds,t.nanos)}class Tb{constructor(t,i,a,l,c,d,p,v,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A}}const Lc="(default)";class wl{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}const PE="__type__",Ab="__max__",_c={mapValue:{}},kE="__vector__",Pc="value";function Zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vm(r)?4:bb(r)?9007199254740991:Sb(r)?10:11:mt(28295,{value:r})}function wi(r,t){if(r===t)return!0;const i=Zs(r);if(i!==Zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Rl(r).isEqual(Rl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),p=Ys(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Uc(d)===Uc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Fa(r.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(nv(d)!==nv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!wi(d[v],p[v])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function Cl(r,t){return(r.values||[]).find((i=>wi(i,t)))!==void 0}function Qa(r,t){if(r===t)return 0;const i=Zs(r),a=Zs(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return sv(r.timestampValue,t.timestampValue);case 4:return sv(Rl(r),Rl(t));case 5:return Gd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xs(c),v=Xs(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=Nt(p[y],v[y]);if(A!==0)return A}return Nt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(me(c.latitude),me(d.latitude));return p!==0?p:Nt(me(c.longitude),me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return rv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Pc]?.arrayValue,A=v[Pc]?.arrayValue,S=Nt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:rv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===_c.mapValue&&d===_c.mapValue)return 0;if(c===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const V=Gd(v[S],A[S]);if(V!==0)return V;const G=Qa(p[v[S]],y[A[S]]);if(G!==0)return G}return Nt(v.length,A.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Ys(r),a=Ys(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function rv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Qa(i[l],a[l]);if(c)return c}return Nt(i.length,a.length)}function Ka(r){return Fd(r)}function Fd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ys(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Xs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Fd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Fd(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Sc(r){switch(Zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(r);return t?16+Sc(t):16;case 5:return 2*r.stringValue.length;case 6:return Xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Sc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Ws(a.fields,((c,d)=>{l+=c.length+Sc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function Qd(r){return!!r&&"integerValue"in r}function Em(r){return!!r&&"arrayValue"in r}function av(r){return!!r&&"nullValue"in r}function ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function Sb(r){return(r?.mapValue?.fields||{})[PE]?.stringValue===kE}function _l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ws(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=_l(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(r.arrayValue.values[i]);return t}return{...r}}function bb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ab}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=_l(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ws(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new cn(_l(this.value))}}function zE(r){const t=[];return Ws(r.fields,((i,a)=>{const l=new Ge([i]);if(bc(a)){const c=zE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new En(t)}class Xe{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),cn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),cn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kc{constructor(t,i){this.position=t,this.inclusive=i}}function lv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Qa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function uv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!wi(r.position[i],t.position[i]))return!1;return!0}class zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Rb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class BE{}class Ne extends BE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Cb(t,i,a):i==="array-contains"?new Nb(t,a):i==="in"?new Ob(t,a):i==="not-in"?new Vb(t,a):i==="array-contains-any"?new Mb(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Ib(t,a):new Db(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Zs(this.value)===Zs(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends BE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return jE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jE(r){return r.op==="and"}function qE(r){return wb(r)&&jE(r)}function wb(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function Kd(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(qE(r))return r.filters.map((t=>Kd(t))).join(",");{const t=r.filters.map((i=>Kd(i))).join(",");return`${r.op}(${t})`}}function HE(r,t){return r instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&wi(a.value,l.value)})(r,t):r instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&HE(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function GE(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"})(r):"Filter"}class Cb extends Ne{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Ib extends Ne{constructor(t,i){super(t,"in",i),this.keys=FE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Db extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=FE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function FE(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class Nb extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Em(i)&&Cl(i.arrayValue,this.value)}}class Ob extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class Vb extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class Mb extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Em(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class xb{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function cv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new xb(r,t,i,a,l,c,d)}function Tm(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Kd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ka(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ka(a))).join(",")),t.Te=i}return t.Te}function Am(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Rb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!HE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!uv(r.startAt,t.startAt)&&uv(r.endAt,t.endAt)}function Yd(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ih{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ub(r,t,i,a,l,c,d,p){return new ih(r,t,i,a,l,c,d,p)}function Sm(r){return new ih(r)}function hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Lb(r){return r.collectionGroup!==null}function vl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new zc(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new zc(Ge.keyField(),a))}return t.Ie}function Ti(r){const t=Et(r);return t.Ee||(t.Ee=Pb(t,vl(r))),t.Ee}function Pb(r,t){if(r.limitType==="F")return cv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zc(l.field,c)}));const i=r.endAt?new kc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new kc(r.startAt.position,r.startAt.inclusive):null;return cv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Xd(r,t,i){return new ih(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function sh(r,t){return Am(Ti(r),Ti(t))&&r.limitType===t.limitType}function QE(r){return`${Tm(Ti(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>GE(l))).join(", ")}]`),eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ka(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ka(l))).join(",")),`Target(${a})`})(Ti(r))}; limitType=${r.limitType})`}function rh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of vl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=lv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,vl(a),l)||a.endAt&&!(function(d,p,v){const y=lv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,vl(a),l))})(r,t)}function kb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KE(r){return(t,i)=>{let a=!1;for(const l of vl(r)){const c=zb(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function zb(r,t,i){const a=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Qa(v,y):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}class qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ws(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}const Bb=new oe(ct.comparator);function es(){return Bb}const YE=new oe(ct.comparator);function ml(...r){let t=YE;for(const i of r)t=t.insert(i.key,i);return t}function XE(r){let t=YE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Mr(){return El()}function ZE(){return El()}function El(){return new qr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const jb=new oe(ct.comparator),qb=new Ve(ct.comparator);function Ot(...r){let t=qb;for(const i of r)t=t.add(i);return t}const Hb=new Ve(Nt);function Gb(){return Hb}function bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function JE(r){return{integerValue:""+r}}function Fb(r,t){return yb(t)?JE(t):bm(r,t)}class ah{constructor(){this._=void 0}}function Qb(r,t,i){return r instanceof Bc?(function(l,c){const d={fields:{[xE]:{stringValue:ME},[LE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vm(c)&&(c=nh(c)),c&&(d.fields[UE]=c),{mapValue:d}})(i,t):r instanceof Il?WE(r,t):r instanceof Dl?tT(r,t):(function(l,c){const d=$E(l,c),p=fv(d)+fv(l.Ae);return Qd(d)&&Qd(l.Ae)?JE(p):bm(l.serializer,p)})(r,t)}function Kb(r,t,i){return r instanceof Il?WE(r,t):r instanceof Dl?tT(r,t):i}function $E(r,t){return r instanceof jc?(function(a){return Qd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Bc extends ah{}class Il extends ah{constructor(t){super(),this.elements=t}}function WE(r,t){const i=eT(t);for(const a of r.elements)i.some((l=>wi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Dl extends ah{constructor(t){super(),this.elements=t}}function tT(r,t){let i=eT(t);for(const a of r.elements)i=i.filter((l=>!wi(l,a)));return{arrayValue:{values:i}}}class jc extends ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function fv(r){return me(r.integerValue||r.doubleValue)}function eT(r){return Em(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Yb(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof Dl&&l instanceof Dl?Fa(a.elements,l.elements,wi):a instanceof jc&&l instanceof jc?wi(a.Ae,l.Ae):a instanceof Bc&&l instanceof Bc})(r.transform,t.transform)}class Xb{constructor(t,i){this.version=t,this.transformResults=i}}class Zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class oh{}function nT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Rm(r.key,Zn.none()):new xl(r.key,r.data,Zn.none());{const i=r.data,a=cn.empty();let l=new Ve(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new tr(r.key,a,new En(l.toArray()),Zn.none())}}function Zb(r,t,i){r instanceof xl?(function(l,c,d){const p=l.value.clone(),v=mv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof tr?(function(l,c,d){if(!Rc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=mv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(iT(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(r,t,i,a){return r instanceof xl?(function(c,d,p,v){if(!Rc(c.precondition,d))return p;const y=c.value.clone(),A=gv(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof tr?(function(c,d,p,v){if(!Rc(c.precondition,d))return p;const y=gv(c.fieldTransforms,v,d),A=d.data;return A.setAll(iT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Jb(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=$E(a.transform,l||null);c!=null&&(i===null&&(i=cn.empty()),i.set(a.field,c))}return i||null}function dv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Fa(a,l,((c,d)=>Yb(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends oh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class tr extends oh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function mv(r,t,i){const a=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Kb(d,p,i[l]))}return a}function gv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Qb(c,d,t))}return a}class Rm extends oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $b extends oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wb{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Zb(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ZE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=nT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,a)=>dv(i,a)))&&Fa(this.baseMutations,t.baseMutations,((i,a)=>dv(i,a)))}}class wm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return jb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new wm(t,i,a,l)}}class tR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eR{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Ut;function nR(r){switch(r){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function sT(r){if(r===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(r){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:r})}}(Ut=be||(be={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function iR(){return new TextEncoder}const sR=new Fs([4294967295,4294967295],0);function pv(r){const t=iR().encode(r),i=new EE;return i.update(t),new Uint8Array(i.digest())}function yv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fs([i,a],0),new Fs([l,c],0)]}class Cm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Fs.fromNumber(a)));return l.compare(sR)===1&&(l=new Fs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=pv(t),[a,l]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Cm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=pv(t),[a,l]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new lh(yt.min(),l,new oe(Nt),es(),Ot())}}class Ul{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ul(a,i,Ot(),Ot(),Ot())}}class wc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class rT{constructor(t,i){this.targetId=t,this.Ce=i}}class aT{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class _v{constructor(){this.ve=0,this.Fe=vv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new Ul(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=vv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rR{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=vc(),this.He=vc(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Yd(c))if(a===0){const d=new ct(c.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xs(a).toUint8Array()}catch(v){if(v instanceof VE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Cm(d,l,c)}catch(v){return Ga(v instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Yd(p.target)){const v=new ct(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new lh(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=vc(),this.He=vc(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new _v,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _v),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function vc(){return new oe(ct.comparator)}function vv(){return new oe(ct.comparator)}const aR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class uR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(r,t){return r.useProto3Json||eh(t)?t:{value:t}}function qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function cR(r,t){return qc(r,t.toTimestamp())}function Ai(r){return qt(!!r,49232),yt.fromTimestamp((function(i){const a=Ys(i);return new ne(a.seconds,a.nanos)})(r))}function Im(r,t){return Jd(r,t).canonicalString()}function Jd(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function lT(r){const t=ee.fromString(r);return qt(dT(t),10190,{key:t.toString()}),t}function $d(r,t){return Im(r.databaseId,t.path)}function Od(r,t){const i=lT(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(cT(i))}function uT(r,t){return Im(r.databaseId,t)}function hR(r){const t=lT(r);return t.length===4?ee.emptyPath():cT(t)}function Wd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cT(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ev(r,t,i){return{name:$d(r,t),fields:i.value.mapValue.fields}}function fR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:sT(y.code);return new rt(A,y.message||"")})(d);i=new aT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Od(r,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):yt.min(),p=new cn({mapValue:{fields:a.document.fields}}),v=Xe.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new wc(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Od(r,a.document),c=a.readTime?Ai(a.readTime):yt.min(),d=Xe.newNoDocument(l,c),p=a.removedTargetIds||[];i=new wc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Od(r,a.document),c=a.removedTargetIds||[];i=new wc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new eR(l,c),p=a.targetId;i=new rT(p,d)}}return i}function dR(r,t){let i;if(t instanceof xl)i={update:Ev(r,t.key,t.value)};else if(t instanceof Rm)i={delete:$d(r,t.key)};else if(t instanceof tr)i={update:Ev(r,t.key,t.data),updateMask:AR(t.fieldMask)};else{if(!(t instanceof $b))return mt(16599,{Vt:t.type});i={verify:$d(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:cR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function mR(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(yt.min())&&(d=Ai(c)),new Xb(d,l.transformResults||[])})(i,t)))):[]}function gR(r,t){return{documents:[uT(r,t.path)]}}function pR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=uT(r,l);const c=(function(y){if(y.length!==0)return fT(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(V){return{field:La(V.field),direction:vR(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Zd(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function yR(r){let t=hR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=hT(S);return V instanceof Ci&&qE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(J){return new zc(Pa(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,eh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(S){const V=!!S.before,G=S.values||[];return new kc(G,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const V=!S.before,G=S.values||[];return new kc(G,V)})(i.endAt)),Ub(t,l,d,c,p,"F",v,y)}function _R(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function hT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Pa(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>hT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function vR(r){return aR[r]}function ER(r){return oR[r]}function TR(r){return lR[r]}function La(r){return{fieldPath:r.canonicalString()}}function Pa(r){return Ge.fromServerFormat(r.fieldPath)}function fT(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(ov(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(av(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ov(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(av(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:ER(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const a=i.getFilters().map((l=>fT(l)));return a.length===1?a[0]:{compositeFilter:{op:TR(i.op),filters:a}}})(r):mt(54877,{filter:r})}function AR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function dT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class js{constructor(t,i,a,l,c=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class SR{constructor(t){this.yt=t}}function bR(r){const t=yR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(t,t.limit,"L"):t}class RR{constructor(){this.Cn=new wR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Ks.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class wR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(mT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}const Av="LruGarbageCollector",CR=1048576;function Sv([r,t],[i,a]){const l=Nt(r,i);return l===0?Nt(t,a):l}class IR{constructor(t){this.Ir=t,this.buffer=new Ve(Sv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Sv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class DR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(Av,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?nt(Av,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)}))}}class NR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(th.ce);const a=new IR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Tv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),xa()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function OR(r,t){return new NR(r,t)}class VR{constructor(){this.changes=new qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class MR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class xR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Tl(a.mutation,l,En.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Mr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ml();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Mr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=es();const d=El(),p=(function(){return El()})();return i.forEach(((v,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof tr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Tl(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new MR(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=El();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||En.empty();A=p.applyToLocalView(y,A),a.set(v,A);const S=(l.get(p.batchId)||Ot()).add(v);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,S=ZE();A.forEach((V=>{if(!c.has(V)){const G=nT(i.get(V),a.get(V));G!==null&&S.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Lb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Y.resolve(Mr());let p=bl,v=c;return d.next((y=>Y.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ot()))).next((A=>({batchId:p,changes:XE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(v=>{const y=(function(S,V){return new ih(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=ml();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&Tl(A.mutation,y,En.empty(),ne.now()),rh(i,y)&&(p=p.insert(v,y))})),p}))}}class UR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:bR(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),Y.resolve()}}class LR{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Mr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=Mr(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Mr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Mr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new tR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class PR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class Dm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ct(new ee([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ee([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class kR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Wb(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?_m:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Nt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ct(c),0);let p=new Ve(Nt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class zR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||db(fb(A),a)<=0||(l.has(A.key)||rh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ii(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new BR(this)}getSize(t){return Y.resolve(this.size)}}class BR extends VR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class jR{constructor(t){this.persistence=t,this.si=new qr((i=>Tm(i)),Am),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dm,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ya(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class gT{constructor(t,i){this.ui={},this.overlays={},this.ci=new th(0),this.li=!1,this.li=!0,this.hi=new PR,this.referenceDelegate=t(this),this.Pi=new jR(this),this.indexManager=new RR,this.remoteDocumentCache=(function(l){return new zR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new SR(i),this.Ii=new UR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new kR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){nt("MemoryPersistence","Starting transaction:",t);const l=new qR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class qR extends gb{constructor(t){super(),this.currentSequenceNumber=t}}class Nm{constructor(t){this.persistence=t,this.Ri=new Dm,this.Vi=null}static mi(t){return new Nm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const l=ct.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Hc{constructor(t,i){this.persistence=t,this.pi=new qr((a=>_b(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=OR(this,i)}static mi(t,i){return new Hc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Sc(t.data.value)),i}br(t,i,a){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Om{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Om(t,i.fromCache,a,l)}}class HR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class GR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LS()?8:pb(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new HR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(xa()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(xa()<=Dt.DEBUG&&nt("QueryEngine","Query:",Ua(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(xa()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Y.resolve())}ys(t,i){if(hv(i))return Y.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xd(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,Xd(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,l){return hv(i)||l.isEqual(yt.min())?Y.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Y.resolve(null):(xa()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(i)),this.vs(t,d,i,hb(l,bl)).next((p=>p)))}))}Ds(t,i){let a=new Ve(KE(t));return i.forEach(((l,c)=>{rh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return xa()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.ps.getDocumentsMatchingQuery(t,i,Ks.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Vm="LocalStore",FR=3e8;class QR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new qr((c=>Tm(c)),Am),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function KR(r,t,i,a){return new QR(r,t,i,a)}async function pT(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ot();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function YR(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const S=y.batch,V=S.keys();let G=Y.resolve();return V.forEach((J=>{G=G.next((()=>A.getEntry(v,J))).next((W=>{const Z=y.docVersions.get(J);qt(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),A.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function yT(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function XR(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(S,G),(function(W,Z,ht){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=FR?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let v=es(),y=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(ZR(c,d,t.documentUpdates).next((A=>{v=A.ks,y=A.qs}))),!a.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=l,c)))}function ZR(r,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=es();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):nt(Vm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function JR(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=_m),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function $R(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new js(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function tm(r,t,i){const a=Et(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!eo(d))throw d;nt(Vm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function bv(r,t,i){const a=Et(r);let l=yt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const S=Et(v),V=S.xs.get(A);return V!==void 0?Y.resolve(S.Ms.get(V)):S.Pi.getTargetData(y,A)})(a,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((p=>(WR(a,kb(t),p),{documents:p,Qs:c})))))}function WR(r,t,i){let a=r.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Rv{constructor(){this.activeTargetIds=Gb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tw{constructor(){this.Mo=new Rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Rv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ew{Oo(t){}shutdown(){}}const wv="ConnectivityMonitor";class Cv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(wv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ec=null;function em(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}const Vd="RestConnection",nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Lc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=em(),p=this.zo(t,i.toUriEncodedString());nt(Vd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:y}=new URL(p),A=Ja(y);return this.Jo(t,p,v,a,A).then((S=>(nt(Vd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ga(Vd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=nw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class sw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class rw extends iw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=em();return new Promise(((p,v)=>{const y=new TE;y.setWithCredentials(!0),y.listenOnce(AE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ac.NO_ERROR:const S=y.getResponseJson();nt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Ac.TIMEOUT:nt(Ke,`RPC '${t}' ${d} timed out`),v(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const V=y.getStatus();if(nt(Ke,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const W=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_t)>=0?_t:X.UNKNOWN})(J.status);v(new rt(W,J.message))}else v(new rt(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{nt(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Ke,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=RE(),p=bE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=c.join("");nt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let V=!1,G=!1;const J=new sw({Yo:Z=>{G?nt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(nt(Ke,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),nt(Ke,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),W=(Z,ht,_t)=>{Z.listen(ht,(dt=>{try{_t(dt)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return W(S,dl.EventType.OPEN,(()=>{G||(nt(Ke,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),W(S,dl.EventType.CLOSE,(()=>{G||(G=!0,nt(Ke,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),W(S,dl.EventType.ERROR,(Z=>{G||(G=!0,Ga(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),W(S,dl.EventType.MESSAGE,(Z=>{if(!G){const ht=Z.data[0];qt(!!ht,16349);const _t=ht,dt=_t?.error||_t[0]?.error;if(dt){nt(Ke,`RPC '${t}' stream ${l} received error:`,dt);const jt=dt.status;let Jt=(function(R){const b=be[R];if(b!==void 0)return sT(b)})(jt),Vt=dt.message;Jt===void 0&&(Jt=X.INTERNAL,Vt="Unknown error status: "+jt+" with message "+dt.message),G=!0,J.a_(new rt(Jt,Vt)),S.close()}else nt(Ke,`RPC '${t}' stream ${l} received:`,ht),J.u_(ht)}})),W(p,SE.STAT_EVENT,(Z=>{Z.stat===Hd.PROXY?nt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Hd.NOPROXY&&nt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}function uh(r){return new uR(r,!0)}class _T{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Iv="PersistentStream";class vT{constructor(t,i,a,l,c,d,p,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _T(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aw extends vT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=fR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ai(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Wd(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=Yd(v)?{documents:gR(c,v)}:{query:pR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=oT(c,d.resumeToken);const y=Zd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=qc(c,d.snapshotVersion.toTimestamp());const y=Zd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=_R(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Wd(this.serializer),i.removeTarget=t,this.q_(i)}}class ow extends vT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=mR(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Wd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>dR(this.serializer,a)))};this.q_(i)}}class lw{}class uw extends lw{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Jd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Jd(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class hw{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Hr(this)&&(nt(Br,"Restarting streams for network reachability change."),await(async function(v){const y=Et(v);y.Ea.add(4),await Ll(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ch(y)})(this))}))})),this.Ra=new cw(a,l)}}async function ch(r){if(Hr(r))for(const t of r.da)await t(!0)}async function Ll(r){for(const t of r.da)await t(!1)}function ET(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Lm(i)?Um(i):no(i).O_()&&xm(i,t))}function Mm(r,t){const i=Et(r),a=no(i);i.Ia.delete(t),a.O_()&&TT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hr(i)&&i.Ra.set("Unknown"))}function xm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(r).Y_(t)}function TT(r,t){r.Va.Ue(t),no(r).Z_(t)}function Um(r){r.Va=new rR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),no(r).start(),r.Ra.ua()}function Lm(r){return Hr(r)&&!no(r).x_()&&r.Ia.size>0}function Hr(r){return Et(r).Ea.size===0}function AT(r){r.Va=void 0}async function fw(r){r.Ra.set("Online")}async function dw(r){r.Ia.forEach(((t,i)=>{xm(r,t)}))}async function mw(r,t){AT(r),Lm(r)?(r.Ra.ha(t),Um(r)):r.Ra.set("Unknown")}async function gw(r,t,i){if(r.Ra.set("Online"),t instanceof aT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){nt(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Gc(r,a)}else if(t instanceof wc?r.Va.Ze(t):t instanceof rT?r.Va.st(t):r.Va.tt(t),!i.isEqual(yt.min()))try{const a=await yT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),TT(c,v);const S=new js(A.target,v,y,A.sequenceNumber);xm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){nt(Br,"Failed to raise snapshot:",a),await Gc(r,a)}}async function Gc(r,t,i){if(!eo(t))throw t;r.Ea.add(1),await Ll(r),r.Ra.set("Offline"),i||(i=()=>yT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(Br,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ch(r)}))}function ST(r,t){return t().catch((i=>Gc(r,i,t)))}async function hh(r){const t=Et(r),i=Js(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:_m;for(;pw(t);)try{const l=await JR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,yw(t,l)}catch(l){await Gc(t,l)}bT(t)&&RT(t)}function pw(r){return Hr(r)&&r.Ta.length<10}function yw(r,t){r.Ta.push(t);const i=Js(r);i.O_()&&i.X_&&i.ea(t.mutations)}function bT(r){return Hr(r)&&!Js(r).x_()&&r.Ta.length>0}function RT(r){Js(r).start()}async function _w(r){Js(r).ra()}async function vw(r){const t=Js(r);for(const i of r.Ta)t.ea(i.mutations)}async function Ew(r,t,i){const a=r.Ta.shift(),l=wm.from(a,t,i);await ST(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await hh(r)}async function Tw(r,t){t&&Js(r).X_&&await(async function(a,l){if((function(d){return nR(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Js(a).B_(),await ST(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await hh(a)}})(r,t),bT(r)&&RT(r)}async function Dv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),nt(Br,"RemoteStore received new credentials");const a=Hr(i);i.Ea.add(3),await Ll(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ch(i)}async function Aw(r,t){const i=Et(r);t?(i.Ea.delete(2),await ch(i)):t||(i.Ea.add(2),await Ll(i),i.Ra.set("Unknown"))}function no(r){return r.ma||(r.ma=(function(i,a,l){const c=Et(i);return c.sa(),new aw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:fw.bind(null,r),t_:dw.bind(null,r),r_:mw.bind(null,r),H_:gw.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Lm(r)?Um(r):r.Ra.set("Unknown")):(await r.ma.stop(),AT(r))}))),r.ma}function Js(r){return r.fa||(r.fa=(function(i,a,l){const c=Et(i);return c.sa(),new ow(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:_w.bind(null,r),r_:Tw.bind(null,r),ta:vw.bind(null,r),na:Ew.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await hh(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(Br,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Pm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Pm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),eo(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class ka{static emptySet(t){return new ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=ml(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Nv{constructor(){this.ga=new oe(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Xa{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class Sw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class bw{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Ov(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Ov(){return new qr((r=>QE(r)),sh)}async function wT(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new Sw,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=km(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&zm(i)}async function CT(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Rw(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&zm(i)}function ww(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function zm(r){r.Ca.forEach((t=>{t.next()}))}var nm,Vv;(Vv=nm||(nm={})).Ma="default",Vv.Cache="cache";class IT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Xa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==nm.Cache}}class DT{constructor(t){this.key=t}}class NT{constructor(t){this.key=t}}class Cw{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=KE(t),this.tu=new ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Nv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),G=rh(this.query,S)?S:null,J=!!V&&this.mutatedKeys.has(V.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;V&&G?V.data.isEqual(G.data)?J!==W&&(a.track({type:3,doc:G}),Z=!0):this.su(V,G)||(a.track({type:2,doc:G}),Z=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(p=!0)):!V&&G?(a.track({type:0,doc:G}),Z=!0):V&&!G&&(a.track({type:1,doc:V}),Z=!0,(v||y)&&(p=!0)),Z&&(G?(d=d.add(G),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return W(G)-W(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Xa(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new NT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new DT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bm="SyncEngine";class Iw{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class Dw{constructor(t){this.key=t,this.hu=!1}}class Nw{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qr((p=>QE(p)),sh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new Dm,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ow(r,t,i=!0){const a=LT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await OT(a,t,i,!0),l}async function Vw(r,t){const i=LT(r);await OT(i,t,!0,!1)}async function OT(r,t,i,a){const l=await $R(r.localStore,Ti(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await Mw(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&ET(r.remoteStore,l),p}async function Mw(r,t,i,a,l){r.pu=(S,V,G)=>(async function(W,Z,ht,_t){let dt=Z.view.ru(ht);dt.Cs&&(dt=await bv(W.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,dt))));const jt=_t&&_t.targetChanges.get(Z.targetId),Jt=_t&&_t.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(dt,W.isPrimaryClient,jt,Jt);return xv(W,Z.targetId,Vt.au),Vt.snapshot})(r,S,V,G);const c=await bv(r.localStore,t,!0),d=new Cw(t,c.Qs),p=d.ru(c.documents),v=Ul.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,v);xv(r,i,y.au);const A=new Iw(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function xw(r,t,i){const a=Et(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!sh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Mm(a.remoteStore,l.targetId),im(a,l.targetId)})).catch(to)):(im(a,l.targetId),await tm(a.localStore,l.targetId,!0))}async function Uw(r,t){const i=Et(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Mm(i.remoteStore,a.targetId))}async function Lw(r,t,i){const a=Hw(r);try{const l=await(function(d,p){const v=Et(d),y=ne.now(),A=p.reduce(((G,J)=>G.add(J.key)),Ot());let S,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=es(),W=Ot();return v.Ns.getEntries(G,A).next((Z=>{J=Z,J.forEach(((ht,_t)=>{_t.isValidDocument()||(W=W.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,J))).next((Z=>{S=Z;const ht=[];for(const _t of p){const dt=Jb(_t,S.get(_t.key).overlayedDocument);dt!=null&&ht.push(new tr(_t.key,dt,zE(dt.value.mapValue),Zn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,ht,p)})).next((Z=>{V=Z;const ht=Z.applyToLocalDocumentSet(S,W);return v.documentOverlayCache.saveOverlays(G,Z.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:XE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Nt)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Pl(a,l.changes),await hh(a.remoteStore)}catch(l){const c=km(l,"Failed to persist write");i.reject(c)}}async function VT(r,t){const i=Et(r);try{const a=await XR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Pl(i,a,t)}catch(a){await to(a)}}function Mv(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Et(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(p)&&(y=!0)})),y&&zm(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Pw(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(ct.comparator);d=d.insert(c,Xe.newNoDocument(c,yt.min()));const p=Ot().add(c),v=new lh(yt.min(),new Map,new oe(Nt),d,p);await VT(a,v),a.du=a.du.remove(c),a.Au.delete(t),jm(a)}else await tm(a.localStore,t,!1).then((()=>im(a,t,i))).catch(to)}async function kw(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await YR(i.localStore,t);xT(i,a,null),MT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Pl(i,l)}catch(l){await to(l)}}async function zw(r,t,i){const a=Et(r);try{const l=await(function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(qt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);xT(a,t,i),MT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Pl(a,l)}catch(l){await to(l)}}function MT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function xT(r,t,i){const a=Et(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function im(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||UT(r,a)}))}function UT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Mm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),jm(r))}function xv(r,t,i){for(const a of i)a instanceof DT?(r.Ru.addReference(a.key,t),Bw(r,a)):a instanceof NT?(nt(Bm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||UT(r,a.key)):mt(19791,{wu:a})}function Bw(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(nt(Bm,"New document in limbo: "+i),r.Eu.add(a),jm(r))}function jm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(ee.fromString(t)),a=r.fu.next();r.Au.set(a,new Dw(i)),r.du=r.du.insert(i,a),ET(r.remoteStore,new js(Ti(Sm(i.path)),a,"TargetPurposeLimboResolution",th.ce))}}async function Pl(r,t,i){const a=Et(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Om.As(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,y){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Y.forEach(y,(V=>Y.forEach(V.Es,(G=>A.persistence.referenceDelegate.addReference(S,V.targetId,G))).next((()=>Y.forEach(V.ds,(G=>A.persistence.referenceDelegate.removeReference(S,V.targetId,G)))))))))}catch(S){if(!eo(S))throw S;nt(Vm,"Failed to update sequence numbers: "+S)}for(const S of y){const V=S.targetId;if(!S.fromCache){const G=A.Ms.get(V),J=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(V,W)}}})(a.localStore,c))}async function jw(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){nt(Bm,"User change. New user:",t.toKey());const a=await pT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new rt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Pl(i,a.Ls)}}function qw(r,t){const i=Et(r),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function LT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pw.bind(null,t),t.Pu.H_=Rw.bind(null,t.eventManager),t.Pu.yu=ww.bind(null,t.eventManager),t}function Hw(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zw.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return KR(this.persistence,new GR,t.initialUser,this.serializer)}Cu(t){return new gT(Nm.mi,this.serializer)}Du(t){return new tw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class Gw extends Fc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Hc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new DR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new gT((a=>Hc.mi(a,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Mv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jw.bind(null,this.syncEngine),await Aw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bw})()}createDatastore(t){const i=uh(t.databaseInfo.databaseId),a=(function(c){return new rw(c)})(t.databaseInfo);return(function(c,d,p,v){return new uw(c,d,p,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new hw(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Mv(this.syncEngine,i,0)),(function(){return Cv.v()?new Cv:new ew})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,A){const S=new Nw(l,c,d,p,v,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);nt(Br,"RemoteStore shutting down."),a.Ea.add(5),await Ll(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class PT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $s="FirestoreClient";class Fw{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{nt($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(nt($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function xd(r,t){r.asyncQueue.verifyOperationInProgress(),nt($s,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await pT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Uv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Qw(r);nt($s,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Dv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Dv(t.remoteStore,l))),r._onlineComponents=t}async function Qw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt($s,"Using user provided OfflineComponentProvider");try{await xd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await xd(r,new Fc)}}else nt($s,"Using default OfflineComponentProvider"),await xd(r,new Gw(void 0));return r._offlineComponents}async function kT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt($s,"Using user provided OnlineComponentProvider"),await Uv(r,r._uninitializedComponentsProvider._online)):(nt($s,"Using default OnlineComponentProvider"),await Uv(r,new sm))),r._onlineComponents}function Kw(r){return kT(r).then((t=>t.syncEngine))}async function zT(r){const t=await kT(r),i=t.eventManager;return i.onListen=Ow.bind(null,t.syncEngine),i.onUnlisten=xw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Vw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Uw.bind(null,t.syncEngine),i}function Yw(r,t,i={}){const a=new Ji;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const A=new PT({next:V=>{A.Nu(),d.enqueueAndForget((()=>CT(c,S)));const G=V.docs.has(p);!G&&V.fromCache?y.reject(new rt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&V.fromCache&&v&&v.source==="server"?y.reject(new rt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),S=new IT(Sm(p.path),A,{includeMetadataChanges:!0,qa:!0});return wT(c,S)})(await zT(r),r.asyncQueue,t,i,a))),a.promise}function Xw(r,t,i={}){const a=new Ji;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const A=new PT({next:V=>{A.Nu(),d.enqueueAndForget((()=>CT(c,S))),V.fromCache&&v.source==="server"?y.reject(new rt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(V)},error:V=>y.reject(V)}),S=new IT(p,A,{includeMetadataChanges:!0,qa:!0});return wT(c,S)})(await zT(r),r.asyncQueue,t,i,a))),a.promise}function BT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Lv=new Map;const jT="firestore.googleapis.com",Pv=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=Pv}else this.host=t.host,this.ssl=t.ssl??Pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<CR)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new tb;switch(a.type){case"firstParty":return new sb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Lv.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Lv.delete(i),a.terminate())})(this),Promise.resolve()}}function Zw(r,t,i,a={}){r=ts(r,fh);const l=Ja(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(fE(`https://${p}`),dE("Firestore",!0)),c.host!==jT&&c.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Pr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Ye.MOCK_USER;else{y=CS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}r._authCredentials=new eb(new CE(y,A))}}class dh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new dh(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ml(i,Oe._jsonSchema))return new Oe(t,a||null,new ct(ee.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Qs extends dh{constructor(t,i,a){super(t,i,Sm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ct(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function zv(r,t,...i){if(r=Je(r),IE("collection","path",t),r instanceof fh){const a=ee.fromString(t,...i);return $_(a),new Qs(r,null,a)}{if(!(r instanceof Oe||r instanceof Qs))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return $_(a),new Qs(r.firestore,null,a)}}function Cc(r,t,...i){if(r=Je(r),arguments.length===1&&(t=pm.newId()),IE("doc","path",t),r instanceof fh){const a=ee.fromString(t,...i);return J_(a),new Oe(r,null,new ct(a))}{if(!(r instanceof Oe||r instanceof Qs))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return J_(a),new Oe(r.firestore,r instanceof Qs?r.converter:null,new ct(a))}}const Bv="AsyncQueue";class jv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _T(this,"async_queue_retry"),this._c=()=>{const a=Md();a&&nt(Bv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;nt(Bv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Pm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class io extends fh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jv(t),this._firestoreClient=void 0,await t}}}function Jw(r,t){const i=typeof r=="object"?r:yE(),a=typeof r=="string"?r:Lc,l=mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=RS("firestore");c&&Zw(l,...c)}return l}function qm(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$w(r),r._firestoreClient}function $w(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Tb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Fw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Fe.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ml(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Re("string",xn._jsonSchemaVersion),bytes:Re("string")};class mh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hm{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Ml(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ml(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),vectorValues:Re("object")};const Ww=/^__.*__$/;class tC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new tr(t,this.data,this.fieldMask,i,this.fieldTransforms):new xl(t,this.data,i,this.fieldTransforms)}}class qT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new tr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function HT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class Gm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Gm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Qc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(HT(this.Ac)&&Ww.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||uh(t)}Cc(t,i,a,l=!1){return new Gm({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GT(r){const t=r._freezeSettings(),i=uh(r._databaseId);return new eC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function nC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Fm("Data must be an object, but it was:",d,a);const p=FT(a,d);let v,y;if(c.merge)v=new En(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=rm(t,S,i);if(!d.contains(V))throw new rt(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);KT(A,V)||A.push(V)}v=new En(A),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new tC(new cn(p),v,y)}class gh extends Hm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gh}}function iC(r,t,i,a){const l=r.Cc(1,t,i);Fm("Data must be an object, but it was:",l,a);const c=[],d=cn.empty();Ws(a,((v,y)=>{const A=Qm(t,v,i);y=Je(y);const S=l.yc(A);if(y instanceof gh)c.push(A);else{const V=ph(y,S);V!=null&&(c.push(A),d.set(A,V))}}));const p=new En(c);return new qT(d,p,l.fieldTransforms)}function sC(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[rm(t,a,i)],v=[l];if(c.length%2!=0)throw new rt(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(rm(t,c[V])),v.push(c[V+1]);const y=[],A=cn.empty();for(let V=p.length-1;V>=0;--V)if(!KT(y,p[V])){const G=p[V];let J=v[V];J=Je(J);const W=d.yc(G);if(J instanceof gh)y.push(G);else{const Z=ph(J,W);Z!=null&&(y.push(G),A.set(G,Z))}}const S=new En(y);return new qT(A,S,d.fieldTransforms)}function ph(r,t){if(QT(r=Je(r)))return Fm("Unsupported field value:",t,r),FT(r,t);if(r instanceof Hm)return(function(a,l){if(!HT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=ph(p,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Fb(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:qc(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qc(l.serializer,c)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xn)return{bytesValue:oT(l.serializer,a._byteString)};if(a instanceof Oe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Im(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof bi)return(function(d,p){return{mapValue:{fields:{[PE]:{stringValue:kE},[Pc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return bm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${ym(a)}`)})(r,t)}function FT(r,t){const i={};return OE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ws(r,((a,l)=>{const c=ph(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function QT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Si||r instanceof xn||r instanceof Oe||r instanceof Hm||r instanceof bi)}function Fm(r,t,i){if(!QT(i)||!DE(i)){const a=ym(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function rm(r,t,i){if((t=Je(t))instanceof mh)return t._internalPath;if(typeof t=="string")return Qm(r,t);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,i)}const rC=new RegExp("[~\\*/\\[\\]]");function Qm(r,t,i){if(t.search(rC)>=0)throw Qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new mh(...t.split("."))._internalPath}catch{throw Qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Qc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new rt(X.INVALID_ARGUMENT,p+r+v)}function KT(r,t){return r.some((i=>i.isEqual(t)))}class YT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(XT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aC extends YT{data(){return super.data()}}function XT(r,t){return typeof t=="string"?Qm(r,t):t instanceof mh?t._internalPath:t._delegate._internalPath}function oC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lC{convertValue(t,i="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ws(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Pc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Si(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=nh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);qt(dT(a),9688,{name:t});const l=new wl(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function uC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends YT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(XT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Re("string",Ur._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ic extends Ur{data(t={}){return super.data(t)}}class za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Ic(this._firestore,this._userDataWriter,a.key,a,new pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Ic(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Ic(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:cC(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}function hC(r){r=ts(r,Oe);const t=ts(r.firestore,io);return Yw(qm(t),r._key).then((i=>pC(t,r,i)))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:Re("string",za._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class ZT extends lC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function fC(r){r=ts(r,dh);const t=ts(r.firestore,io),i=qm(t),a=new ZT(t);return oC(r._query),Xw(i,r._query).then((l=>new za(t,a,r,l)))}function dC(r,t,i,...a){r=ts(r,Oe);const l=ts(r.firestore,io),c=GT(l);let d;return d=typeof(t=Je(t))=="string"||t instanceof mh?sC(c,"updateDoc",r._key,t,i,a):iC(c,"updateDoc",r._key,t),Km(l,[d.toMutation(r._key,Zn.exists(!0))])}function mC(r){return Km(ts(r.firestore,io),[new Rm(r._key,Zn.none())])}function gC(r,t){const i=ts(r.firestore,io),a=Cc(r),l=uC(r.converter,t);return Km(i,[nC(GT(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then((()=>a))}function Km(r,t){return(function(a,l){const c=new Ji;return a.asyncQueue.enqueueAndForget((async()=>Lw(await Kw(a),l,c))),c.promise})(qm(r),t)}function pC(r,t,i){const a=i.docs.get(t._key),l=new ZT(r);return new Ur(r,l,t._key,a,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Wa=l})($a),Ha(new kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new io(new nb(a.getProvider("auth-internal")),new rb(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(K_,Y_,t),Gs(K_,Y_,"esm2020")})();var yC="firebase",_C="12.6.0";Gs(yC,_C,"app");function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vC=JT,$T=new Ol("auth","Firebase",JT());const Kc=new fm("@firebase/auth");function EC(r,...t){Kc.logLevel<=Dt.WARN&&Kc.warn(`Auth (${$a}): ${r}`,...t)}function Dc(r,...t){Kc.logLevel<=Dt.ERROR&&Kc.error(`Auth (${$a}): ${r}`,...t)}function Ii(r,...t){throw Xm(r,...t)}function Jn(r,...t){return Xm(r,...t)}function Ym(r,t,i){const a={...vC(),[t]:i};return new Ol("auth","Firebase",a).create(t,{appName:r.name})}function Lr(r){return Ym(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TC(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ii(r,"argument-error"),Ym(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return $T.create(r,...t)}function gt(r,t,...i){if(!r)throw Xm(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function ns(r,t){r||Xi(t)}function am(){return typeof self<"u"&&self.location?.href||""}function AC(){return Hv()==="http:"||Hv()==="https:"}function Hv(){return typeof self<"u"&&self.location?.protocol||null}function SC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AC()||MS()||"connection"in navigator)?navigator.onLine:!0}function bC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=NS()||xS()}get(){return SC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class WT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CC=new kl(3e4,6e4);function Jm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function so(r,t,i,a,l={}){return t0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Vl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return VS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ja(r.emulatorConfig.host)&&(y.credentials="include"),WT.fetch()(await e0(r,r.config.apiHost,i,p),y)})}async function t0(r,t,i){r._canInitEmulator=!1;const a={...RC,...t};try{const l=new DC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Tc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Tc(r,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ym(r,A,y);Ii(r,A)}}catch(l){if(l instanceof is)throw l;Ii(r,"network-request-failed",{message:String(l)})}}async function IC(r,t,i,a,l={}){const c=await so(r,t,i,a,l);return"mfaPendingCredential"in c&&Ii(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function e0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Zm(r.config,l):`${r.config.apiScheme}://${l}`;return wC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class DC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Jn(this.auth,"network-request-failed")),CC.get())})}}function Tc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Jn(r,t,a);return l.customData._tokenResponse=i,l}async function NC(r,t){return so(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return so(r,"POST","/v1/accounts:lookup",t)}function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OC(r,t=!1){const i=Je(r),a=await i.getIdToken(t),l=$m(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(Ud(l.auth_time)),issuedAtTime:Al(Ud(l.iat)),expirationTime:Al(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(r){return Number(r)*1e3}function $m(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=lE(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Gv(r){const t=$m(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&VC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function VC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const t=r.auth,i=await r.getIdToken(),a=await Nl(r,Yc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?n0(l.providerUserInfo):[],d=UC(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function xC(r){const t=Je(r);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function n0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LC(r,t){const i=await t0(r,{},async()=>{const a=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await e0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&Ja(r.emulatorConfig.host)&&(v.credentials="include"),WT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PC(r,t){return so(r,"POST","/v2/accounts:revokeToken",Jm(r,t))}class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Gv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Gv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await LC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ba;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ps(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new MC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OC(this,t)}reload(){return xC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Lr(this.auth));const t=await this.getIdToken();return await Nl(this,NC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:G,providerData:J,stsTokenManager:W}=i;gt(S&&W,t,"internal-error");const Z=Ba.fromJSON(this.name,W);gt(typeof S=="string",t,"internal-error"),Ps(a,t.name),Ps(l,t.name),gt(typeof V=="boolean",t,"internal-error"),gt(typeof G=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(p,t.name),Ps(v,t.name),Ps(y,t.name),Ps(A,t.name);const ht=new Xn({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ht.providerData=J.map(_t=>({..._t}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ba;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?n0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ba;p.updateFromIdToken(a);const v=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Fv=new Map;function Zi(r){ns(r instanceof Function,"Expected a class definition");let t=Fv.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Fv.set(r,t),t)}class i0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}i0.type="NONE";const Qv=i0;function Nc(r,t,i){return`firebase:${r}:${t}:${i}`}class ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ja(Zi(Qv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Zi(Qv);const d=Nc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const V=await Yc(t,{idToken:A}).catch(()=>{});if(!V)break;S=await Xn._fromGetAccountInfoResponse(t,V,A)}else S=Xn._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new ja(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ja(c,t,a))}}function Kv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(o0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(s0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(u0(t))return"Blackberry";if(c0(t))return"Webos";if(r0(t))return"Safari";if((t.includes("chrome/")||a0(t))&&!t.includes("edge/"))return"Chrome";if(l0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function s0(r=Ze()){return/firefox\//i.test(r)}function r0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function a0(r=Ze()){return/crios\//i.test(r)}function o0(r=Ze()){return/iemobile/i.test(r)}function l0(r=Ze()){return/android/i.test(r)}function u0(r=Ze()){return/blackberry/i.test(r)}function c0(r=Ze()){return/webos/i.test(r)}function Wm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kC(r=Ze()){return Wm(r)&&!!window.navigator?.standalone}function zC(){return US()&&document.documentMode===10}function h0(r=Ze()){return Wm(r)||l0(r)||c0(r)||u0(r)||/windows phone/i.test(r)||o0(r)}function f0(r,t=[]){let i;switch(r){case"Browser":i=Kv(Ze());break;case"Worker":i=`${Kv(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${a}`}class BC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jC(r,t={}){return so(r,"GET","/v2/passwordPolicy",Jm(r,t))}const qC=6;class HC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Lr(this));const i=t?Je(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jC(this),i=new HC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await PC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=f0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yh(r){return Je(r)}class Yv{constructor(t){this.auth=t,this.observer=null,this.addObserver=HS(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FC(r){tg=r}function QC(r){return tg.loadJS(r)}function KC(){return tg.gapiScript}function YC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function XC(r,t){const i=mm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;Ii(l,"already-initialized")}return i.initialize({options:t})}function ZC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function JC(r,t,i){const a=yh(r);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=d0(t),{host:d,port:p}=$C(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Pr(y,a.config.emulator)&&Pr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Ja(d)?(fE(`${c}//${d}${v}`),dE("Auth",!0)):WC()}function d0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function $C(r){const t=d0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Xv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Xv(d)}}}function Xv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function WC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class m0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function qa(r,t){return IC(r,"POST","/v1/accounts:signInWithIdp",Jm(r,t))}const tI="http://localhost";class jr extends m0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new jr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:tI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}class eg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zl extends eg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ks extends zl{constructor(){super("facebook.com")}static credential(t){return jr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Yi extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return jr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class zs extends zl{constructor(){super("github.com")}static credential(t){return jr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class Bs extends zl{constructor(){super("twitter.com")}static credential(t,i){return jr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=Zv(a);return new Za({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Zv(a);return new Za({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Zv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Zc extends is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Zc(t,i,a,l)}}function g0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,t,a):c})}async function eI(r,t,i=!1){const a=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Za._forOperation(r,"link",a)}async function nI(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(Lr(a));const l="reauthenticate";try{const c=await Nl(r,g0(a,l,t,r),i);gt(c.idToken,a,"internal-error");const d=$m(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(r.uid===p,a,"user-mismatch"),Za._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ii(a,"user-mismatch"),c}}async function iI(r,t,i=!1){if(Yn(r.app))return Promise.reject(Lr(r));const a="signIn",l=await g0(r,a,t),c=await Za._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function sI(r,t,i,a){return Je(r).onIdTokenChanged(t,i,a)}function rI(r,t,i){return Je(r).beforeAuthStateChanged(t,i)}function aI(r,t,i,a){return Je(r).onAuthStateChanged(t,i,a)}function oI(r){return Je(r).signOut()}const Jc="__sak";class p0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lI=1e3,uI=10;class y0 extends p0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,uI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}y0.type="LOCAL";const cI=y0;class _0 extends p0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}_0.type="SESSION";const v0=_0;function hI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new _h(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await hI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function ng(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class fI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=ng("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function dI(r){Ri().location.href=r}function E0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function mI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gI(){return navigator?.serviceWorker?.controller||null}function pI(){return E0()?self:null}const T0="firebaseLocalStorageDb",yI=1,$c="firebaseLocalStorage",A0="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function _I(){const r=indexedDB.deleteDatabase(T0);return new Bl(r).toPromise()}function lm(){const r=indexedDB.open(T0,yI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:A0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await _I(),t(await lm()))})})}async function Jv(r,t,i){const a=vh(r,!0).put({[A0]:t,value:i});return new Bl(a).toPromise()}async function vI(r,t){const i=vh(r,!1).get(t),a=await new Bl(i).toPromise();return a===void 0?null:a.value}function $v(r,t){const i=vh(r,!0).delete(t);return new Bl(i).toPromise()}const EI=800,TI=3;class S0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>TI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(pI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mI(),!this.activeServiceWorker)return;this.sender=new fI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Jv(t,Jc,"1"),await $v(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Jv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>vI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$v(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S0.type="LOCAL";const AI=S0;new kl(3e4,6e4);function b0(r,t){return t?Zi(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ig extends m0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function SI(r){return iI(r.auth,new ig(r),r.bypassAuthState)}function bI(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),nI(i,new ig(r),r.bypassAuthState)}async function RI(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),eI(i,new ig(r),r.bypassAuthState)}class R0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SI;case"linkViaPopup":case"linkViaRedirect":return RI;case"reauthViaPopup":case"reauthViaRedirect":return bI;default:Ii(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new kl(2e3,1e4);async function CI(r,t,i){if(Yn(r.app))return Promise.reject(Jn(r,"operation-not-supported-in-this-environment"));const a=yh(r);TC(r,t,eg);const l=b0(a,i);return new xr(a,"signInViaPopup",t,l).executeNotNull()}class xr extends R0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xr.currentPopupAction&&xr.currentPopupAction.cancel(),xr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wI.get())};t()}}xr.currentPopupAction=null;const II="pendingRedirect",Oc=new Map;class DI extends R0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await NI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(r,t){const i=MI(t),a=VI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function OI(r,t){Oc.set(r._key(),t)}function VI(r){return Zi(r._redirectPersistence)}function MI(r){return Nc(II,r.config.apiKey,r.name)}async function xI(r,t,i=!1){if(Yn(r.app))return Promise.reject(Lr(r));const a=yh(r),l=b0(a,t),d=await new DI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const UI=600*1e3;class LI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!w0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Jn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wv(t))}saveEventToCache(t){this.cachedEventUids.add(Wv(t)),this.lastProcessedEventTime=Date.now()}}function Wv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function w0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function PI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w0(r);default:return!1}}async function kI(r,t={}){return so(r,"GET","/v1/projects",t)}const zI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BI=/^https?/;async function jI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await kI(r);for(const i of t)try{if(qI(i))return}catch{}Ii(r,"unauthorized-domain")}function qI(r){const t=am(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!BI.test(i))return!1;if(zI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const HI=new kl(3e4,6e4);function tE(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function GI(r){return new Promise((t,i)=>{function a(){tE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tE(),i(Jn(r,"network-request-failed"))},timeout:HI.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=YC("iframefcb");return Ri()[l]=()=>{gapi.load?a():i(Jn(r,"network-request-failed"))},QC(`${KC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function FI(r){return Vc=Vc||GI(r),Vc}const QI=new kl(5e3,15e3),KI="__/auth/iframe",YI="emulator/auth/iframe",XI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JI(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Zm(t,YI):`https://${r.config.authDomain}/${KI}`,a={apiKey:t.apiKey,appName:r.name,v:$a},l=ZI.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Vl(a).slice(1)}`}async function $I(r){const t=await FI(r),i=Ri().gapi;return gt(i,r,"internal-error"),t.open({where:document.body,url:JI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Jn(r,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},QI.get());function v(){Ri().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const WI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,e2=600,n2="_blank",i2="http://localhost";class eE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(r,t,i,a=t2,l=e2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...WI,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=a0(y)?n2:i),s0(y)&&(t=t||i2,v.scrollbars="yes");const A=Object.entries(v).reduce((V,[G,J])=>`${V}${G}=${J},`,"");if(kC(y)&&p!=="_self")return r2(t||"",p),new eE(null);const S=window.open(t||"",p,A);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new eE(S)}function r2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const a2="__/auth/handler",o2="emulator/auth/handler",l2=encodeURIComponent("fac");async function nE(r,t,i,a,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:$a,eventId:l};if(t instanceof eg){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",qS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof zl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await r._getAppCheckToken(),y=v?`#${l2}=${encodeURIComponent(v)}`:"";return`${u2(r)}?${Vl(p).slice(1)}${y}`}function u2({config:r}){return r.emulator?Zm(r,o2):`https://${r.authDomain}/${a2}`}const Ld="webStorageSupport";class c2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v0,this._completeRedirectFn=xI,this._overrideRedirectResult=OI}async _openPopup(t,i,a,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await nE(t,i,a,am(),l);return s2(t,c,ng())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await nE(t,i,a,am(),l);return dI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await $I(t),a=new LI(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},l=>{const c=l?.[0]?.[Ld];c!==void 0&&i(!!c),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return h0()||r0()||Wm()}}const h2=c2;var iE="@firebase/auth",sE="1.11.1";class f2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function d2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m2(r){Ha(new kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f0(r)},y=new GC(a,l,c,v);return ZC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ha(new kr("auth-internal",t=>{const i=yh(t.getProvider("auth").getImmediate());return(a=>new f2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(iE,sE,d2(r)),Gs(iE,sE,"esm2020")}const g2=300,p2=hE("authIdTokenMaxAge")||g2;let rE=null;const y2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>p2)return;const l=i?.token;rE!==l&&(rE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function _2(r=yE()){const t=mm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=XC(r,{popupRedirectResolver:h2,persistence:[AI,cI,v0]}),a=hE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=y2(c.toString());rI(i,d,()=>d(i.currentUser)),sI(i,p=>d(p))}}const l=uE("auth");return l&&JC(i,`http://${l}`),i}function v2(){return document.getElementsByTagName("head")?.[0]??document}FC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Jn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",v2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m2("Browser");const E2={apiKey:"AIzaSyB7o546NGglFSjtUFbKzVdd1T_tXWfGPj8",authDomain:"animadex-2f979.firebaseapp.com",projectId:"animadex-2f979",storageBucket:"animadex-2f979.firebasestorage.app",messagingSenderId:"577072322198",appId:"1:577072322198:web:4b922cb45a849f13add4b7"},C0=pE(E2),fl=Jw(C0),Pd=_2(C0);function T2(){const[r,t]=Kn.useState([]),[i,a]=Kn.useState(""),[l,c]=Kn.useState(""),[d,p]=Kn.useState(""),[v,y]=Kn.useState(!1),[A,S]=Kn.useState(null),[V,G]=Kn.useState(null),[J,W]=Kn.useState(!1);Kn.useEffect(()=>{const b=aI(Pd,async I=>{if(G(I),I)try{const x=await hC(Cc(fl,"admins",I.uid));console.log("Logged in user UID:",I.uid),console.log("Admin doc exists?",x.exists()),W(x.exists())}catch(x){console.error("Error checking admin status:",x),W(!1)}else W(!1)});async function N(){try{const I=await fC(zv(fl,"entries"));if(I.empty)t(x_);else{const x=I.docs.map(w=>({id:w.id,...w.data()}));t(x)}}catch(I){console.error("Error loading entries:",I),t(x_)}}return N(),()=>b()},[]);function Z(){if(!V||!J){alert("Only admins can add entries");return}S({id:`temp-${Date.now()}`,image:"",latin:"",english:"",french:"",japanese:"",category:"bird",locations:[],capture:"photo",date:new Date().toISOString().slice(0,10),notes:""}),y(!0)}function ht(b){if(!V||!J){alert("Only admins can edit entries");return}S({...b}),y(!0)}async function _t(b){if(!V||!J){alert("Only admins can delete entries");return}if(confirm("Delete?"))try{await mC(Cc(fl,"entries",b)),t(N=>N.filter(I=>I.id!==b))}catch(N){console.error("Failed to delete:",N)}}function dt(b){if(!b)return;const N=new FileReader;N.onload=()=>S(I=>({...I,image:N.result})),N.readAsDataURL(b)}async function jt(b){if(b.preventDefault(),!V||!J){alert("Only admins can save entries");return}const N={...A};try{if(N.id.startsWith("temp-")){const I=await gC(zv(fl,"entries"),N);N.id=I.id,t(x=>[N,...x])}else{const I=Cc(fl,"entries",N.id);await dC(I,N),t(x=>x.map(w=>w.id===N.id?N:w))}y(!1),S(null)}catch(I){console.error("Failed to save entry:",I)}}const Jt=r.filter(b=>{const N=i.toLowerCase(),I=!i||[b.latin,b.english,b.french,b.japanese,...b.locations||[]].join(" ").toLowerCase().includes(N),x=!l||b.category===l,w=!d||b.capture===d;return I&&x&&w}),Vt=new Yi,D=()=>CI(Pd,Vt).catch(console.error),R=()=>oI(Pd).catch(console.error);return ot.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:ot.jsxs("div",{className:"max-w-6xl mx-auto",children:[ot.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ot.jsx("h1",{className:"text-3xl font-bold",children:"Landre's Animadex (Asia)"}),ot.jsx("div",{children:V?ot.jsxs(ot.Fragment,{children:[ot.jsxs("span",{className:"mr-2",children:[V.displayName," ",J&&"(Admin)"]}),ot.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded",onClick:R,children:"Logout"})]}):ot.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",onClick:D,children:"Login"})})]}),ot.jsx(mS,{query:i,setQuery:a,categoryFilter:l,setCategoryFilter:c,captureFilter:d,setCaptureFilter:p,openAddForm:Z}),ot.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Jt.map(b=>ot.jsx(gS,{entry:b,onEdit:ht,onDelete:_t},b.id))}),v&&ot.jsx(pS,{editing:A,setEditing:S,onSubmit:jt,onCancel:()=>{y(!1),S(null)},handleImageUpload:dt}),ot.jsx("footer",{className:"mt-8 text-sm text-gray-500",children:"Tip: use this project to practice git  create a branch, add a new feature, open a pull request on GitHub."})]})})}dS.createRoot(document.getElementById("root")).render(ot.jsx(Kn.StrictMode,{children:ot.jsx(T2,{})}));
