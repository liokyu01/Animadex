(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function fS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sd={exports:{}},hl={};var RA;function dS(){if(RA)return hl;RA=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var IA;function mS(){return IA||(IA=1,Sd.exports=dS()),Sd.exports}var X=mS(),bd={exports:{}},vt={};var DA;function gS(){if(DA)return vt;DA=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,$={};function ft(V,K,nt){this.props=V,this.context=K,this.refs=$,this.updater=nt||W}ft.prototype.isReactComponent={},ft.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ft.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _t(){}_t.prototype=ft.prototype;function dt(V,K,nt){this.props=V,this.context=K,this.refs=$,this.updater=nt||W}var jt=dt.prototype=new _t;jt.constructor=dt,et(jt,ft.prototype),jt.isPureReactComponent=!0;var Xt=Array.isArray;function xt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(V,K,nt){var rt=nt.ref;return{$$typeof:s,type:V,key:K,ref:rt!==void 0?rt:null,props:nt}}function M(V,K){return R(V.type,K,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function U(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return K[nt]})}var w=/\/+/g;function lt(V,K){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):K.toString(36)}function bt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xt,xt):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,K,nt,rt,yt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case t:Lt=!0;break;case T:return Lt=V._init,q(Lt(V._payload),K,nt,rt,yt)}}if(Lt)return yt=yt(V),Lt=rt===""?"."+lt(V,0):rt,Xt(yt)?(nt="",Lt!=null&&(nt=Lt.replace(w,"$&/")+"/"),q(yt,K,nt,"",function(es){return es})):yt!=null&&(N(yt)&&(yt=M(yt,nt+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Lt)),K.push(yt)),1;Lt=0;var Ie=rt===""?".":rt+":";if(Xt(V))for(var se=0;se<V.length;se++)rt=V[se],wt=Ie+lt(rt,se),Lt+=q(rt,K,nt,wt,yt);else if(se=F(V),typeof se=="function")for(V=se.call(V),se=0;!(rt=V.next()).done;)rt=rt.value,wt=Ie+lt(rt,se++),Lt+=q(rt,K,nt,wt,yt);else if(wt==="object"){if(typeof V.then=="function")return q(bt(V),K,nt,rt,yt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function Z(V,K,nt){if(V==null)return V;var rt=[],yt=0;return q(V,rt,"","",function(wt){return K.call(nt,wt,yt++)}),rt}function at(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qt={map:Z,forEach:function(V,K,nt){Z(V,function(){K.apply(this,arguments)},nt)},count:function(V){var K=0;return Z(V,function(){K++}),K},toArray:function(V){return Z(V,function(K){return K})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=S,vt.Children=qt,vt.Component=ft,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=a,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,K,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=et({},V.props),yt=V.key;if(K!=null)for(wt in K.key!==void 0&&(yt=""+K.key),K)!b.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(rt[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)rt.children=nt;else if(1<wt){for(var Lt=Array(wt),Ie=0;Ie<wt;Ie++)Lt[Ie]=arguments[Ie+2];rt.children=Lt}return R(V.type,yt,rt)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},vt.createElement=function(V,K,nt){var rt,yt={},wt=null;if(K!=null)for(rt in K.key!==void 0&&(wt=""+K.key),K)b.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=K[rt]);var Lt=arguments.length-2;if(Lt===1)yt.children=nt;else if(1<Lt){for(var Ie=Array(Lt),se=0;se<Lt;se++)Ie[se]=arguments[se+2];yt.children=Ie}if(V&&V.defaultProps)for(rt in Lt=V.defaultProps,Lt)yt[rt]===void 0&&(yt[rt]=Lt[rt]);return R(V,wt,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:p,render:V}},vt.isValidElement=N,vt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:at}},vt.memo=function(V,K){return{$$typeof:y,type:V,compare:K===void 0?null:K}},vt.startTransition=function(V){var K=I.T,nt={};I.T=nt;try{var rt=V(),yt=I.S;yt!==null&&yt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(xt,Ut)}catch(wt){Ut(wt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),I.T=K}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(V){return I.H.use(V)},vt.useActionState=function(V,K,nt){return I.H.useActionState(V,K,nt)},vt.useCallback=function(V,K){return I.H.useCallback(V,K)},vt.useContext=function(V){return I.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,K){return I.H.useDeferredValue(V,K)},vt.useEffect=function(V,K){return I.H.useEffect(V,K)},vt.useEffectEvent=function(V){return I.H.useEffectEvent(V)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(V,K,nt){return I.H.useImperativeHandle(V,K,nt)},vt.useInsertionEffect=function(V,K){return I.H.useInsertionEffect(V,K)},vt.useLayoutEffect=function(V,K){return I.H.useLayoutEffect(V,K)},vt.useMemo=function(V,K){return I.H.useMemo(V,K)},vt.useOptimistic=function(V,K){return I.H.useOptimistic(V,K)},vt.useReducer=function(V,K,nt){return I.H.useReducer(V,K,nt)},vt.useRef=function(V){return I.H.useRef(V)},vt.useState=function(V){return I.H.useState(V)},vt.useSyncExternalStore=function(V,K,nt){return I.H.useSyncExternalStore(V,K,nt)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.0",vt}var NA;function dm(){return NA||(NA=1,bd.exports=gS()),bd.exports}var He=dm();const pS=fS(He);var wd={exports:{}},fl={},Cd={exports:{}},Rd={};var OA;function yS(){return OA||(OA=1,(function(s){function t(q,Z){var at=q.length;q.push(Z);t:for(;0<at;){var Ut=at-1>>>1,qt=q[Ut];if(0<l(qt,Z))q[Ut]=Z,q[at]=qt,at=Ut;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var Z=q[0],at=q.pop();if(at!==Z){q[0]=at;t:for(var Ut=0,qt=q.length,V=qt>>>1;Ut<V;){var K=2*(Ut+1)-1,nt=q[K],rt=K+1,yt=q[rt];if(0>l(nt,at))rt<qt&&0>l(yt,nt)?(q[Ut]=yt,q[rt]=at,Ut=rt):(q[Ut]=nt,q[K]=at,Ut=K);else if(rt<qt&&0>l(yt,at))q[Ut]=yt,q[rt]=at,Ut=rt;else break t}}return Z}function l(q,Z){var at=q.sortIndex-Z.sortIndex;return at!==0?at:q.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,S=null,D=3,F=!1,W=!1,et=!1,$=!1,ft=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function jt(q){for(var Z=i(y);Z!==null;){if(Z.callback===null)a(y);else if(Z.startTime<=q)a(y),Z.sortIndex=Z.expirationTime,t(_,Z);else break;Z=i(y)}}function Xt(q){if(et=!1,jt(q),!W)if(i(_)!==null)W=!0,xt||(xt=!0,U());else{var Z=i(y);Z!==null&&bt(Xt,Z.startTime-q)}}var xt=!1,I=-1,b=5,R=-1;function M(){return $?!0:!(s.unstable_now()-R<b)}function N(){if($=!1,xt){var q=s.unstable_now();R=q;var Z=!0;try{t:{W=!1,et&&(et=!1,_t(I),I=-1),F=!0;var at=D;try{e:{for(jt(q),S=i(_);S!==null&&!(S.expirationTime>q&&M());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,D=S.priorityLevel;var qt=Ut(S.expirationTime<=q);if(q=s.unstable_now(),typeof qt=="function"){S.callback=qt,jt(q),Z=!0;break e}S===i(_)&&a(_),jt(q)}else a(_);S=i(_)}if(S!==null)Z=!0;else{var V=i(y);V!==null&&bt(Xt,V.startTime-q),Z=!1}}break t}finally{S=null,D=at,F=!1}Z=void 0}}finally{Z?U():xt=!1}}}var U;if(typeof dt=="function")U=function(){dt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,lt=w.port2;w.port1.onmessage=N,U=function(){lt.postMessage(null)}}else U=function(){ft(N,0)};function bt(q,Z){I=ft(function(){q(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(q){switch(D){case 1:case 2:case 3:var Z=3;break;default:Z=D}var at=D;D=Z;try{return q()}finally{D=at}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var at=D;D=q;try{return Z()}finally{D=at}},s.unstable_scheduleCallback=function(q,Z,at){var Ut=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Ut+at:Ut):at=Ut,q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=at+qt,q={id:T++,callback:Z,priorityLevel:q,startTime:at,expirationTime:qt,sortIndex:-1},at>Ut?(q.sortIndex=at,t(y,q),i(_)===null&&q===i(y)&&(et?(_t(I),I=-1):et=!0,bt(Xt,at-Ut))):(q.sortIndex=qt,t(_,q),W||F||(W=!0,xt||(xt=!0,U()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var Z=D;return function(){var at=D;D=Z;try{return q.apply(this,arguments)}finally{D=at}}}})(Rd)),Rd}var VA;function AS(){return VA||(VA=1,Cd.exports=yS()),Cd.exports}var Id={exports:{}},Ke={};var MA;function _S(){if(MA)return Ke;MA=1;var s=dm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Ke.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:F}):T==="script"&&a.d.X(_,{crossOrigin:S,integrity:D,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ke.requestFormReset=function(_){a.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var xA;function vS(){if(xA)return Id.exports;xA=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Id.exports=_S(),Id.exports}var UA;function ES(){if(UA)return fl;UA=1;var s=AS(),t=dm(),i=vS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,v=h.child;v;){if(v===r){g=!0,r=h,o=f;break}if(v===o){g=!0,o=h,r=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===r){g=!0,r=f,o=h;break}if(v===o){g=!0,o=f,r=h;break}v=v.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case $:return"StrictMode";case Xt:return"Suspense";case xt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:lt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return lt(e(n))}catch{}}return null}var bt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Ut=[],qt=-1;function V(e){return{current:e}}function K(e){0>qt||(e.current=Ut[qt],Ut[qt]=null,qt--)}function nt(e,n){qt++,Ut[qt]=e.current,e.current=n}var rt=V(null),yt=V(null),wt=V(null),Lt=V(null);function Ie(e,n){switch(nt(wt,n),nt(yt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function se(){K(rt),K(yt),K(wt)}function es(e){e.memoizedState!==null&&nt(Lt,e);var n=rt.current,r=Zy(n,e.type);n!==r&&(nt(yt,e),nt(rt,r))}function Gs(e){yt.current===e&&(K(rt),K(yt)),Lt.current===e&&(K(Lt),ol._currentValue=at)}var Ks,Ys;function $n(e){if(Ks===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",Ys=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+e+Ys}var ao=!1;function ns(e,n){if(!e||ao)return"";ao=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(j){var z=j}Reflect.construct(e,[],G)}else{try{G.call()}catch(j){z=j}e.call(G.prototype)}}else{try{throw Error()}catch(j){z=j}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var C=g.split(`
`),P=v.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{ao=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?$n(r):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return $n("Activity");default:return""}}function lo(e){try{var n="",r=null;do n+=oo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,rr=s.unstable_cancelCallback,bh=s.unstable_shouldYield,ql=s.unstable_requestPaint,$e=s.unstable_now,is=s.unstable_getCurrentPriorityLevel,uo=s.unstable_ImmediatePriority,co=s.unstable_UserBlockingPriority,sr=s.unstable_NormalPriority,wh=s.unstable_LowPriority,Hl=s.unstable_IdlePriority,Fl=s.log,Ql=s.unstable_setDisableYieldValue,Ln=null,Le=null;function Tn(e){if(typeof Fl=="function"&&Ql(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:Kl,Gl=Math.log,Xs=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(Gl(e)/Xs|0)|0}var ti=256,rs=262144,ye=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?h=ei(o):(g&=v,g!==0?h=ei(g):r||(r=v&~e,r!==0&&(h=ei(r))))):(v=o&~f,v!==0?h=ei(v):g!==0?h=ei(g):r||(r=o&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-he(r),G=1<<H;v[H]=0,C[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}r&=~G}o!==0&&as(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function as(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function ho(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function fo(e,n){var r=n&-n;return r=(r&42)!==0?1:os(r),(r&(e.suspendedLanes|n))!==0?0:r}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xl(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:vA(e.type))}function zn(e,n){var r=Z.p;try{return Z.p=e,n()}finally{Z.p=r}}var Bn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Bn,Me="__reactProps$"+Bn,ri="__reactContainer$"+Bn,Js="__reactEvents$"+Bn,Ih="__reactListeners$"+Bn,Jl="__reactHandles$"+Bn,Zl="__reactResources$"+Bn,si="__reactMarker$"+Bn;function Zs(e){delete e[Ae],delete e[Me],delete e[Js],delete e[Ih],delete e[Jl]}function ai(e){var n=e[Ae];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ri]||r[Ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=rA(e);e!==null;){if(r=e[Ae])return r;e=rA(e)}return n}e=r,r=e.parentNode}return null}function Sn(e){if(e=e[Ae]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[si]=!0}var mo=new Set,go={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},Ao={};function Wl(e){return pe.call(Ao,e)?!0:pe.call(yo,e)?!1:po.test(e)?Ao[e]=!0:(yo[e]=!0,!1)}function Ws(e,n,r){if(Wl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ar(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function ls(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ar(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var us=/[\n"\\]/g;function nn(e){return e.replace(us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $s(e,n,r,o,h,f,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,xe(n)):r!=null?vo(e,g,xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+xe(v):e.removeAttribute("name")}function $l(e,n,r,o,h,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function vo(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function or(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function tu(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function lr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||eu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function To(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var So=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,hi=null;function cs(e){var n=Sn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if($s(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));$s(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ls(o)}break t;case"textarea":tu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&or(e,!!r.multiple,n,!1)}}}var na=!1;function hr(e,n,r){if(na)return e(n,r);na=!0;try{var o=e(n);return o}finally{if(na=!1,(cr!==null||hi!==null)&&(Xu(),cr&&(n=cr,e=hi,hi=cr=null,cs(n),e)))for(n=0;n<e.length;n++)cs(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(wn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{hs=!1}var fi=null,bo=null,fs=null;function wo(){if(fs)return fs;var e,n=bo,r=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return fs=h.slice(e,1<o?1-o:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function Pe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Pe(Vi),fr=S({},Vi,{view:0,detail:0}),Co=Pe(fr),dr,ia,mi,ra=S({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(dr=e.screenX-mi.screenX,ia=e.screenY-mi.screenY):ia=dr=0,mi=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Ro=Pe(ra),ms=S({},ra,{dataTransfer:0}),iu=Pe(ms),ru=S({},fr,{relatedTarget:0}),gs=Pe(ru),Io=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),su=Pe(Io),sa=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),au=Pe(sa),ou=S({},Vi,{data:0}),gi=Pe(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function mr(){return hu}var tn=S({},fr,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=Pe(tn),du=S({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Pe(du),u=S({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=Pe(u),A=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Pe(A),k=S({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(k),tt=S({},Vi,{newState:0,oldState:0}),Tt=Pe(tt),fe=[9,13,27,32],Ht=wn&&"CompositionEvent"in window,ae=null;wn&&"documentMode"in document&&(ae=document.documentMode);var Cn=wn&&"TextEvent"in window&&!ae,pi=wn&&(!Ht||ae&&8<ae&&11>=ae),Fn=" ",Qn=!1;function ps(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function kT(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function LT(e,n){if(oa)return e==="compositionend"||!Ht&&ps(e,n)?(e=wo(),fs=bo=fi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function lg(e,n,r,o){cr?hi?hi.push(o):hi=[o]:cr=o,n=nc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Do=null,No=null;function zT(e){Fy(e,0)}function mu(e){var n=fn(e);if(ls(n))return e}function ug(e,n){if(e==="change")return n}var cg=!1;if(wn){var Dh;if(wn){var Nh="oninput"in document;if(!Nh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Nh=typeof hg.oninput=="function"}Dh=Nh}else Dh=!1;cg=Dh&&(!document.documentMode||9<document.documentMode)}function fg(){Do&&(Do.detachEvent("onpropertychange",dg),No=Do=null)}function dg(e){if(e.propertyName==="value"&&mu(No)){var n=[];lg(n,No,e,bn(e)),hr(zT,n)}}function BT(e,n,r){e==="focusin"?(fg(),Do=n,No=r,Do.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function jT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(No)}function qT(e,n){if(e==="click")return mu(n)}function HT(e,n){if(e==="input"||e==="change")return mu(n)}function FT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:FT;function Oo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,n){var r=mg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=mg(r)}}function pg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var QT=wn&&"documentMode"in document&&11>=document.documentMode,la=null,Vh=null,Vo=null,Mh=!1;function Ag(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mh||la==null||la!==ci(o)||(o=la,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Oo(Vo,o)||(Vo=o,o=nc(Vh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=la)))}function ys(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ua={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},xh={},_g={};wn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function As(e){if(xh[e])return xh[e];if(!ua[e])return e;var n=ua[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in _g)return xh[e]=n[r];return e}var vg=As("animationend"),Eg=As("animationiteration"),Tg=As("animationstart"),GT=As("transitionrun"),KT=As("transitionstart"),YT=As("transitioncancel"),Sg=As("transitionend"),bg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Gn(e,n){bg.set(e,n),li(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ca=0,kh=0;function pu(){for(var e=ca,n=kh=ca=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&wg(r,h,f)}}function yu(e,n,r,o){Rn[ca++]=e,Rn[ca++]=n,Rn[ca++]=r,Rn[ca++]=o,kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,r,o){return yu(e,n,r,o),Au(e)}function _s(e,n){return yu(e,null,null,n),Au(e)}function wg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Au(e){if(50<tl)throw tl=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function XT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,r,o){return new XT(e,n,r,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var r=e.alternate;return r===null?(r=gn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=tS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,r,n,h),e.elementType=R,e.lanes=f,e;case et:return vs(r.children,h,f,n);case $:g=8,h|=24;break;case ft:return e=gn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case Xt:return e=gn(13,r,n,h),e.elementType=Xt,e.lanes=f,e;case xt:return e=gn(19,r,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case _t:g=9;break t;case jt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,r,o){return e=gn(7,e,o,n),e.lanes=r,e}function zh(e,n,r){return e=gn(6,e,null,n),e.lanes=r,e}function Rg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,r){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ig=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var r=Ig.get(e);return r!==void 0?r:(n={value:e,source:n,stack:lo(n)},Ig.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var fa=[],da=0,vu=null,Mo=0,Dn=[],Nn=0,gr=null,yi=1,Ai="";function Ui(e,n){fa[da++]=Mo,fa[da++]=vu,vu=e,Mo=n}function Dg(e,n,r){Dn[Nn++]=yi,Dn[Nn++]=Ai,Dn[Nn++]=gr,gr=e;var o=yi;e=Ai;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-he(n)+h|r<<h|o,Ai=f+e}else yi=1<<f|r<<h|o,Ai=e}function jh(e){e.return!==null&&(Ui(e,1),Dg(e,1,0))}function qh(e){for(;e===vu;)vu=fa[--da],fa[da]=null,Mo=fa[--da],fa[da]=null;for(;e===gr;)gr=Dn[--Nn],Dn[Nn]=null,Ai=Dn[--Nn],Dn[Nn]=null,yi=Dn[--Nn],Dn[Nn]=null}function Ng(e,n){Dn[Nn++]=yi,Dn[Nn++]=Ai,Dn[Nn++]=gr,yi=n.id,Ai=n.overflow,gr=e}var ze=null,ee=null,kt=!1,pr=null,On=!1,Hh=Error(a(519));function yr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(In(n,e)),Hh}function Og(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Me]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<nl.length;r++)It(nl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),$l(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),lr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Yy(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||yr(e,!0)}function Vg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:ze=ze.return}}function ma(e){if(e!==ze)return!1;if(!kt)return Vg(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ld(e.type,e.memoizedProps)),r=!r),r&&ee&&yr(e),Vg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=iA(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=iA(e)}else n===27?(n=ee,Or(e.type)?(e=dd,dd=null,ee=e):ee=n):ee=ze?Mn(e.stateNode.nextSibling):null;return!0}function Es(){ee=ze=null,kt=!1}function Fh(){var e=pr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),pr=null),e}function xo(e){pr===null?pr=[e]:pr.push(e)}var Qh=V(null),Ts=null,ki=null;function Ar(e,n,r){nt(Qh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=Qh.current,K(Qh)}function Gh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Kh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=h;for(var C=0;C<n.length;C++)if(v.context===n[C]){f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),Gh(f.return,r,e),o||(g=null);break t}f=v.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Gh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var v=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Kh(n,e,r,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){Ts=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Mg(Ts,e)}function Tu(e,n){return Ts===null&&Ss(e),Mg(e,n)}function Mg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return r}var JT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ZT=s.unstable_scheduleCallback,WT=s.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new JT,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&ZT(WT,function(){e.controller.abort()})}var ko=null,Xh=0,pa=0,ya=null;function $T(e,n){if(ko===null){var r=ko=[];Xh=0,pa=$f(),ya={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Xh++,n.then(xg,xg),n}function xg(){if(--Xh===0&&ko!==null){ya!==null&&(ya.status="fulfilled");var e=ko;ko=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ug=q.S;q.S=function(e,n){Ay=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$T(e,n),Ug!==null&&Ug(e,n)};var bs=V(null);function Jh(){var e=bs.current;return e!==null?e:te.pooledCache}function Su(e,n){n===null?nt(bs,bs.current):nt(bs,n.pool)}function kg(){var e=Jh();return e===null?null:{parent:Ee._currentValue,pool:e}}var Aa=Error(a(460)),Zh=Error(a(474)),bu=Error(a(542)),wu={then:function(){}};function Lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(jn,jn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e}throw Cs=n,Aa}}function ws(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cs=r,Aa):r}}var Cs=null;function zg(){if(Cs===null)throw Error(a(459));var e=Cs;return Cs=null,e}function Bg(e){if(e===Aa||e===bu)throw Error(a(483))}var _a=null,Lo=0;function Cu(e){var n=Lo;return Lo+=1,_a===null&&(_a=[]),Pg(_a,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jg(e){function n(x,O){if(e){var L=x.deletions;L===null?(x.deletions=[O],x.flags|=16):L.push(O)}}function r(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=xi(x,O),x.index=0,x.sibling=null,x}function f(x,O,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<O?(x.flags|=67108866,O):L):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,O,L,Q){return O===null||O.tag!==6?(O=zh(L,x.mode,Q),O.return=x,O):(O=h(O,L),O.return=x,O)}function C(x,O,L,Q){var ct=L.type;return ct===et?H(x,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&ws(ct)===O.type)?(O=h(O,L.props),Po(O,L),O.return=x,O):(O=_u(L.type,L.key,L.props,null,x.mode,Q),Po(O,L),O.return=x,O)}function P(x,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Bh(L,x.mode,Q),O.return=x,O):(O=h(O,L.children||[]),O.return=x,O)}function H(x,O,L,Q,ct){return O===null||O.tag!==7?(O=vs(L,x.mode,Q,ct),O.return=x,O):(O=h(O,L),O.return=x,O)}function G(x,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zh(""+O,x.mode,L),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return L=_u(O.type,O.key,O.props,null,x.mode,L),Po(L,O),L.return=x,L;case W:return O=Bh(O,x.mode,L),O.return=x,O;case b:return O=ws(O),G(x,O,L)}if(bt(O)||U(O))return O=vs(O,x.mode,L,null),O.return=x,O;if(typeof O.then=="function")return G(x,Cu(O),L);if(O.$$typeof===dt)return G(x,Tu(x,O),L);Ru(x,O)}return null}function z(x,O,L,Q){var ct=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:v(x,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ct?C(x,O,L,Q):null;case W:return L.key===ct?P(x,O,L,Q):null;case b:return L=ws(L),z(x,O,L,Q)}if(bt(L)||U(L))return ct!==null?null:H(x,O,L,Q,null);if(typeof L.then=="function")return z(x,O,Cu(L),Q);if(L.$$typeof===dt)return z(x,O,Tu(x,L),Q);Ru(x,L)}return null}function j(x,O,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,v(O,x,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return x=x.get(Q.key===null?L:Q.key)||null,C(O,x,Q,ct);case W:return x=x.get(Q.key===null?L:Q.key)||null,P(O,x,Q,ct);case b:return Q=ws(Q),j(x,O,L,Q,ct)}if(bt(Q)||U(Q))return x=x.get(L)||null,H(O,x,Q,ct,null);if(typeof Q.then=="function")return j(x,O,L,Cu(Q),ct);if(Q.$$typeof===dt)return j(x,O,L,Tu(O,Q),ct);Ru(O,Q)}return null}function st(x,O,L,Q){for(var ct=null,zt=null,ut=O,Ct=O=0,Nt=null;ut!==null&&Ct<L.length;Ct++){ut.index>Ct?(Nt=ut,ut=null):Nt=ut.sibling;var Bt=z(x,ut,L[Ct],Q);if(Bt===null){ut===null&&(ut=Nt);break}e&&ut&&Bt.alternate===null&&n(x,ut),O=f(Bt,O,Ct),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt,ut=Nt}if(Ct===L.length)return r(x,ut),kt&&Ui(x,Ct),ct;if(ut===null){for(;Ct<L.length;Ct++)ut=G(x,L[Ct],Q),ut!==null&&(O=f(ut,O,Ct),zt===null?ct=ut:zt.sibling=ut,zt=ut);return kt&&Ui(x,Ct),ct}for(ut=o(ut);Ct<L.length;Ct++)Nt=j(ut,x,Ct,L[Ct],Q),Nt!==null&&(e&&Nt.alternate!==null&&ut.delete(Nt.key===null?Ct:Nt.key),O=f(Nt,O,Ct),zt===null?ct=Nt:zt.sibling=Nt,zt=Nt);return e&&ut.forEach(function(kr){return n(x,kr)}),kt&&Ui(x,Ct),ct}function mt(x,O,L,Q){if(L==null)throw Error(a(151));for(var ct=null,zt=null,ut=O,Ct=O=0,Nt=null,Bt=L.next();ut!==null&&!Bt.done;Ct++,Bt=L.next()){ut.index>Ct?(Nt=ut,ut=null):Nt=ut.sibling;var kr=z(x,ut,Bt.value,Q);if(kr===null){ut===null&&(ut=Nt);break}e&&ut&&kr.alternate===null&&n(x,ut),O=f(kr,O,Ct),zt===null?ct=kr:zt.sibling=kr,zt=kr,ut=Nt}if(Bt.done)return r(x,ut),kt&&Ui(x,Ct),ct;if(ut===null){for(;!Bt.done;Ct++,Bt=L.next())Bt=G(x,Bt.value,Q),Bt!==null&&(O=f(Bt,O,Ct),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt);return kt&&Ui(x,Ct),ct}for(ut=o(ut);!Bt.done;Ct++,Bt=L.next())Bt=j(ut,x,Ct,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?Ct:Bt.key),O=f(Bt,O,Ct),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt);return e&&ut.forEach(function(hS){return n(x,hS)}),kt&&Ui(x,Ct),ct}function $t(x,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ct=L.key;O!==null;){if(O.key===ct){if(ct=L.type,ct===et){if(O.tag===7){r(x,O.sibling),Q=h(O,L.props.children),Q.return=x,x=Q;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&ws(ct)===O.type){r(x,O.sibling),Q=h(O,L.props),Po(Q,L),Q.return=x,x=Q;break t}r(x,O);break}else n(x,O);O=O.sibling}L.type===et?(Q=vs(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=_u(L.type,L.key,L.props,null,x.mode,Q),Po(Q,L),Q.return=x,x=Q)}return g(x);case W:t:{for(ct=L.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(x,O.sibling),Q=h(O,L.children||[]),Q.return=x,x=Q;break t}else{r(x,O);break}else n(x,O);O=O.sibling}Q=Bh(L,x.mode,Q),Q.return=x,x=Q}return g(x);case b:return L=ws(L),$t(x,O,L,Q)}if(bt(L))return st(x,O,L,Q);if(U(L)){if(ct=U(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),mt(x,O,L,Q)}if(typeof L.then=="function")return $t(x,O,Cu(L),Q);if(L.$$typeof===dt)return $t(x,O,Tu(x,L),Q);Ru(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(x,O.sibling),Q=h(O,L),Q.return=x,x=Q):(r(x,O),Q=zh(L,x.mode,Q),Q.return=x,x=Q),g(x)):r(x,O)}return function(x,O,L,Q){try{Lo=0;var ct=$t(x,O,L,Q);return _a=null,ct}catch(ut){if(ut===Aa||ut===bu)throw ut;var zt=gn(29,ut,null,x.mode);return zt.lanes=Q,zt.return=x,zt}finally{}}}var Rs=jg(!0),qg=jg(!1),_r=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),wg(e,null,r),n}return yu(e,o,n,r),Au(e)}function zo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}function tf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var ef=!1;function Bo(){if(ef){var e=ya;if(e!==null)throw e}}function jo(e,n,r,o){ef=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var C=v,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==g&&(v===null?H.firstBaseUpdate=P:v.next=P,H.lastBaseUpdate=C))}if(f!==null){var G=h.baseState;g=0,H=P=C=null,v=f;do{var z=v.lane&-536870913,j=z!==v.lane;if(j?(Dt&z)===z:(o&z)===z){z!==0&&z===pa&&(ef=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var st=e,mt=v;z=n;var $t=r;switch(mt.tag){case 1:if(st=mt.payload,typeof st=="function"){G=st.call($t,G,z);break t}G=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=mt.payload,z=typeof st=="function"?st.call($t,G,z):st,z==null)break t;G=S({},G,z);break t;case 2:_r=!0}}z=v.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(P=H=j,C=G):H=H.next=j,g|=z;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;j=v,v=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(C=G),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Cr|=g,e.lanes=g,e.memoizedState=G}}function Hg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Fg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Hg(r[e],n)}var va=V(null),Iu=V(0);function Qg(e,n){e=Gi,nt(Iu,e),nt(va,n),Gi=e|n.baseLanes}function nf(){nt(Iu,Gi),nt(va,va.current)}function rf(){Gi=Iu.current,K(va),K(Iu)}var pn=V(null),Vn=null;function Tr(e){var n=e.alternate;nt(de,de.current&1),nt(pn,e),Vn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Vn=e)}function sf(e){nt(de,de.current),nt(pn,e),Vn===null&&(Vn=e)}function Gg(e){e.tag===22?(nt(de,de.current),nt(pn,e),Vn===null&&(Vn=e)):Sr()}function Sr(){nt(de,de.current),nt(pn,pn.current)}function yn(e){K(pn),Vn===e&&(Vn=null),K(de)}var de=V(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||hd(r)||fd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,St=null,Zt=null,Te=null,Nu=!1,Ea=!1,Is=!1,Ou=0,qo=0,Ta=null,e0=0;function ue(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function of(e,n,r,o,h,f){return Pi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Dp:Tf,Is=!1,f=r(o,h),Is=!1,Ea&&(f=Yg(n,r,o,h)),Kg(e),f}function Kg(e){q.H=Qo;var n=Zt!==null&&Zt.next!==null;if(Pi=0,Te=Zt=St=null,Nu=!1,qo=0,Ta=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Eu(e)&&(Se=!0))}function Yg(e,n,r,o){St=e;var h=0;do{if(Ea&&(Ta=null),qo=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,Te=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Np,f=n(r,o)}while(Ea);return f}function n0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function lf(){var e=Ou!==0;return Ou=0,e}function uf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function cf(e){if(Nu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Nu=!1}Pi=0,Te=Zt=St=null,Ea=!1,qo=Ou=0,Ta=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?St.memoizedState=Te=e:Te=Te.next=e,Te}function me(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Te===null?St.memoizedState:Te.next;if(n!==null)Te=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Te===null?St.memoizedState=Te=e:Te=Te.next=e}return Te}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ta===null&&(Ta=[]),e=Pg(Ta,e,n),n=St,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Dp:Tf),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===dt)return Be(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Vu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function xu(e){var n=me();return ff(n,Zt,e)}function ff(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var v=g=null,C=null,P=n,H=!1;do{var G=P.lane&-536870913;if(G!==P.lane?(Dt&G)===G:(Pi&G)===G){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),G===pa&&(H=!0);else if((Pi&z)===z){P=P.next,z===pa&&(H=!0);continue}else G={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(v=C=G,g=f):C=C.next=G,St.lanes|=z,Cr|=z;G=P.action,Is&&r(f,G),f=P.hasEagerState?P.eagerState:r(f,G)}else z={lane:G,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(v=C=z,g=f):C=C.next=z,St.lanes|=G,Cr|=G;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=v,!mn(f,e.memoizedState)&&(Se=!0,H&&(r=ya,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Xg(e,n,r){var o=St,h=me(),f=kt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn((Zt||h).memoizedState,r);if(g&&(h.memoizedState=r,Se=!0),h=h.queue,pf(Wg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},Zg.bind(null,o,h,r,n),null),te===null)throw Error(a(349));f||(Pi&127)!==0||Jg(o,n,r)}return r}function Jg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Vu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Zg(e,n,r,o){n.value=r,n.getSnapshot=o,$g(n)&&tp(e)}function Wg(e,n,r){return r(function(){$g(n)&&tp(e)})}function $g(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function tp(e){var n=_s(e,2);n!==null&&un(n,e,2)}function mf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),Is){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function ep(e,n,r,o){return e.baseState=r,ff(e,Zt,typeof o=="function"?o:zi)}function i0(e,n,r,o,h){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,np(n,f)):(f.next=r.next,n.pending=r.next=f)}}function np(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var v=r(h,o),C=q.S;C!==null&&C(g,v),ip(e,n,v)}catch(P){gf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,o),ip(e,n,f)}catch(P){gf(e,n,P)}}function ip(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){rp(e,n,o)},function(o){return gf(e,n,o)}):rp(e,n,r)}function rp(e,n,r){n.status="fulfilled",n.value=r,sp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,np(e,r)))}function gf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,sp(n),n=n.next;while(n!==o)}e.action=null}function sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ap(e,n){return n}function op(e,n){if(kt){var r=te.formState;if(r!==null){t:{var o=St;if(kt){if(ee){e:{for(var h=ee,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Mn(h.nextSibling),o=h.data==="F!";break t}}yr(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:n},r.queue=o,r=Cp.bind(null,St,o),o.dispatch=r,o=mf(!1),f=Ef.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=i0.bind(null,St,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function lp(e){var n=me();return up(n,Zt,e)}function up(e,n,r){if(n=ff(e,n,ap)[0],e=xu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===Aa?bu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Sa(9,{destroy:void 0},r0.bind(null,h,r),null)),[o,f,e]}function r0(e,n){e.action=n}function cp(e){var n=me(),r=Zt;if(r!==null)return up(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Sa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Vu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function hp(){return me().memoizedState}function Uu(e,n,r,o){var h=en();St.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},r,o===void 0?null:o)}function ku(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&af(o,Zt.memoizedState.deps)?h.memoizedState=Sa(n,f,r,o):(St.flags|=e,h.memoizedState=Sa(1|n,f,r,o))}function fp(e,n){Uu(8390656,8,e,n)}function pf(e,n){ku(2048,8,e,n)}function s0(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Vu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function dp(e){var n=me().memoizedState;return s0({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function mp(e,n){return ku(4,2,e,n)}function gp(e,n){return ku(4,4,e,n)}function pp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yp(e,n,r){r=r!=null?r.concat([e]):null,ku(4,4,pp.bind(null,n,e),r)}function yf(){}function Ap(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&af(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function _p(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Is){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o}function Af(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=vy(),St.lanes|=e,Cr|=e,r)}function vp(e,n,r,o){return mn(r,n)?r:va.current!==null?(e=Af(e,r,o),mn(e,n)||(Se=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(Se=!0,e.memoizedState=r):(e=vy(),St.lanes|=e,Cr|=e,n)}function Ep(e,n,r,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var g=q.T,v={};q.T=v,Ef(e,!1,n,r);try{var C=h(),P=q.S;if(P!==null&&P(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=t0(C,o);Fo(e,n,H,vn(e))}else Fo(e,n,o,vn(e))}catch(G){Fo(e,n,{then:function(){},status:"rejected",reason:G},vn())}finally{Z.p=f,g!==null&&v.types!==null&&(g.types=v.types),q.T=g}}function a0(){}function _f(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Tp(e).queue;Ep(e,h,n,at,r===null?a0:function(){return Sp(e),r(o)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sp(e){var n=Tp(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},vn())}function vf(){return Be(ol)}function bp(){return me().memoizedState}function wp(){return me().memoizedState}function o0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=vn();e=vr(r);var o=Er(n,e,r);o!==null&&(un(o,n,r),zo(o,n,r)),n={cache:Yh()},e.payload=n;return}n=n.return}}function l0(e,n,r){var o=vn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Rp(n,r):(r=Lh(e,n,r,o),r!==null&&(un(r,e,o),Ip(r,n,o)))}function Cp(e,n,r){var o=vn();Fo(e,n,r,o)}function Fo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Rp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,v=f(g,r);if(h.hasEagerState=!0,h.eagerState=v,mn(v,g))return yu(e,n,h,0),te===null&&pu(),!1}catch{}finally{}if(r=Lh(e,n,h,o),r!==null)return un(r,e,o),Ip(r,n,o),!0}return!1}function Ef(e,n,r,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=Lh(e,r,o,2),n!==null&&un(n,e,2)}function Lu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Rp(e,n){Ea=Nu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ip(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}var Qo={readContext:Be,use:Mu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Qo.useEffectEvent=ue;var Dp={readContext:Be,use:Mu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:fp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Uu(4194308,4,pp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(Is){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(Is){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l0.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,r=Cp.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:yf,useDeferredValue:function(e,n){var r=en();return Af(r,e,n)},useTransition:function(){var e=mf(!1);return e=Ep.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,h=en();if(kt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),te===null)throw Error(a(349));(Dt&127)!==0||Jg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,fp(Wg.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},Zg.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=te.identifierPrefix;if(kt){var r=Ai,o=yi;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ou++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=e0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vf,useFormState:op,useActionState:op,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ef.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return en().memoizedState=o0.bind(null,St)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((Ft&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Tf={readContext:Be,use:Mu,useCallback:Ap,useContext:Be,useEffect:pf,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:_p,useReducer:xu,useRef:hp,useState:function(){return xu(zi)},useDebugValue:yf,useDeferredValue:function(e,n){var r=me();return vp(r,Zt.memoizedState,e,n)},useTransition:function(){var e=xu(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Xg,useId:bp,useHostTransitionStatus:vf,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var r=me();return ep(r,Zt,e,n)},useMemoCache:hf,useCacheRefresh:wp};Tf.useEffectEvent=dp;var Np={readContext:Be,use:Mu,useCallback:Ap,useContext:Be,useEffect:pf,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:_p,useReducer:df,useRef:hp,useState:function(){return df(zi)},useDebugValue:yf,useDeferredValue:function(e,n){var r=me();return Zt===null?Af(r,e,n):vp(r,Zt.memoizedState,e,n)},useTransition:function(){var e=df(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Xg,useId:bp,useHostTransitionStatus:vf,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var r=me();return Zt!==null?ep(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:hf,useCacheRefresh:wp};Np.useEffectEvent=dp;function Sf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=vn(),h=vr(o);h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(un(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=vn(),h=vr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(un(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=vn(),o=vr(r);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,r),n!==null&&(un(n,e,r),zo(n,e,r))}};function Op(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(r,o)||!Oo(h,f):!0}function Vp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Ds(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Mp(e){gu(e)}function xp(e){console.error(e)}function Up(e){gu(e)}function Pu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,r){return r=vr(r),r.tag=3,r.payload={element:null},r.callback=function(){Pu(e,n)},r}function Lp(e){return e=vr(e),e.tag=3,e}function Pp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){kp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){kp(n,r,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function u0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,h,!0),r=pn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?Ju():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===wu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Jf(e,o,h)),!1;case 22:return r.flags|=65536,o===wu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Jf(e,o,h)),!1}throw Error(a(435,r.tag))}return Jf(e,o,h),Ju(),!1}if(kt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),xo(In(e,r)))):(o!==Hh&&(n=Error(a(423),{cause:o}),xo(In(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,r),h=wf(e.stateNode,o,h),tf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,r),$o===null?$o=[f]:$o.push(f),ce!==4&&(ce=2),n===null)return!0;o=In(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=wf(r.stateNode,o,e),tf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Lp(h),Pp(h,e,r,o),tf(r,h),!1}r=r.return}while(r!==null);return!1}var Cf=Error(a(461)),Se=!1;function je(e,n,r,o){n.child=e===null?qg(n,null,r,o):Rs(n,e.child,r,o)}function zp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return Ss(n),o=of(e,n,r,g,f,h),v=lf(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(kt&&v&&jh(n),n.flags|=1,je(e,n,o,h),n.child)}function Bp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,jp(e,n,f,o,h)):(e=_u(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function jp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Rf(e,n,r,o,h)}function qp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Hp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(n,f!==null?f.cachePool:null),f!==null?Qg(n,f):nf(),Gg(n);else return o=n.lanes=536870912,Hp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Su(n,f.cachePool),Qg(n,f),Sr(),n.memoizedState=null):(e!==null&&Su(n,null),nf(),Sr());return je(e,n,h,r),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hp(e,n,r,o,h){var f=Jh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Su(n,null),nf(),Gg(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function zu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Fp(e,n,r){return Rs(n,e.child,null,r),e=zu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function c0(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=zu(n,o),n.lanes=536870912,Go(null,e);if(sf(n),(e=ee)?(e=nA(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=Rg(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(sf(n),h)if(n.flags&256)n.flags&=-257,n=Fp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ga(e,n,r,!1),h=(r&e.childLanes)!==0,Se||h){if(o=te,o!==null&&(g=fo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,_s(e,g),un(o,e,g),Cf;Ju(),n=Fp(e,n,r)}else e=f.treeContext,ee=Mn(g.nextSibling),ze=n,kt=!0,pr=null,On=!1,e!==null&&Ng(n,e),n=zu(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Rf(e,n,r,o,h){return Ss(n),r=of(e,n,r,o,void 0,h),o=lf(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(kt&&o&&jh(n),n.flags|=1,je(e,n,r,h),n.child)}function Qp(e,n,r,o,h,f){return Ss(n),n.updateQueue=null,r=Yg(n,o,r,h),Kg(e),o=lf(),e!==null&&!Se?(uf(e,n,f),Bi(e,n,f)):(kt&&o&&jh(n),n.flags|=1,je(e,n,r,f),n.child)}function Gp(e,n,r,o,h){if(Ss(n),n.stateNode===null){var f=ha,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ha,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,C=Ds(r,v);f.props=C;var P=f.context,H=r.contextType;g=ha,typeof H=="object"&&H!==null&&(g=Be(H));var G=r.getDerivedStateFromProps;H=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||P!==g)&&Vp(n,f,o,g),_r=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,h),Bo(),P=n.memoizedState,v||z!==P||_r?(typeof G=="function"&&(Sf(n,r,G,o),P=n.memoizedState),(C=_r||Op(n,r,C,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),g=n.memoizedProps,H=Ds(r,g),f.props=H,G=n.pendingProps,z=f.context,P=r.contextType,C=ha,typeof P=="object"&&P!==null&&(C=Be(P)),v=r.getDerivedStateFromProps,(P=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==G||z!==C)&&Vp(n,f,o,C),_r=!1,z=n.memoizedState,f.state=z,jo(n,o,f,h),Bo();var j=n.memoizedState;g!==G||z!==j||_r||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof v=="function"&&(Sf(n,r,v,o),j=n.memoizedState),(H=_r||Op(n,r,H,o,z,j,C)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,r,h)):je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Kp(e,n,r,o){return Es(),n.flags|=256,je(e,n,r,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:kg()}}function Nf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_n),e}function Yp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Tr(n):Sr(),(e=ee)?(e=nA(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=Rg(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw yr(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var v=o.children;return o=o.fallback,h?(Sr(),h=n.mode,v=ju({mode:"hidden",children:v},h),o=vs(o,h,r,null),v.return=n,o.return=n,v.sibling=o,n.child=v,o=n.child,o.memoizedState=Df(r),o.childLanes=Nf(e,g,r),n.memoizedState=If,Go(null,o)):(Tr(n),Of(n,v))}var C=e.memoizedState;if(C!==null&&(v=C.dehydrated,v!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),v=o.fallback,h=n.mode,o=ju({mode:"visible",children:o.children},h),v=vs(v,h,r,null),v.flags|=2,o.return=n,v.return=n,o.sibling=v,n.child=o,Rs(n,e.child,null,r),o=n.child,o.memoizedState=Df(r),o.childLanes=Nf(e,g,r),n.memoizedState=If,n=Go(null,o));else if(Tr(n),fd(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,xo({value:o,source:null,stack:null}),n=Vf(e,n,r)}else if(Se||ga(e,n,r,!1),g=(r&e.childLanes)!==0,Se||g){if(g=te,g!==null&&(o=fo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,_s(e,o),un(g,e,o),Cf;hd(v)||Ju(),n=Vf(e,n,r)}else hd(v)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ee=Mn(v.nextSibling),ze=n,kt=!0,pr=null,On=!1,e!==null&&Ng(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(Sr(),v=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=xi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?v=xi(P,v):(v=vs(v,h,r,null),v.flags|=2),v.return=n,o.return=n,o.sibling=v,n.child=o,Go(null,o),o=n.child,v=e.child.memoizedState,v===null?v=Df(r):(h=v.cachePool,h!==null?(C=Ee._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=kg(),v={baseLanes:v.baseLanes|r,cachePool:h}),o.memoizedState=v,o.childLanes=Nf(e,g,r),n.memoizedState=If,Go(e.child,o)):(Tr(n),r=e.child,e=r.sibling,r=xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Of(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return Rs(n,e.child,null,r),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Gh(e.return,n,r)}function Mf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Jp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),je(e,n,o,r),o=kt?Mo:0,!v&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xp(e,r,n);else if(e.tag===19)Xp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Du(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Mf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Mf(n,!0,r,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Cr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=xi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=xi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function h0(e,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Ar(n,Ee,e.memoizedState.cache),Es();break;case 27:case 5:es(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Yp(e,n,r):(Tr(n),e=Bi(e,n,r),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ga(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Jp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,qp(e,n,r,n.pendingProps);case 24:Ar(n,Ee,e.memoizedState.cache)}return Bi(e,n,r)}function Zp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!xf(e,r)&&(n.flags&128)===0)return Se=!1,h0(e,n,r);Se=(e.flags&131072)!==0}else Se=!1,kt&&(n.flags&1048576)!==0&&Dg(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ws(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=Ds(e,o),n.tag=1,n=Gp(null,n,e,o,r)):(n.tag=0,n=Rf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===jt){n.tag=11,n=zp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Bp(null,n,e,o,r);break t}}throw n=lt(e)||e,Error(a(306,n,""))}}return n;case 0:return Rf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ds(o,n.pendingProps),Gp(e,n,o,h,r);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,$h(e,n),jo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ar(n,Ee,o),o!==f.cache&&Kh(n,[Ee],r,!0),Bo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(e,n,o,r);break t}else if(o!==h){h=In(Error(a(424)),n),xo(h),n=Kp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Mn(e.firstChild),ze=n,kt=!0,pr=null,On=!0,r=qg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Es(),o===h){n=Bi(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return Bu(e,n),e===null?(r=lA(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,o=ic(wt.current).createElement(r),o[Ae]=n,o[Me]=e,qe(o,r,e),_e(o),n.stateNode=o):n.memoizedState=lA(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return es(n),e===null&&kt&&(o=n.stateNode=sA(n.type,n.pendingProps,wt.current),ze=n,On=!0,h=ee,Or(n.type)?(dd=h,ee=Mn(o.firstChild)):ee=h),je(e,n,n.pendingProps.children,r),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ee)&&(o=j0(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,ze=n,ee=Mn(o.firstChild),On=!1,h=!0):h=!1),h||yr(n)),es(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,n0,null,null,r),ol._currentValue=h),Bu(e,n),je(e,n,o,r),n.child;case 6:return e===null&&kt&&((e=r=ee)&&(r=q0(r,n.pendingProps,On),r!==null?(n.stateNode=r,ze=n,ee=null,e=!0):e=!1),e||yr(n)),null;case 13:return Yp(e,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,r):je(e,n,o,r),n.child;case 11:return zp(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ss(n),h=Be(h),o=o(h),n.flags|=1,je(e,n,o,r),n.child;case 14:return Bp(e,n,n.type,n.pendingProps,r);case 15:return jp(e,n,n.type,n.pendingProps,r);case 19:return Jp(e,n,r);case 31:return c0(e,n,r);case 22:return qp(e,n,r,n.pendingProps);case 24:return Ss(n),o=Be(Ee),e===null?(h=Jh(),h===null&&(h=te,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Wh(n),Ar(n,Ee,h)):((e.lanes&r)!==0&&($h(e,n),jo(n,null,null,r),Bo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,Ee,o)):(o=f.cache,Ar(n,Ee,o),o!==h.cache&&Kh(n,[Ee],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function Uf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(by())e.flags|=8192;else throw Cs=wu,Zh}else e.flags&=-16777217}function Wp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dA(n))if(by())e.flags|=8192;else throw Cs=wu,Zh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yl():536870912,e.lanes|=n,Ra|=n)}function Ko(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function f0(e,n,r){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ne(n),Wp(n,f)):(ne(n),Uf(n,h,null,o,r))):f?f!==e.memoizedState?(ji(n),ne(n),Wp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ne(n),Uf(n,h,e,o,r)),null;case 27:if(Gs(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=rt.current,ma(n)?Og(n):(e=sA(h,o,r),n.stateNode=e,ji(n))}return ne(n),null;case 5:if(Gs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=rt.current,ma(n))Og(n);else{var g=ic(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ne(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ma(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,r)),e||yr(n,!0)}else e=ic(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),qu(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&id(n.stateNode.containerInfo),ne(n),null;case 10:return Li(n.type),ne(n),null;case 19:if(K(de),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Du(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Cg(r,e),r=r.sibling;return nt(de,de.current&1|2),kt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Ku&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Du(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ne(n),null}else 2*$e()-o.renderingStartTime>Ku&&r!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=de.current,nt(de,h?r&1|2:r&1),kt&&Ui(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return yn(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&qu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(bs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d0(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gs(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(de),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),rf(),e!==null&&K(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function $p(e,n){switch(qh(n),n.tag){case 3:Li(Ee),se();break;case 26:case 27:case 5:Gs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(de);break;case 10:Li(n.type);break;case 22:case 23:yn(n),rf(),e!==null&&K(bs);break;case 24:Li(Ee)}}function Yo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(v){Yt(n,n.return,v)}}function br(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,h=n;var C=r,P=v;try{P()}catch(H){Yt(h,C,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function ty(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Fg(n,r)}catch(o){Yt(e,e.return,o)}}}function ey(e,n,r){r.props=Ds(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Xo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function ny(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function kf(e,n,r){try{var o=e.stateNode;U0(o,e.type,r,n),o[Me]=n}catch(h){Yt(e,e.return,h)}}function iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Or(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,r),e=e.sibling;e!==null;)Pf(e,n,r),e=e.sibling}function Hu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Hu(e,n,r),e=e.sibling;e!==null;)Hu(e,n,r),e=e.sibling}function ry(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,o,r),n[Ae]=e,n[Me]=r}catch(f){Yt(e,e.return,f)}}var qi=!1,be=!1,zf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function m0(e,n){if(e=e.containerInfo,ad=cc,e=yg(e),Oh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,v=-1,C=-1,P=0,H=0,G=e,z=null;e:for(;;){for(var j;G!==r||h!==0&&G.nodeType!==3||(v=g+h),G!==f||o!==0&&G.nodeType!==3||(C=g+o),G.nodeType===3&&(g+=G.nodeValue.length),(j=G.firstChild)!==null;)z=G,G=j;for(;;){if(G===e)break e;if(z===r&&++P===h&&(v=g),z===f&&++H===o&&(C=g),(j=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=j}r=v===-1||C===-1?null:{start:v,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(od={focusedElem:e,selectionRange:r},cc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Ds(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)cd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function ay(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(e,r),o&4&&Yo(5,r);break;case 1:if(Fi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(r,r.return,g)}else{var h=Ds(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(r,r.return,g)}}o&64&&ty(r),o&512&&Xo(r,r.return);break;case 3:if(Fi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fg(e,n)}catch(g){Yt(r,r.return,g)}}break;case 27:n===null&&o&4&&ry(r);case 26:case 5:Fi(e,r),n===null&&o&4&&ny(r),o&512&&Xo(r,r.return);break;case 12:Fi(e,r);break;case 31:Fi(e,r),o&4&&uy(e,r);break;case 13:Fi(e,r),o&4&&cy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=S0.bind(null,r),H0(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||be,h=qi;var f=be;qi=o,(be=n)&&!f?Qi(e,r,(r.subtreeFlags&8772)!==0):Fi(e,r),qi=h,be=f}break;case 30:break;default:Fi(e,r)}}function oy(e){var n=e.alternate;n!==null&&(e.alternate=null,oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function Hi(e,n,r){for(r=r.child;r!==null;)ly(e,n,r),r=r.sibling}function ly(e,n,r){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:be||_i(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||_i(r,n);var o=oe,h=sn;Or(r.type)&&(oe=r.stateNode,sn=!1),Hi(e,n,r),rl(r.stateNode),oe=o,sn=h;break;case 5:be||_i(r,n);case 6:if(o=oe,h=sn,oe=null,Hi(e,n,r),oe=o,sn=h,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:oe!==null&&(sn?(e=oe,tA(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):tA(oe,r.stateNode));break;case 4:o=oe,h=sn,oe=r.stateNode.containerInfo,sn=!0,Hi(e,n,r),oe=o,sn=h;break;case 0:case 11:case 14:case 15:br(2,r,n),be||br(4,r,n),Hi(e,n,r);break;case 1:be||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ey(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,Hi(e,n,r),be=o;break;default:Hi(e,n,r)}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Yt(n,n.return,r)}}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Yt(n,n.return,r)}}function g0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sy),n;default:throw Error(a(435,e.tag))}}function Fu(e,n){var r=g0(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=b0.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(Or(v.type)){oe=v.stateNode,sn=!1;break t}break;case 5:oe=v.stateNode,sn=!1;break t;case 3:case 4:oe=v.stateNode.containerInfo,sn=!0;break t}v=v.return}if(oe===null)throw Error(a(160));ly(f,g,h),oe=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hy(n,e),n=n.sibling}var Kn=null;function hy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(br(3,e,e.return),Yo(3,e),br(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||r===null||_i(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(be||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,r),f[Ae]=e,_e(f),o=f;break t;case"link":var g=hA("link","href",h).get(o+(r.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(v,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=hA("meta","content",h).get(o+(r.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(v,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,_e(f),o=f}e.stateNode=o}else fA(h,e.type,e.stateNode);else e.stateNode=cA(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?fA(h,e.type,e.stateNode):cA(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&kf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||r===null||_i(r,r.return)),r!==null&&o&4&&kf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(st){Yt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Yt(e,e.return,st)}}break;case 3:if(ac=null,h=Kn,Kn=rc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(st){Yt(e,e.return,st)}zf&&(zf=!1,fy(e));break;case 4:o=Kn,Kn=rc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Gu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=qi,H=be;if(qi=P||h,be=H||C,an(n,e),be=H,qi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||qi||be||Ns(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=C.stateNode;var G=C.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Yt(C,C.return,st)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(st){Yt(C,C.return,st)}}}else if(n.tag===18){if(r===null){C=n;try{var j=C.stateNode;h?eA(j,!0):eA(C.stateNode,!1)}catch(st){Yt(C,C.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Fu(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(iy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Lf(e);Hu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var v=Lf(e);Hu(e,v,g);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Lf(e);Pf(e,P,C);break;default:throw Error(a(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ay(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Ns(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ey(n,n.return,r),Ns(n);break;case 27:rl(n.stateNode);case 26:case 5:_i(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function Qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,r),Yo(4,f);break;case 1:if(Qi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var v=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Hg(C[h],v)}catch(P){Yt(o,o.return,P)}}r&&g&64&&ty(f),Xo(f,f.return);break;case 27:ry(f);case 26:case 5:Qi(h,f,r),r&&o===null&&g&4&&ny(f),Xo(f,f.return);break;case 12:Qi(h,f,r);break;case 31:Qi(h,f,r),r&&g&4&&uy(h,f);break;case 13:Qi(h,f,r),r&&g&4&&cy(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,r),Xo(f,f.return);break;case 30:break;default:Qi(h,f,r)}n=n.sibling}}function Bf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Uo(r))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(e,n,r,o),n=n.sibling}function dy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&Yo(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):Jo(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,ba(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(g,n);break;case 24:Yn(e,n,r,o),h&2048&&jf(n.alternate,n);break;default:Yn(e,n,r,o)}}function ba(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,v=r,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,v,C,h),Yo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ba(f,g,v,C,h):Jo(f,g):(H._visibility|=2,ba(f,g,v,C,h)),h&&P&2048&&Bf(g.alternate,g);break;case 24:ba(f,g,v,C,h),h&&P&2048&&jf(g.alternate,g);break;default:ba(f,g,v,C,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(r,o),h&2048&&Bf(o.alternate,o);break;case 24:Jo(r,o),h&2048&&jf(o.alternate,o);break;default:Jo(r,o)}n=n.sibling}}var Zo=8192;function wa(e,n,r){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)my(e,n,r),e=e.sibling}function my(e,n,r){switch(e.tag){case 26:wa(e,n,r),e.flags&Zo&&e.memoizedState!==null&&eS(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,r);break;case 3:case 4:var o=Kn;Kn=rc(e.stateNode.containerInfo),wa(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,wa(e,n,r),Zo=o):wa(e,n,r));break;default:wa(e,n,r)}}function gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,yy(o,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&br(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Wo(e);break;default:Wo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,yy(o,e)}gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function yy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:br(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(oy(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var p0={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},y0=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Rt=null,Dt=0,Kt=0,An=null,wr=!1,Ca=!1,qf=!1,Gi=0,ce=0,Cr=0,Os=0,Hf=0,_n=0,Ra=0,$o=null,ln=null,Ff=!1,Gu=0,Ay=0,Ku=1/0,Yu=null,Rr=null,Ne=0,Ir=null,Ia=null,Ki=0,Qf=0,Gf=null,_y=null,tl=0,Kf=null;function vn(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:q.T!==null?$f():Xl()}function vy(){if(_n===0)if((Dt&536870912)===0||kt){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function un(e,n,r){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Dr(e,Dt,_n,!1)),ss(e,r),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(Os|=r),ce===4&&Dr(e,Dt,_n,!1)),vi(e))}function Ey(e,n,r){if((Ft&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?v0(e,n):Xf(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Dr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!A0(r)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var v=e;h=$o;var C=v.current.memoizedState.isDehydrated;if(C&&(Da(v,g).flags|=256),g=Xf(v,g,!1),g!==2){if(qf&&!C){v.errorRecoveryDisabledLanes|=f,Os|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,_n,!wr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gu+300-$e(),10<h)){if(Dr(o,n,_n,!wr),ni(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=Wy(Ty.bind(null,o,r,ln,Yu,Ff,n,_n,Os,Ra,wr,f,"Throttled",-0,0),h);break t}Ty(o,r,ln,Yu,Ff,n,_n,Os,Ra,wr,f,null,-0,0)}}break}while(!0);vi(e)}function Ty(e,n,r,o,h,f,g,v,C,P,H,G,z,j){if(e.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},my(n,f,G);var st=(f&62914560)===f?Gu-$e():(f&4194048)===f?Ay-$e():0;if(st=nS(G,st),st!==null){Ki=f,e.cancelPendingCommit=st(Ny.bind(null,e,n,f,r,o,h,g,v,C,H,G,null,z,j)),Dr(e,f,g,!P);return}}Ny(e,n,f,r,o,h,g,v,C)}function A0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n,r,o){n&=~Hf,n&=~Os,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&as(e,r,n)}function Xu(){return(Ft&6)===0?(el(0),!1):!0}function Yf(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,ki=Ts=null,cf(e),_a=null,Lo=0,e=Rt;for(;e!==null;)$p(e.alternate,e),e=e.return;Rt=null}}function Da(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,P0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,Yf(),te=e,Rt=r=xi(e.current,null),Dt=n,Kt=0,An=null,wr=!1,Ca=Pn(e,n),qf=!1,Ra=_n=Hf=Os=Cr=ce=0,ln=$o=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,pu(),r}function Sy(e,n){St=null,q.H=Qo,n===Aa||n===bu?(n=zg(),Kt=3):n===Zh?(n=zg(),Kt=4):Kt=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Rt===null&&(ce=1,Pu(e,In(n,e.current)))}function by(){var e=pn.current;return e===null?!0:(Dt&4194048)===Dt?Vn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Vn:!1}function wy(){var e=q.H;return q.H=Qo,e===null?Qo:e}function Cy(){var e=q.A;return q.A=p0,e}function Ju(){ce=4,wr||(Dt&4194048)!==Dt&&pn.current!==null||(Ca=!0),(Cr&134217727)===0&&(Os&134217727)===0||te===null||Dr(te,Dt,_n,!1)}function Xf(e,n,r){var o=Ft;Ft|=2;var h=wy(),f=Cy();(te!==e||Dt!==n)&&(Yu=null,Da(e,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Rt!==null){var v=Rt,C=An;switch(Kt){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Kt;if(Kt=0,An=null,Na(e,v,C,P),r&&Ca){g=0;break t}break;default:P=Kt,Kt=0,An=null,Na(e,v,C,P)}}_0(),g=ce;break}catch(H){Sy(e,H)}while(!0);return n&&e.shellSuspendCounter++,ki=Ts=null,Ft=o,q.H=h,q.A=f,Rt===null&&(te=null,Dt=0,pu()),g}function _0(){for(;Rt!==null;)Ry(Rt)}function v0(e,n){var r=Ft;Ft|=2;var o=wy(),h=Cy();te!==e||Dt!==n?(Yu=null,Ku=$e()+500,Da(e,n)):Ca=Pn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=An;e:switch(Kt){case 1:Kt=0,An=null,Na(e,n,f,1);break;case 2:case 9:if(Lg(f)){Kt=0,An=null,Iy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),vi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Lg(f)?(Kt=0,An=null,Iy(n)):(Kt=0,An=null,Na(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var v=Rt;if(g?dA(g):v.stateNode.complete){Kt=0,An=null;var C=v.sibling;if(C!==null)Rt=C;else{var P=v.return;P!==null?(Rt=P,Zu(P)):Rt=null}break e}}Kt=0,An=null,Na(e,n,f,5);break;case 6:Kt=0,An=null,Na(e,n,f,6);break;case 8:Yf(),ce=6;break t;default:throw Error(a(462))}}E0();break}catch(H){Sy(e,H)}while(!0);return ki=Ts=null,q.H=o,q.A=h,Ft=r,Rt!==null?0:(te=null,Dt=0,pu(),ce)}function E0(){for(;Rt!==null&&!bh();)Ry(Rt)}function Ry(e){var n=Zp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Zu(e):Rt=n}function Iy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Qp(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Qp(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:cf(n);default:$p(r,n),n=Rt=Cg(n,Gi),n=Zp(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Zu(e):Rt=n}function Na(e,n,r,o){ki=Ts=null,cf(n),_a=null,Lo=0;var h=n.return;try{if(u0(e,h,n,r,Dt)){ce=1,Pu(e,In(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Pu(e,In(r,e.current)),Rt=null;return}n.flags&32768?(kt||o===1?e=!0:Ca||(Dt&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,wr);return}e=n.return;var r=f0(n.alternate,n,Gi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function Dy(e,n){do{var r=d0(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ce=6,Rt=null}function Ny(e,n,r,o,h,f,g,v,C){e.cancelPendingCommit=null;do Wu();while(Ne!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Rh(e,r,f,g,v,C),e===te&&(Rt=te=null,Dt=0),Ia=n,Ir=e,Ki=r,Qf=f,Gf=h,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w0(sr,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=Z.p,Z.p=2,g=Ft,Ft|=4;try{m0(e,n,r)}finally{Ft=g,Z.p=h,q.T=o}}Ne=1,Oy(),Vy(),My()}}function Oy(){if(Ne===1){Ne=0;var e=Ir,n=Ia,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=Z.p;Z.p=2;var h=Ft;Ft|=4;try{hy(n,e);var f=od,g=yg(e.containerInfo),v=f.focusedElem,C=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&pg(v.ownerDocument.documentElement,v)){if(C!==null&&Oh(v)){var P=C.start,H=C.end;if(H===void 0&&(H=P),"selectionStart"in v)v.selectionStart=P,v.selectionEnd=Math.min(H,v.value.length);else{var G=v.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var j=z.getSelection(),st=v.textContent.length,mt=Math.min(C.start,st),$t=C.end===void 0?mt:Math.min(C.end,st);!j.extend&&mt>$t&&(g=$t,$t=mt,mt=g);var x=gg(v,mt),O=gg(v,$t);if(x&&O&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var L=G.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),mt>$t?(j.addRange(L),j.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),j.addRange(L))}}}}for(G=[],j=v;j=j.parentNode;)j.nodeType===1&&G.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var Q=G[v];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}cc=!!ad,od=ad=null}finally{Ft=h,Z.p=o,q.T=r}}e.current=n,Ne=2}}function Vy(){if(Ne===2){Ne=0;var e=Ir,n=Ia,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=Z.p;Z.p=2;var h=Ft;Ft|=4;try{ay(e,n.alternate,n)}finally{Ft=h,Z.p=o,q.T=r}}Ne=3}}function My(){if(Ne===4||Ne===3){Ne=0,ql();var e=Ir,n=Ia,r=Ki,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ia=Ir=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),Ni(r),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=Z.p,Z.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var v=o[g];f(v.value,{componentStack:v.stack})}}finally{q.T=n,Z.p=h}}(Ki&3)!==0&&Wu(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Kf?tl++:(tl=0,Kf=e):tl=0,el(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function Wu(){return Oy(),Vy(),My(),Uy()}function Uy(){if(Ne!==5)return!1;var e=Ir,n=Qf;Qf=0;var r=Ni(Ki),o=q.T,h=Z.p;try{Z.p=32>r?32:r,q.T=null,r=Gf,Gf=null;var f=Ir,g=Ki;if(Ne=0,Ia=Ir=null,Ki=0,(Ft&6)!==0)throw Error(a(331));var v=Ft;if(Ft|=4,py(f.current),dy(f,f.current,g,r),Ft=v,el(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{Z.p=h,q.T=o,xy(e,n)}}function ky(e,n,r){n=In(r,n),n=wf(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(ss(e,2),vi(e))}function Yt(e,n,r){if(e.tag===3)ky(e,e,r);else for(;n!==null;){if(n.tag===3){ky(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=In(r,e),r=Lp(2),o=Er(n,r,2),o!==null&&(Pp(r,o,n,e),ss(o,2),vi(o));break}}n=n.return}}function Jf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new y0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(qf=!0,h.add(r),e=T0.bind(null,e,n,r),n.then(e,e))}function T0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,te===e&&(Dt&r)===r&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>$e()-Gu?(Ft&2)===0&&Da(e,0):Hf|=r,Ra===Dt&&(Ra=0)),vi(e)}function Ly(e,n){n===0&&(n=Yl()),e=_s(e,n),e!==null&&(ss(e,n),vi(e))}function S0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ly(e,r)}function b0(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ly(e,r)}function w0(e,n){return De(e,n)}var $u=null,Oa=null,Zf=!1,tc=!1,Wf=!1,Nr=0;function vi(e){e!==Oa&&e.next===null&&(Oa===null?$u=Oa=e:Oa=Oa.next=e),tc=!0,Zf||(Zf=!0,R0())}function el(e,n){if(!Wf&&tc){Wf=!0;do for(var r=!1,o=$u;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,jy(o,f))}else f=Dt,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,jy(o,f));o=o.next}while(r);Wf=!1}}function C0(){Py()}function Py(){tc=Zf=!1;var e=0;Nr!==0&&L0()&&(e=Nr);for(var n=$e(),r=null,o=$u;o!==null;){var h=o.next,f=zy(o,n);f===0?(o.next=null,r===null?$u=h:r.next=h,h===null&&(Oa=r)):(r=o,(e!==0||(f&3)!==0)&&(tc=!0)),o=h}Ne!==0&&Ne!==5||el(e),Nr!==0&&(Nr=0)}function zy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),v=1<<g,C=h[g];C===-1?((v&r)===0||(v&o)!==0)&&(h[g]=Ch(v,n)):C<=n&&(e.expiredLanes|=v),f&=~v}if(n=te,r=Dt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&rr(o),Ni(r)){case 2:case 8:r=co;break;case 32:r=sr;break;case 268435456:r=Hl;break;default:r=sr}return o=By.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&rr(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Wu()&&e.callbackNode!==r)return null;var o=Dt;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),zy(e,$e()),e.callbackNode!=null&&e.callbackNode===r?By.bind(null,e):null)}function jy(e,n){if(Wu())return null;Ey(e,n,!0)}function R0(){z0(function(){(Ft&6)!==0?De(uo,C0):Py()})}function $f(){if(Nr===0){var e=pa;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Nr=e}return Nr}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Hy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function I0(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=qy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var v=new di("action","action",null,o,h);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var C=g?Hy(h,g):new FormData(h);_f(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(v.preventDefault(),C=g?Hy(h,g):new FormData(h),_f(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var td=0;td<Uh.length;td++){var ed=Uh[td],D0=ed.toLowerCase(),N0=ed[0].toUpperCase()+ed.slice(1);Gn(D0,"on"+N0)}Gn(vg,"onAnimationEnd"),Gn(Eg,"onAnimationIteration"),Gn(Tg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(GT,"onTransitionRun"),Gn(KT,"onTransitionStart"),Gn(YT,"onTransitionCancel"),Gn(Sg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Fy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var v=o[g],C=v.instance,P=v.currentTarget;if(v=v.listener,C!==f&&h.isPropagationStopped())break t;f=v,h.currentTarget=P;try{f(h)}catch(H){gu(H)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(v=o[g],C=v.instance,P=v.currentTarget,v=v.listener,C!==f&&h.isPropagationStopped())break t;f=v,h.currentTarget=P;try{f(h)}catch(H){gu(H)}h.currentTarget=null,f=C}}}}function It(e,n){var r=n[Js];r===void 0&&(r=n[Js]=new Set);var o=e+"__bubble";r.has(o)||(Qy(n,e,2,!1),r.add(o))}function nd(e,n,r){var o=0;n&&(o|=4),Qy(r,e,o,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ec]){e[ec]=!0,mo.forEach(function(r){r!=="selectionchange"&&(O0.has(r)||nd(r,!1,e),nd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ec]||(n[ec]=!0,nd("selectionchange",!1,n))}}function Qy(e,n,r,o){switch(vA(n)){case 2:var h=sS;break;case 8:h=aS;break;default:h=Ad}r=h.bind(null,n,r,e),h=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function rd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;v!==null;){if(g=ai(v),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}v=v.parentNode}}o=o.return}hr(function(){var P=f,H=bn(r),G=[];t:{var z=bg.get(e);if(z!==void 0){var j=di,st=e;switch(e){case"keypress":if(ds(r)===0)break t;case"keydown":case"keyup":j=fu;break;case"focusin":st="focus",j=gs;break;case"focusout":st="blur",j=gs;break;case"beforeblur":case"afterblur":j=gs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case vg:case Eg:case Tg:j=su;break;case Sg:j=E;break;case"scroll":case"scrollend":j=Co;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Mi;break;case"toggle":case"beforetoggle":j=Tt}var mt=(n&4)!==0,$t=!mt&&(e==="scroll"||e==="scrollend"),x=mt?z!==null?z+"Capture":null:z;mt=[];for(var O=P,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=qn(O,x),Q!=null&&mt.push(il(O,Q,L))),$t)break;O=O.return}0<mt.length&&(z=new j(z,st,null,r,H),G.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==So&&(st=r.relatedTarget||r.fromElement)&&(ai(st)||st[ri]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(st=r.relatedTarget||r.toElement,j=P,st=st?ai(st):null,st!==null&&($t=c(st),mt=st.tag,st!==$t||mt!==5&&mt!==27&&mt!==6)&&(st=null)):(j=null,st=P),j!==st)){if(mt=Ro,Q="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Mi,Q="onPointerLeave",x="onPointerEnter",O="pointer"),$t=j==null?z:fn(j),L=st==null?z:fn(st),z=new mt(Q,O+"leave",j,r,H),z.target=$t,z.relatedTarget=L,Q=null,ai(H)===P&&(mt=new mt(x,O+"enter",st,r,H),mt.target=L,mt.relatedTarget=$t,Q=mt),$t=Q,j&&st)e:{for(mt=V0,x=j,O=st,L=0,Q=x;Q;Q=mt(Q))L++;Q=0;for(var ct=O;ct;ct=mt(ct))Q++;for(;0<L-Q;)x=mt(x),L--;for(;0<Q-L;)O=mt(O),Q--;for(;L--;){if(x===O||O!==null&&x===O.alternate){mt=x;break e}x=mt(x),O=mt(O)}mt=null}else mt=null;j!==null&&Gy(G,z,j,mt,!1),st!==null&&$t!==null&&Gy(G,$t,st,mt,!0)}}t:{if(z=P?fn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var zt=ug;else if(og(z))if(cg)zt=HT;else{zt=jT;var ut=BT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ta(P.elementType)&&(zt=ug):zt=qT;if(zt&&(zt=zt(e,P))){lg(G,zt,r,H);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&vo(z,"number",z.value)}switch(ut=P?fn(P):window,e){case"focusin":(og(ut)||ut.contentEditable==="true")&&(la=ut,Vh=P,Vo=null);break;case"focusout":Vo=Vh=la=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Ag(G,r,H);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":Ag(G,r,H)}var Ct;if(Ht)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else oa?ps(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(pi&&r.locale!=="ko"&&(oa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&oa&&(Ct=wo()):(fi=H,bo="value"in fi?fi.value:fi.textContent,oa=!0)),ut=nc(P,Nt),0<ut.length&&(Nt=new gi(Nt,e,null,r,H),G.push({event:Nt,listeners:ut}),Ct?Nt.data=Ct:(Ct=aa(r),Ct!==null&&(Nt.data=Ct)))),(Ct=Cn?kT(e,r):LT(e,r))&&(Nt=nc(P,"onBeforeInput"),0<Nt.length&&(ut=new gi("onBeforeInput","beforeinput",null,r,H),G.push({event:ut,listeners:Nt}),ut.data=Ct)),I0(G,e,P,r,H)}Fy(G,n)})}function il(e,n,r){return{instance:e,listener:n,currentTarget:r}}function nc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(il(e,h,f)),h=qn(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function V0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var v=r,C=v.alternate,P=v.stateNode;if(v=v.tag,C!==null&&C===o)break;v!==5&&v!==26&&v!==27||P===null||(C=P,h?(P=qn(r,f),P!=null&&g.unshift(il(r,P,C))):h||(P=qn(r,f),P!=null&&g.push(il(r,P,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var M0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(x0,"")}function Yy(e,n){return n=Ky(n),Ky(e)===n}function Wt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Ws(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ws(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=nu.get(r)||r,Ws(e,r,o))}}function sd(e,n,r,o,h,f){switch(r){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ws(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,r,null)}}h&&Wt(e,n,"srcSet",r.srcSet,r,null),o&&Wt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var v=f=g=h=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Wt(e,n,o,H,r,null)}}$l(e,f,v,C,P,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(v=r[h],v!=null))switch(h){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Wt(e,n,h,v,r,null)}n=f,r=g,e.multiple=!!o,n!=null?or(e,!!o,n,!1):r!=null&&or(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(v=r[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":h=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Wt(e,n,g,v,r,null)}lr(e,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,n,C,o,r,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)It(nl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,P,o,r,null)}return;default:if(ta(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&sd(e,n,H,o,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(o=r[v],o!=null&&Wt(e,n,v,o,r,null))}function U0(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,v=null,C=null,P=null,H=null;for(j in r){var G=r[j];if(r.hasOwnProperty(j)&&G!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=G;default:o.hasOwnProperty(j)||Wt(e,n,j,null,o,G)}}for(var z in o){var j=o[z];if(G=r[z],o.hasOwnProperty(z)&&(j!=null||G!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":v=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==G&&Wt(e,n,z,j,o,G)}}$s(e,g,v,C,P,H,f,h);return;case"select":j=g=v=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==C&&Wt(e,n,h,f,o,C)}n=v,r=g,o=j,z!=null?or(e,!!r,z,!1):!!o!=!!r&&(n!=null?or(e,!!r,n,!0):or(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Wt(e,n,v,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}tu(e,z,j);return;case"option":for(var st in r)if(z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Wt(e,n,st,null,o,z)}for(C in o)if(z=o[C],j=r[C],o.hasOwnProperty(C)&&z!==j&&(z!=null||j!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Wt(e,n,C,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Wt(e,n,mt,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Wt(e,n,P,z,o,j)}return;default:if(ta(n)){for(var $t in r)z=r[$t],r.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&sd(e,n,$t,void 0,o,z);for(H in o)z=o[H],j=r[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||sd(e,n,H,z,o,j);return}}for(var x in r)z=r[x],r.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Wt(e,n,x,null,o,z);for(G in o)z=o[G],j=r[G],!o.hasOwnProperty(G)||z===j||z==null&&j==null||Wt(e,n,G,z,o,j)}function Xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,v=h.duration;if(f&&v&&Xy(g)){for(g=0,v=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>v)break;var H=C.transferSize,G=C.initiatorType;H&&Xy(G)&&(C=C.responseEnd,g+=H*(C<v?1:(v-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function L0(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(B0)}:Wy;function B0(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function tA(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")rl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,rl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,v=f.nodeName;f[si]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&rl(e.ownerDocument.body);r=h}while(r);Ua(n)}function eA(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":cd(r),Zs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function j0(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function q0(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Mn(e.nextSibling),e===null))return null;return e}function nA(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H0(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function iA(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Mn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function rA(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function sA(e,n,r){switch(n=ic(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zs(e)}var xn=new Map,aA=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=Z.d;Z.d={f:F0,r:Q0,D:G0,C:K0,L:Y0,m:X0,X:Z0,S:J0,M:W0};function F0(){var e=Yi.f(),n=Xu();return e||n}function Q0(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Sp(n):Yi.r(e)}var Va=typeof document>"u"?null:document;function oA(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),aA.has(h)||(aA.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function G0(e){Yi.D(e),oA("dns-prefetch",e,null)}function K0(e,n){Yi.C(e,n),oA("preconnect",e,n)}function Y0(e,n,r){Yi.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=xa(e)}xn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function X0(e,n){Yi.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(e)}if(!xn.has(f)&&(e=S({rel:"modulepreload",href:e},n),xn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(al(f)))return}o=r.createElement("link"),qe(o,"link",e),_e(o),r.head.appendChild(o)}}}function J0(e,n,r){Yi.S(e,n,r);var o=Va;if(o&&e){var h=oi(o).hoistableStyles,f=Ma(e);n=n||"default";var g=h.get(f);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(sl(f)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=xn.get(f))&&md(e,r);var C=g=o.createElement("link");_e(C),qe(C,"link",e),C._p=new Promise(function(P,H){C.onload=P,C.onerror=H}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:v},h.set(f,g)}}}function Z0(e,n){Yi.X(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=xa(e),f=o.get(h);f||(f=r.querySelector(al(h)),f||(e=S({src:e,async:!0},n),(n=xn.get(h))&&gd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function W0(e,n){Yi.M(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=xa(e),f=o.get(h);f||(f=r.querySelector(al(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=xn.get(h))&&gd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function lA(e,n,r,o){var h=(h=wt.current)?rc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ma(r.href),r=oi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ma(r.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),xn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xn.set(e,r),f||$0(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(r),r=oi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function uA(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function $0(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),_e(n),e.head.appendChild(n))}function xa(e){return'[src="'+nn(e)+'"]'}function al(e){return"script[async]"+e}function cA(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),qe(o,"style",h),sc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ma(r.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=uA(r),(h=xn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),qe(f,"link",o),n.state.loading|=4,sc(f,r.precedence,e),n.instance=f;case"script":return f=xa(r.src),(h=e.querySelector(al(f)))?(n.instance=h,_e(h),h):(o=r,(h=xn.get(f))&&(o=S({},r),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,r.precedence,e));return n.instance}function sc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===n)f=v;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function hA(e,n,r){if(ac===null){var o=new Map,h=ac=new Map;h.set(r,o)}else h=ac,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var v=o.get(g);v?v.push(f):o.set(g,[f])}}return o}function fA(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function tS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dA(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ma(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=uA(o),(h=xn.get(h))&&md(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=oc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var pd=0;function nS(e,n){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*k0());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(iS,e),lc=null,oc.call(e))}function iS(e,n){if(!(n.state.loading&4)){var r=lc.get(e);if(r)var o=r.get(null);else{r=new Map,lc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:dt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function rS(e,n,r,o,h,f,g,v,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function mA(e,n,r,o,h,f,g,v,C,P,H,G){return e=new rS(e,n,r,g,C,P,H,G,v),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Wh(f),e}function gA(e){return e?(e=ha,e):ha}function pA(e,n,r,o,h,f){h=gA(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Er(e,o,n),r!==null&&(un(r,e,n),zo(r,e,n))}function yA(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function yd(e,n){yA(e,n),(e=e.alternate)&&yA(e,n)}function AA(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&un(n,e,67108864),yd(e,67108864)}}function _A(e){if(e.tag===13||e.tag===31){var n=vn();n=os(n);var r=_s(e,n);r!==null&&un(r,e,n),yd(e,n)}}var cc=!0;function sS(e,n,r,o){var h=q.T;q.T=null;var f=Z.p;try{Z.p=2,Ad(e,n,r,o)}finally{Z.p=f,q.T=h}}function aS(e,n,r,o){var h=q.T;q.T=null;var f=Z.p;try{Z.p=8,Ad(e,n,r,o)}finally{Z.p=f,q.T=h}}function Ad(e,n,r,o){if(cc){var h=_d(o);if(h===null)rd(e,n,o,hc,r),EA(e,o);else if(lS(h,e,n,r,o))o.stopPropagation();else if(EA(e,o),n&4&&-1<oS.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var C=1<<31-he(g);v.entanglements[1]|=C,g&=~C}vi(f),(Ft&6)===0&&(Ku=$e()+500,el(0))}}break;case 31:case 13:v=_s(f,2),v!==null&&un(v,f,2),Xu(),yd(f,2)}if(f=_d(o),f===null&&rd(e,n,o,hc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,r)}}function _d(e){return e=bn(e),vd(e)}var hc=null;function vd(e){if(hc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hc=e,null}function vA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case uo:return 2;case co:return 8;case sr:case wh:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var Ed=!1,Vr=null,Mr=null,xr=null,ll=new Map,ul=new Map,Ur=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EA(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&AA(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lS(e,n,r,o,h){switch(n){case"focusin":return Vr=cl(Vr,e,n,r,o,h),!0;case"dragenter":return Mr=cl(Mr,e,n,r,o,h),!0;case"mouseover":return xr=cl(xr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,r,o,h)),!0}return!1}function TA(e){var n=ai(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,zn(e.priority,function(){_A(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,zn(e.priority,function(){_A(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=_d(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);So=o,r.target.dispatchEvent(o),So=null}else return n=Sn(r),n!==null&&AA(n),e.blockedOn=r,!1;n.shift()}return!0}function SA(e,n,r){fc(e)&&r.delete(n)}function uS(){Ed=!1,Vr!==null&&fc(Vr)&&(Vr=null),Mr!==null&&fc(Mr)&&(Mr=null),xr!==null&&fc(xr)&&(xr=null),ll.forEach(SA),ul.forEach(SA)}function dc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ed||(Ed=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,uS)))}var mc=null;function bA(e){mc!==e&&(mc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(vd(o||r)===null)continue;break}var f=Sn(r);f!==null&&(e.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(C){return dc(C,e)}Vr!==null&&dc(Vr,e),Mr!==null&&dc(Mr,e),xr!==null&&dc(xr,e),ll.forEach(n),ul.forEach(n);for(var r=0;r<Ur.length;r++){var o=Ur[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(r=Ur[0],r.blockedOn===null);)TA(r),r.blockedOn===null&&Ur.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Me]||null;if(typeof f=="function")g||bA(r);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)v=g.formAction;else if(vd(h)!==null)continue}else v=g.action;typeof v=="function"?r[o+1]=v:(r.splice(o,3),o-=3),bA(r)}}}function wA(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(e){this._internalRoot=e}gc.prototype.render=Td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=vn();pA(r,o,e,n,null,null)},gc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;pA(e.current,2,null,e,null,null),Xu(),n[ri]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ur.length&&n!==0&&n<Ur[r].priority;r++);Ur.splice(r,0,e),r===0&&TA(e)}};var CA=t.version;if(CA!=="19.2.0")throw Error(a(527,CA,"19.2.0"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Ln=pc.inject(cS),Le=pc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Mp,f=xp,g=Up;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=mA(e,1,!1,null,null,r,o,null,h,f,g,wA),e[ri]=n.current,id(e),new Td(n)},fl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Mp,g=xp,v=Up,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=mA(e,1,!0,n,r??null,o,h,C,f,g,v,wA),n.context=gA(null),r=n.current,o=vn(),o=os(o),h=vr(o),h.callback=null,Er(r,h,o),r=o,n.current.lanes=r,ss(n,r),vi(n),e[ri]=n.current,id(e),new gc(n)},fl.version="19.2.0",fl}var kA;function TS(){if(kA)return wd.exports;kA=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wd.exports=ES(),wd.exports}var SS=TS();const bS="/Animadex/assets/bird-BvLi2qlo.png",wS="/Animadex/assets/mammal-CMZoFO2F.png",CS="/Animadex/assets/reptile-1O1k4ai_.png",RS="/Animadex/assets/amphibian-b5hmJM36.png",IS="/Animadex/assets/insect-WxDJ9n0i.png",DS="/Animadex/assets/fish-BrBGDmn4.png",NS="/Animadex/assets/other-BA1xVXi_.png",OS="/Animadex/assets/observation-B6Kpdla1.png",VS="/Animadex/assets/photo-DYzDim8L.png",MS="/Animadex/assets/tracks-THaJaPSN.png",xc=[{id:"bird",label:"Bird",icon:bS,color:"#436b85ff"},{id:"mammal",label:"Mammal",icon:wS,color:"#9e2424ff"},{id:"reptile",label:"Reptile",icon:CS,color:"#1d7970ff"},{id:"amphibian",label:"Amphibian",icon:RS,color:"#569153ff"},{id:"insect",label:"Insect",icon:IS,color:"#798727ff"},{id:"fish",label:"Fish",icon:DS,color:"#113c80ff"},{id:"other",label:"Other",icon:NS,color:"#9e9e9eff"}],Uc=[{id:"observation",label:"observation",icon:OS},{id:"photo",label:"photo",icon:VS},{id:"tracks",label:"tracks",icon:MS}];function xS({query:s,setQuery:t,categoryFilter:i,setCategoryFilter:a,captureFilter:l,setCaptureFilter:c,openAddForm:d,categoryCounts:p={},captureCounts:_={},setIsBannerVisible:y,downloadEntries:T,loadBackup:S}){return X.jsxs("div",{style:{backgroundColor:"#5a1a1aff",width:"100%",padding:"5px 12px 12px 12px",borderRadius:"12px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)",marginBottom:"0px",display:"flex",flexDirection:"column",gap:"8px"},children:[X.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"center"},children:[X.jsx("input",{type:"text",placeholder:"Search names or locations",value:s,onChange:D=>t(D.target.value),style:{flex:1,minWidth:"160px",padding:"8px",borderRadius:"6px",border:"1px solid #ccc"}}),X.jsxs("select",{value:i,onChange:D=>a(D.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ccc"},children:[X.jsx("option",{value:"",children:"All categories"}),xc.map(D=>X.jsx("option",{value:D.id,children:D.label},D.id))]}),X.jsxs("select",{value:l,onChange:D=>c(D.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ccc"},children:[X.jsx("option",{value:"",children:"All capture levels"}),Uc.map(D=>X.jsx("option",{value:D.id,children:D.label},D.id))]}),X.jsx("button",{onClick:d,style:{padding:"8px 16px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:"+ Add"})]}),X.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center",fontSize:"14px"},children:xc.map(D=>X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",opacity:.8},children:[X.jsx("img",{src:D.icon,width:20,height:20,alt:D.label}),X.jsx("span",{children:p[D.id]||0})]},D.id))}),X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"16px",alignItems:"center",fontSize:"14px"},children:[X.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center"},children:Uc.map(D=>X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",opacity:.8},children:[X.jsx("img",{src:D.icon,width:20,height:20,alt:D.label}),X.jsx("span",{children:_[D.id]||0})]},D.id))}),X.jsx("button",{onClick:()=>y(!1),style:{padding:"4px 8px",border:"none",borderRadius:"6px",cursor:"pointer",backgroundColor:"#ef4444",color:"white",fontSize:"0.8rem",fontWeight:"bold"},children:"Hide Banner"})]})]})}function US(s,t=20){let i=s.replace("#","");i.length===8&&(i=i.slice(0,6));const a=parseInt(i,16);let l=(a>>16)-t,c=(a>>8&255)-t,d=(a&255)-t;return l=Math.max(0,l),c=Math.max(0,c),d=Math.max(0,d),`#${((1<<24)+(l<<16)+(c<<8)+d).toString(16).slice(1)}ff`}function kS(s,t=20){let i=s.replace("#","");i.length===8&&(i=i.slice(0,6));const a=parseInt(i,16);let l=Math.min(255,(a>>16)+t),c=Math.min(255,(a>>8&255)+t),d=Math.min(255,(a&255)+t);return`#${((1<<24)+(l<<16)+(c<<8)+d).toString(16).slice(1)}ff`}const LS="/Animadex/assets/uk-D2-lxbMb.png",PS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADoxJREFUeJzt3X+s3XV9x/HX53v5USngHJvBqATjBsxsfxB/TJaNlYKtBSSScJ2bm2QL4k90G/PHtiy7W0I2mclAEJXCFsAtwIU5aUuBsVLcH5I5Z7JIEI0oETYzxSlC+VF6PvuDFgu09Me95xzs+/H4p7nnfO/3+0rT5Dx7z833JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALDva9O8+IoVn3zxE9n/mFHLUUP6kaPksJa+NGlLkxw6zW08v7zhpFfe+4H3/PLLp70DdmXJH//lfcM37jli2jt4XnkwLQ9n1B9Oaw+k92+l5e6M2lfb+vnvTmvUfpO82LIVnz5myHBChizvPb++OfnZpKcl6dlWI1NtEp6nlhw484Ukx017B+xK27TpjiSvn/YOnmd6krb19W3bn0PST5393/R2e1o25Il+W7tp/u5JTRp7ACxbtfplGfW3tbTfS3JUT578iwCA6npenPTZ9MxmJumnzt6dtKvTt1zZ1l1/zzgvPbYAOOGNl65M2ocyyrKkDeO6DgDsM3qOTvqfJ8Of9VNmb8vQz29rrrtlHJda5ADobfkbV7+5p/1Jel6zuOcGgDKGJCdm1E7sJ89+Menn5cbrbmiL+DP0RQuAE954+dHpl13ceztpsc4JAOW1vDZp/5xTZv+tZ3hPW3fNVxbjtAsOgBUrrlz6RHvsL3ofvT/J/ouwCQB4tl9LRv/ZT529IO3RubZmzaaFnGxB780ff9LqX9jcHrujJ+fGiz8AjNv+6flgRku+1E+e/aWFnGivA+CElavfPjOTLyb5xYUMAAD22DFp+fd+6uwH9vYEexEAvS1fufpjSa5IsnRvLwwALMiS9FzQT3nLx/vc3B6/nu/RN8zOXnvACSsv+4etP/IHAKaun5P/uPOq/uqz9+it+N0OgFWrPn7g9x784Q1JfnOPtwEA49PzW3nJ/32ur1p14O5+y24FwNzc3PDo6AVXJVm51+MAgPHpWZV28NV9dnZmdw7frQC4/Y6XXpBkdkHDAIDxanlzHu4X786huwyA5Ssu+6P0nLPwVQDA2LX2rn7KGb+/q8OeMwCWr7zsdb318xZvFQAwfu38fsoZv/JcR+w0AH71lEte1JNrkhyw6LsAgHHaP71d3U8//bCdHbDTADhg8wGXJP3IscwCAMar5eV5fP8Ld/b0DgNg2cpLT+qtv3V8qwCA8etv66tml+/omWcFwOzstQe0tIvGPwoAGLshF+3oJkHPCoDvPvjDc5IcM5FRAMC4vSqHf/+9z3zwaQGwbNnfL2lu8wsA+5j24T47+4LtH3laAAwHbjkryUsmugkAGLfD80g7c/sHngqAZcvm9uvpH5z8JgBg7Hr/8Pa3CX4qANqBL1uZ5IipjAIAxu3IbGonbftiu7cA+u9MYw0AMDFPvdYPSbJq1WcOTc9p09sDAIxfP72fdtohydYAeGTLpjel5QXP/U0AwE+4gzI68ORkawC0lh3eJQgA2Mf0J1/zt/4OwCAAAKCGJwPg+BWrX+FDfwCgjJ/rb5o9YpgZcuy0lwAAE7SlHzsk7ehp7wAAJmjI0UPSBQAAVNJz9JCen5/2DgBgktpRQ5LDpj0DAJiow4Ykh0x7BQAwUYcIAACo55AhydJprwAAJurgIU/7REAAoIAZL/4AUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFDQkGTLtEcAABO1ZUiyadorAICJemhI8qNprwAAJupHAgAA6nlwSMv3pr0CAJioB4bW29envQIAmKivDen97mmvAAAmqOfuIYMAAIBSWu4eRtny5WnvAAAmaL+ZLw8bb3r3t5J8c9pbAICJ+Hr73NXffvJWwD0bpjwGAJiItiHZ9lkArQkAAKhg63/6hyRZMixZG7cEBoB93cNZ2m9MtgbA+vW//WDr7YbpbgIAxqrln9r8/EPJdh8H3Id+1fQWAQBjN8pTr/U/DoBH778lyb1TGQQAjNs3s/THv/T/VABs3Dj3RFo/fzqbAIAx++s2P79l2xfD9s8saY9enuS/Jz4JABin+zJ66IrtH3haAKxf//7H0tvHJrsJABivfn5bv/6x7R8ZnnnIz7zw0E+05K7JjQIAxujOfOenP/XMB58VAPPzb3k8vb0rSZ/ILABgXHpaf1/70qWbn/nEswIgSTbcctbn0/KP498FAIxNb1e1tddt3NFTOwyAJOmP7ve++JAgAPhJdW+29D/Y2ZM7DYCNG3/3B0Prv5Hk8bHMAgDGZXNGw1vbzfPf39kBOw2AJPnXm87+Ynr7yOLvAgDGp5/b1l9zx3Md8ZwBkCS33XLW3/bkgsUbBQCMT7ukrbvuol0dtcsASJJlx91/bpJrF7wJABijdnVe+6pzdufI3QqAubm50ZLhkbf3tPULGwYAjMm6HNTPbHNzo905eLcCINl6l8DH7jst6X+399sAgMXXP5PvvOj0Nj+/27+4v9+enH7jxrknkn7WCSsv/0HS/3DPBwIAi6rlb7L2ug+3PbyB327/BGC7K/Xbbj7r3CRnJnl4z78fAFgEj6T3d7S18x/a0xf/ZK8C4Em33fyOK3sfvSbJf+3tOQCAvXJXMryu3XjdZXt7gr0OgCTZeMs7v3rwAaPjWtpHkzzrPsMAwKJ6PL39VQ7Kq9u6a76ykBPt0e8A7MiaNe/clOQjx7/hU5fPzAwXp7cVCz0nAPAMPbdnZvTetub6OxfjdAsOgG0+/y/v+nqSlctWXHpqS/vTtLx+sc4NAIV9Icl57cb5dYt50kULgG023nL22iRrl6289KSkfaglJ2aBbzUAQDGj9Nyano+29fMbxnGBRQ+AbTbefPatSW5dfuonXzraPHPGkHZmT44d1/UAYB9wV1q7Nq1f0dbMj/UTeccWANtsWPvu+5NcmOTC5as+/cqM2vL0YXlvfVmSw8d9fQB4HvufpG9Mz4a0vqGtu/6eSV147AGwvQ3r3/mNJN9IsjpJTjzxisP6zGNH9wzH9OQVaaOfaq0dkt4OTvoLJ7mN57fHN4/uTfLQtHfArvSDDvp282+V7bX8MD0/SvJQWvtBMronaV/N/k98rX32sw9Mex4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADsy/4fnvsrs5e+TxsAAAAASUVORK5CYII=",zS="/Animadex/assets/jp-hy7EEbcb.png",BS="/Animadex/assets/location-CnwObzL2.png",yc="/Animadex/assets/question-j-jc3eFS.png",jS="/Animadex/assets/edit-Cb_IW_6S.png",qS="/Animadex/assets/delete-DCZtocnW.png";function HS({entry:s,onEdit:t,onDelete:i,onAdd:a}){const l=xc.find(T=>T.id===s.category),c=l?.color||"#c91f1fff",d=l?.icon,p=US(c,30),_=kS(c,30),y=Uc.find(T=>T.label===s.capture)?.icon;return X.jsxs("div",{style:{borderRadius:"20px",border:"4px solid",borderColor:p,padding:"16px",backgroundColor:c,width:"100%",boxSizing:"border-box",boxShadow:"0 4px 10px rgba(0,0,0,0.15)",margin:"0 auto 32px",display:"flex",flexDirection:"column"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",borderRadius:"12px",backgroundColor:_},children:[X.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",marginLeft:"10px"},children:s.latin}),X.jsx("img",{src:d||yc,width:32,height:32,style:{borderRadius:"6px",marginRight:"10px"}})]}),X.jsxs("div",{style:{position:"relative",width:"100%",aspectRatio:"1 / 1",overflow:"hidden",borderRadius:"12px",marginBottom:"12px"},children:[X.jsx("img",{src:s.image||yc,style:{width:"100%",height:"100%",objectFit:"cover"}}),X.jsx("img",{src:y||yc,width:40,height:40,style:{position:"absolute",bottom:"8px",right:"8px",background:"rgba(255,255,255,0.85)",padding:"4px",borderRadius:"6px",boxShadow:"0 2px 6px rgba(0,0,0,0.25)"}})]}),X.jsxs("div",{style:{backgroundColor:_,borderRadius:"10px",padding:"8px 12px",marginBottom:"12px",display:"flex",flexDirection:"column",gap:"4px",fontSize:"14px"},children:[X.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[X.jsx("img",{src:LS,width:20,height:20,style:{marginRight:"8px"}}),X.jsx("span",{children:s.english})]}),X.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[X.jsx("img",{src:PS,width:20,height:20,style:{marginRight:"8px"}}),X.jsx("span",{children:s.french})]}),X.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[X.jsx("img",{src:zS,width:20,height:20,style:{marginRight:"8px"}}),X.jsx("span",{children:s.japanese})]})]}),X.jsxs("div",{style:{marginTop:"8px",marginBottom:"12px",fontSize:"14px",display:"flex",alignItems:"center",backgroundColor:_,padding:"4px 8px",borderRadius:"8px"},children:[X.jsx("img",{src:BS,width:18,height:18,style:{marginRight:"8px"}}),X.jsx("span",{children:s.locations.join(", ")})]}),X.jsx("div",{style:{marginTop:"10px",padding:"10px",borderRadius:"10px",backgroundColor:p,fontSize:"14px",lineHeight:"1.4"},children:s.notes}),X.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"16px",justifyContent:"center",paddingTop:"12px"},children:[X.jsx("button",{onClick:()=>t(s),style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#f7d438",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:X.jsx("img",{src:jS,width:24,height:24,alt:"Edit"})}),X.jsx("button",{onClick:()=>i(s.id),style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#e63939",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:X.jsx("img",{src:qS,width:24,height:24,alt:"Delete"})}),X.jsx("button",{onClick:()=>{s.infoLink&&window.open(s.infoLink,"_blank")},style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:X.jsx("img",{src:yc,width:24,height:24,alt:"Info"})})]})]})}function LA({editing:s,setEditing:t,onSubmit:i,onCancel:a,handleImageUpload:l}){const c=He.useRef();return X.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:X.jsxs("form",{onSubmit:i,className:"bg-white p-6 rounded shadow w-full max-w-xl space-y-3",children:[X.jsx("h2",{className:"text-xl font-bold",children:s.id?"Edit entry":"Add entry"}),X.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Scientific name",value:s.latin,onChange:d=>t({...s,latin:d.target.value}),required:!0}),X.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"English name",value:s.english,onChange:d=>t({...s,english:d.target.value}),required:!0}),X.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"French name",value:s.french,onChange:d=>t({...s,french:d.target.value}),required:!0}),X.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Japanese name",value:s.japanese,onChange:d=>t({...s,japanese:d.target.value}),required:!0}),X.jsx("select",{className:"border p-2 rounded w-full",value:s.category,onChange:d=>t({...s,category:d.target.value}),children:xc.map(d=>X.jsx("option",{value:d.id,children:d.label},d.id))}),X.jsx("select",{className:"border p-2 rounded w-full",value:s.capture,onChange:d=>t({...s,capture:d.target.value}),children:Uc.map(d=>X.jsx("option",{value:d.id,children:d.label},d.id))}),X.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Locations (comma-separated)",value:s.locations.join(", "),onChange:d=>t({...s,locations:d.target.value.split(",").map(p=>p.trim()).filter(p=>p)})}),X.jsx("input",{type:"date",className:"border p-2 rounded w-full",value:s.date,onChange:d=>t({...s,date:d.target.value})}),X.jsx("textarea",{className:"border p-2 rounded w-full",placeholder:"Notes",value:s.notes,onChange:d=>t({...s,notes:d.target.value})}),X.jsx("input",{type:"file",className:"border p-2 rounded w-full",accept:"image/*",ref:c,onChange:d=>l(d.target.files[0])}),X.jsx("input",{type:"url",className:"border p-2 rounded w-full",placeholder:"Info link (https://example.com)",value:s.infoLink||"",onChange:d=>t({...s,infoLink:d.target.value})}),X.jsxs("div",{className:"flex gap-2 pt-2 justify-end",children:[X.jsx("button",{type:"button",className:"px-3 py-2 bg-gray-300 rounded",onClick:a,children:"Cancel"}),X.jsx("button",{type:"submit",className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})}function FS({uploading:s,uploaded:t,total:i}){return s?X.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:X.jsxs("div",{style:{backgroundColor:"#1e5882ff",padding:"24px",borderRadius:"12px",width:"400px",boxSizing:"border-box",textAlign:"center"},children:[X.jsx("h2",{style:{marginBottom:"16px"},children:"Uploading Backup"}),X.jsx("div",{style:{width:"100%",height:"20px",backgroundColor:"#fcfcfcff",borderRadius:"10px",overflow:"hidden",marginBottom:"8px"},children:X.jsx("div",{style:{width:`${t/i*100}%`,height:"100%",backgroundColor:"#2563eb",transition:"width 0.2s"}})}),X.jsxs("div",{style:{fontWeight:"bold"},children:[t," / ",i," entries uploaded"]})]})}):null}const QS="/Animadex/assets/Gear-BCNjVLwV.png";function GS({downloadEntries:s,loadBackup:t}){const[i,a]=He.useState(!1),l=He.useRef(),c=()=>{l.current.click()};return X.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[X.jsx("button",{onClick:()=>a(d=>!d),style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",cursor:"pointer"},title:"Admin actions",children:X.jsx("img",{src:QS,alt:"Admin menu",width:24,height:24})}),i&&X.jsxs("div",{style:{position:"absolute",top:"calc(100% + 8px)",right:0,backgroundColor:"#f9f9f9",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)",zIndex:1e3,padding:"8px",display:"flex",flexDirection:"column",gap:"8px"},children:[X.jsx("button",{onClick:s,style:{padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",backgroundColor:"#4b4b4bff",color:"white",fontWeight:"bold"},children:"Download Backup"}),X.jsx("button",{onClick:c,style:{padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",backgroundColor:"#f59e0b",color:"white",fontWeight:"bold"},children:"Upload Backup"}),X.jsx("input",{type:"file",accept:"application/json",ref:l,style:{display:"none"},onChange:t})]})]})}const PA=[{id:"1",image:"",latin:"",english:"Great Egret",french:"Grande aigrette",japanese:"",category:"bird",locations:["Hyogo, Rokko"],capture:"photo",date:"2025-11-16",notes:"Seen near the port."}],KS=()=>{};var zA={};const cv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},YS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(D=64)),a.push(i[T],i[S],i[D],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(cv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):YS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new XS;const D=c<<2|p>>4;if(a.push(D),y!==64){const F=p<<4&240|y>>2;if(a.push(F),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JS=function(s){const t=cv(s);return hv.encodeByteArray(t,!0)},kc=function(s){return JS(s).replace(/\./g,"")},fv=function(s){try{return hv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ZS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WS=()=>ZS().__FIREBASE_DEFAULTS__,$S=()=>{if(typeof process>"u"||typeof zA>"u")return;const s=zA.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},t1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&fv(s[1]);return t&&JSON.parse(t)},nh=()=>{try{return KS()||WS()||$S()||t1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},dv=s=>nh()?.emulatorHosts?.[s],e1=s=>{const t=dv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},mv=()=>nh()?.config,gv=s=>nh()?.[`_${s}`];class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function $a(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pv(s){return(await fetch(s,{credentials:"include"})).ok}function i1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[kc(JSON.stringify(i)),kc(JSON.stringify(d)),""].join(".")}const yl={};function r1(){const s={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?s.emulator.push(t):s.prod.push(t);return s}function s1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let BA=!1;function yv(s,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||yl[s]===t||yl[s]||BA)return;yl[s]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=r1().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{BA=!0,d()},D}function T(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=s1(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),_t=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const dt=D.element;p(dt),T($,et);const jt=y();_(_t,ft),dt.append(_t,W,$,jt),document.body.appendChild(dt)}c?(W.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function o1(){const s=nh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h1(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function f1(){return!o1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d1(){try{return typeof indexedDB=="object"}catch{return!1}}function m1(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const g1="FirebaseError";class ir extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=g1,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?p1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,a)}}function p1(s,t){return s.replace(y1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const y1=/\{\$([^}]+)}/g;function A1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ls(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(jA(c)&&jA(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function jA(s){return s!==null&&typeof s=="object"}function Vl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _1(s,t){const i=new v1(s,t);return i.subscribe.bind(i)}class v1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");E1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Dd(){}function We(s){return s&&s._delegate?s._delegate:s}class Ps{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class T1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new n1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(b1(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:S1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S1(s){return s===Vs?void 0:s}function b1(s){return s.instantiationMode==="EAGER"}class w1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new T1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const C1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},R1=Ot.INFO,I1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},D1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=I1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=R1,this._logHandler=D1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?C1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const N1=(s,t)=>t.some(i=>s instanceof i);let qA,HA;function O1(){return qA||(qA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V1(){return HA||(HA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,qd=new WeakMap,_v=new WeakMap,Nd=new WeakMap,gm=new WeakMap;function M1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Av.set(i,s)}).catch(()=>{}),gm.set(t,s),t}function x1(s){if(qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});qd.set(s,t)}let Hd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||_v.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function U1(s){Hd=s(Hd)}function k1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Od(this),t,...i);return _v.set(a,t.sort?t.sort():[t]),qr(a)}:V1().includes(s)?function(...t){return s.apply(Od(this),t),qr(Av.get(this))}:function(...t){return qr(s.apply(Od(this),t))}}function L1(s){return typeof s=="function"?k1(s):(s instanceof IDBTransaction&&x1(s),N1(s,O1())?new Proxy(s,Hd):s)}function qr(s){if(s instanceof IDBRequest)return M1(s);if(Nd.has(s))return Nd.get(s);const t=L1(s);return t!==s&&(Nd.set(s,t),gm.set(t,s)),t}const Od=s=>gm.get(s);function P1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=qr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qr(d.result),_.oldVersion,_.newVersion,qr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const z1=["get","getKey","getAll","getAllKeys","count"],B1=["put","add","delete","clear"],Vd=new Map;function FA(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=B1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||z1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Vd.set(t,c),c}U1(s=>({...s,get:(t,i,a)=>FA(t,i)||s.get(t,i,a),has:(t,i)=>!!FA(t,i)||s.has(t,i)}));class j1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(q1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function q1(s){return s.getComponent()?.type==="VERSION"}const Fd="@firebase/app",QA="0.14.6";const $i=new mm("@firebase/app"),H1="@firebase/app-compat",F1="@firebase/analytics-compat",Q1="@firebase/analytics",G1="@firebase/app-check-compat",K1="@firebase/app-check",Y1="@firebase/auth",X1="@firebase/auth-compat",J1="@firebase/database",Z1="@firebase/data-connect",W1="@firebase/database-compat",$1="@firebase/functions",tb="@firebase/functions-compat",eb="@firebase/installations",nb="@firebase/installations-compat",ib="@firebase/messaging",rb="@firebase/messaging-compat",sb="@firebase/performance",ab="@firebase/performance-compat",ob="@firebase/remote-config",lb="@firebase/remote-config-compat",ub="@firebase/storage",cb="@firebase/storage-compat",hb="@firebase/firestore",fb="@firebase/ai",db="@firebase/firestore-compat",mb="firebase",gb="12.6.0";const Qd="[DEFAULT]",pb={[Fd]:"fire-core",[H1]:"fire-core-compat",[Q1]:"fire-analytics",[F1]:"fire-analytics-compat",[K1]:"fire-app-check",[G1]:"fire-app-check-compat",[Y1]:"fire-auth",[X1]:"fire-auth-compat",[J1]:"fire-rtdb",[Z1]:"fire-data-connect",[W1]:"fire-rtdb-compat",[$1]:"fire-fn",[tb]:"fire-fn-compat",[eb]:"fire-iid",[nb]:"fire-iid-compat",[ib]:"fire-fcm",[rb]:"fire-fcm-compat",[sb]:"fire-perf",[ab]:"fire-perf-compat",[ob]:"fire-rc",[lb]:"fire-rc-compat",[ub]:"fire-gcs",[cb]:"fire-gcs-compat",[hb]:"fire-fst",[db]:"fire-fst-compat",[fb]:"fire-vertex","fire-js":"fire-js",[mb]:"fire-js-all"};const Lc=new Map,yb=new Map,Gd=new Map;function GA(s,t){try{s.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const t=s.name;if(Gd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Gd.set(t,s);for(const i of Lc.values())GA(i,s);for(const i of yb.values())GA(i,s);return!0}function pm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Xn(s){return s==null?!1:s.settings!==void 0}const Ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Ol("app","Firebase",Ab);class _b{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const to=gb;function vv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=mv()),!i)throw Hr.create("no-options");const c=Lc.get(l);if(c){if(Ls(i,c.options)&&Ls(a,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new w1(l);for(const _ of Gd.values())d.addComponent(_);const p=new _b(i,a,d);return Lc.set(l,p),p}function Ev(s=Qd){const t=Lc.get(s);if(!t&&s===Qd&&mv())return vv();if(!t)throw Hr.create("no-app",{appName:s});return t}function Fr(s,t,i){let a=pb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Qa(new Ps(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const vb="firebase-heartbeat-database",Eb=1,Sl="firebase-heartbeat-store";let Md=null;function Tv(){return Md||(Md=P1(vb,Eb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Sl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hr.create("idb-open",{originalErrorMessage:s.message})})),Md}async function Tb(s){try{const i=(await Tv()).transaction(Sl),a=await i.objectStore(Sl).get(Sv(s));return await i.done,a}catch(t){if(t instanceof ir)$i.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function KA(s,t){try{const a=(await Tv()).transaction(Sl,"readwrite");await a.objectStore(Sl).put(t,Sv(s)),await a.done}catch(i){if(i instanceof ir)$i.warn(i.message);else{const a=Hr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function Sv(s){return`${s.name}!${s.options.appId}`}const Sb=1024,bb=30;class wb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Rb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=YA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bb){const l=Ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=YA(),{heartbeatsToSend:i,unsentEntries:a}=Cb(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function YA(){return new Date().toISOString().substring(0,10)}function Cb(s,t=Sb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),XA(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),XA(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Rb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d1()?m1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Tb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return KA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return KA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function XA(s){return kc(JSON.stringify({version:2,heartbeats:s})).length}function Ib(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function Db(s){Qa(new Ps("platform-logger",t=>new j1(t),"PRIVATE")),Qa(new Ps("heartbeat",t=>new wb(t),"PRIVATE")),Fr(Fd,QA,s),Fr(Fd,QA,"esm2020"),Fr("fire-js","")}Db("");var Nb="firebase",Ob="12.6.0";Fr(Nb,Ob,"app");var JA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,bv;(function(){var s;function t(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,N,U){for(var w=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)w[lt-2]=arguments[lt];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],N=I.g[2];let U=I.g[3],w;w=b+(U^R&(N^U))+M[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(N^b&(R^N))+M[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(R^U&(b^R))+M[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(b^N&(U^b))+M[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(U^R&(N^U))+M[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(N^b&(R^N))+M[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(R^U&(b^R))+M[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(b^N&(U^b))+M[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(U^R&(N^U))+M[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(N^b&(R^N))+M[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(R^U&(b^R))+M[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(b^N&(U^b))+M[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(U^R&(N^U))+M[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(N^b&(R^N))+M[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(R^U&(b^R))+M[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(b^N&(U^b))+M[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(N^U&(R^N))+M[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(b^R))+M[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(U^b))+M[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(N^U))+M[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^U&(R^N))+M[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(b^R))+M[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(U^b))+M[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(N^U))+M[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^U&(R^N))+M[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(b^R))+M[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(U^b))+M[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(N^U))+M[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^U&(R^N))+M[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(b^R))+M[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(U^b))+M[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(N^U))+M[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(R^N^U)+M[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^N)+M[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^R)+M[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^b)+M[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^U)+M[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^N)+M[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^R)+M[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^b)+M[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^U)+M[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^N)+M[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^R)+M[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^b)+M[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^U)+M[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^N)+M[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^R)+M[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^b)+M[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(N^(R|~U))+M[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~N))+M[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~R))+M[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~b))+M[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~U))+M[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~N))+M[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~R))+M[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~b))+M[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~U))+M[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~N))+M[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~R))+M[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~b))+M[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~U))+M[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~N))+M[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~R))+M[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<b;){if(N==0)for(;U<=R;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(M[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<b;)if(M[N++]=I[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[b++]=this.g[R]>>>M&255;return I};function c(I,b){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function d(I,b){this.h=b;const R=[];let M=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;M&&U==b||(R[N]=U,M=!1)}this.g=R}var p={};function _(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return $(y(-I));const b=[];let R=1;for(let M=0;I>=R;M++)b[M]=I/R|0,R*=4294967296;return new d(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return $(T(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=S;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(w))):(M=M.j(R),M=M.add(y(w)))}return M}var S=_(0),D=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(et(this))return-$(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(et(this))return"-"+$(this).toString(I);const b=y(Math.pow(I,6));var R=this;let M="";for(;;){const N=jt(R,b).g;R=ft(R,N.j(b));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,W(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function et(I){return I.h==-1}s.l=function(I){return I=ft(this,I),et(I)?-1:W(I)?0:1};function $(I){const b=I.g.length,R=[];for(let M=0;M<b;M++)R[M]=~I.g[M];return new d(R,~I.h).add(D)}s.abs=function(){return et(this)?$(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let N=0;N<=b;N++){let U=M+(this.i(N)&65535)+(I.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=w>>>16,U&=65535,w&=65535,R[N]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(I,b){return I.add($(b))}s.j=function(I){if(W(this)||W(I))return S;if(et(this))return et(I)?$(this).j($(I)):$($(this).j(I));if(et(I))return $(this.j($(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const U=this.i(M)>>>16,w=this.i(M)&65535,lt=I.i(N)>>>16,bt=I.i(N)&65535;R[2*M+2*N]+=w*bt,_t(R,2*M+2*N),R[2*M+2*N+1]+=U*bt,_t(R,2*M+2*N+1),R[2*M+2*N+1]+=w*lt,_t(R,2*M+2*N+1),R[2*M+2*N+2]+=U*lt,_t(R,2*M+2*N+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new d(R,0)};function _t(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function dt(I,b){this.g=I,this.h=b}function jt(I,b){if(W(b))throw Error("division by zero");if(W(I))return new dt(S,S);if(et(I))return b=jt($(I),b),new dt($(b.g),$(b.h));if(et(b))return b=jt(I,$(b)),new dt($(b.g),b.h);if(I.g.length>30){if(et(I)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,M=b;M.l(I)<=0;)R=Xt(R),M=Xt(M);var N=xt(R,1),U=xt(M,1);for(M=xt(M,2),R=xt(R,2);!W(M);){var w=U.add(M);w.l(I)<=0&&(N=N.add(R),U=w),M=xt(M,1),R=xt(R,1)}return b=ft(I,N.j(b)),new dt(N,b)}for(N=S;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(R),w=U.j(b);et(w)||w.l(I)>0;)R-=M,U=y(R),w=U.j(b);W(U)&&(U=D),N=N.add(U),I=ft(I,w)}return new dt(N,I)}s.B=function(I){return jt(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&I.i(M);return new d(R,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|I.i(M);return new d(R,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^I.i(M);return new d(R,this.h^I.h)};function Xt(I){const b=I.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(R,I.h)}function xt(I,b){const R=b>>5;b%=32;const M=I.g.length-R,N=[];for(let U=0;U<M;U++)N[U]=b>0?I.i(U+R)>>>b|I.i(U+R+1)<<32-b:I.i(U+R);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Qr=d}).apply(typeof JA<"u"?JA:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wv,dl,Cv,bc,Kd,Rv,Iv,Dv;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var A=u[m];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var A=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var k=u[E];if(!(k in A))break t;A=A[k]}u=u[u.length-1],E=A[u],m=m(E),m!=E&&m!=null&&t(A,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var A=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&A.push([E,m[E]]);return A}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,A){return u.call.apply(u.bind,arguments)}function y(u,m,A){return y=_,y.apply(null,arguments)}function T(u,m){var A=Array.prototype.slice.call(arguments,1);return function(){var E=A.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function S(u,m){function A(){}A.prototype=m.prototype,u.Z=m.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(E,k,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[k].apply(E,tt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const A=Array(m);for(let E=0;E<m;E++)A[E]=u[E];return A}return[]}function W(u,m){for(let E=1;E<arguments.length;E++){const k=arguments[E];var A=typeof k;if(A=A!="object"?A:k?Array.isArray(k)?"array":A:"null",A=="array"||A=="object"&&typeof k.length=="number"){A=u.length||0;const B=k.length||0;u.length=A+B;for(let tt=0;tt<B;tt++)u[A+tt]=k[tt]}else u.push(k)}}class et{constructor(m,A){this.i=m,this.j=A,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,A){const E=dt.get();E.set(m,A),this.h?this.h.next=E:this.g=E,this.h=E}}var dt=new et(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,A){this.h=m,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,xt=!1,I=new _t,b=()=>{const u=Promise.resolve(void 0);Xt=()=>{u.then(R)}};function R(){for(var u;u=ft();){try{u.h.call(u.g)}catch(A){$(A)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};d.addEventListener("test",A,m),d.removeEventListener("test",A,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(lt,N),lt.prototype.init=function(u,m){const A=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(A=="mouseover"?m=u.fromElement:A=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),q=0;function Z(u,m,A,E,k){this.listener=u,this.proxy=null,this.src=m,this.type=A,this.capture=!!E,this.ha=k,this.key=++q,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,A){for(const E in u)m.call(A,u[E],E,u)}function qt(u,m){for(const A in u)m.call(void 0,u[A],A,u)}function V(u){const m={};for(const A in u)m[A]=u[A];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let A,E;for(let k=1;k<arguments.length;k++){E=arguments[k];for(A in E)u[A]=E[A];for(let B=0;B<K.length;B++)A=K[B],Object.prototype.hasOwnProperty.call(E,A)&&(u[A]=E[A])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,A,E,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=wt(u,m,E,k);return tt>-1?(m=u[tt],A||(m.fa=!1)):(m=new Z(m,this.src,B,!!E,k),m.fa=A,u.push(m)),m};function yt(u,m){const A=m.type;if(A in u.g){var E=u.g[A],k=Array.prototype.indexOf.call(E,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(E,k,1),B&&(at(m),u.g[A].length==0&&(delete u.g[A],u.h--))}}function wt(u,m,A,E){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!A&&B.ha==E)return k}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ie={};function se(u,m,A,E,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],A,E,k);return null}return A=lo(A),u&&u[bt]?u.J(m,A,p(E)?!!E.capture:!1,k):es(u,m,A,!1,E,k)}function es(u,m,A,E,k,B){if(!m)throw Error("Invalid event type");const tt=p(k)?!!k.capture:!!k;let Tt=ns(u);if(Tt||(u[Lt]=Tt=new rt(u)),A=Tt.add(m,A,E,tt,B),A.proxy)return A;if(E=Gs(),A.proxy=E,E.src=u,E.listener=A,u.addEventListener)U||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),E,k);else if(u.attachEvent)u.attachEvent($n(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Gs(){function u(A){return m.call(u.src,u.listener,A)}const m=ao;return u}function Ks(u,m,A,E,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ks(u,m[B],A,E,k);else E=p(E)?!!E.capture:!!E,A=lo(A),u&&u[bt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],A=wt(m,A,E,k),A>-1&&(at(m[A]),Array.prototype.splice.call(m,A,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,A,E,k)),(A=u>-1?m[u]:null)&&Ys(A))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])yt(m.i,u);else{var A=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(A,E,u.capture):m.detachEvent?m.detachEvent($n(A),E):m.addListener&&m.removeListener&&m.removeListener(E),(A=ns(m))?(yt(A,u),A.h==0&&(A.src=null,m[Lt]=null)):at(u)}}}function $n(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ao(u,m){if(u.da)u=!0;else{m=new lt(m,this);const A=u.listener,E=u.ha||u.src;u.fa&&Ys(u),u=A.call(E,m)}return u}function ns(u){return u=u[Lt],u instanceof rt?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function pe(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(pe,M),pe.prototype[bt]=!0,pe.prototype.removeEventListener=function(u,m,A,E){Ks(this,u,m,A,E)};function De(u,m){var A,E=u.G;if(E)for(A=[];E;E=E.G)A.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(E,u),nt(m,k)}k=!0;let B,tt;if(A)for(tt=A.length-1;tt>=0;tt--)B=m.g=A[tt],k=rr(B,E,!0,m)&&k;if(B=m.g=u,k=rr(B,E,!0,m)&&k,k=rr(B,E,!1,m)&&k,A)for(tt=0;tt<A.length;tt++)B=m.g=A[tt],k=rr(B,E,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const A=u.g[m];for(let E=0;E<A.length;E++)at(A[E]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,A,E){return this.i.add(String(u),m,!1,A,E)},pe.prototype.K=function(u,m,A,E){return this.i.add(String(u),m,!0,A,E)};function rr(u,m,A,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==A){const Tt=tt.listener,fe=tt.ha||tt.src;tt.fa&&yt(u.i,tt),k=Tt.call(fe,E)!==!1&&k}}return k&&!E.defaultPrevented}function bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ql(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,A){super(),this.m=m,this.l=A,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){M.call(this),this.h=u,this.g={}}S(is,M);var uo=[];function co(u){Ut(u.g,function(m,A){this.g.hasOwnProperty(A)&&Ys(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),co(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,wh=d.JSON.parse,Hl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){N.call(this,"d")}S(Le,N);function Tn(){N.call(this,"c")}S(Tn,N);var he={},Gl=null;function Xs(){return Gl=Gl||new pe}he.Ia="serverreachability";function Kl(u){N.call(this,he.Ia,u)}S(Kl,N);function ti(u){const m=Xs();De(m,new Kl(m))}he.STAT_EVENT="statevent";function rs(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}S(rs,N);function ye(u){const m=Xs();De(m,new rs(m,u))}he.Ja="timingevent";function ei(u,m){N.call(this,he.Ja,u),this.size=m}S(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ch(u,m,A,E,k,B){u.info(function(){if(u.g)if(B){var tt="",Tt=B.split("&");for(let Ht=0;Ht<Tt.length;Ht++){var fe=Tt[Ht].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Cn=ae.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(ae+"="+fe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+E+") [attempt "+k+"]: "+m+`
`+A+`
`+tt})}function Yl(u,m,A,E,k,B,tt){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+k+"]: "+m+`
`+A+`
`+B+" "+tt})}function ii(u,m,A,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Rh(u,A)+(E?" "+E:"")})}function ss(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Rh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var A=B[u];if(!(A.length<2)){var E=A[1];if(Array.isArray(E)&&!(E.length<1)){var k=E[0];if(k!="noop"&&k!="stop"&&k!="close")for(let tt=1;tt<E.length;tt++)E[tt]=""}}}}return sr(B)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function os(){}S(os,Fl),os.prototype.g=function(){return new XMLHttpRequest},fo=new os;function Ni(u){return encodeURIComponent(String(u))}function Xl(u){var m=1;u=u.split(":");const A=[];for(;m>0&&u.length;)A.push(u.shift()),m--;return u.length&&A.push(u.join(":")),A}function zn(u,m,A,E){this.j=u,this.i=m,this.l=A,this.S=E||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ae={},Me={};function ri(u,m,A){u.M=1,u.A=ls(ve(m)),u.u=A,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),si(u),u.B=ve(u.A);var A=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),ta(A.i,"t",E),u.C=0,A=u.j.L,u.h=new Bn,u.g=cu(u.j,A?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,A=u.g,E=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(uo[0]=k.toString()),k=uo);for(let B=0;B<k.length;B++){const tt=se(A,k[B],E||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Ch(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),fe=this.g.ya(),Ht=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Tt!=4||fe==7||(fe==8||Ht<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var A=Ih(this);if(this.o=m==200,Yl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,k=this.g;if((E=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var B=E;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<A.length;)if(ae=Zl(this,A),ae==Me){Tt==4&&(this.m=4,ye(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ae){this.m=4,ye(15),ii(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||A.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,A,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(A.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Io(tt),tt.P=!0,ye(11))}}else ii(this.i,this.l,A,null),oi(this,A);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?au(this.j,this):(this.o=!1,si(this)))}else Vi(this.g),m==400&&A.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),Sn(this)}}}catch{}finally{}};function Ih(u){if(!Jl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let A="";const E=m.length,k=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,A+=u.h.i.decode(m[B],{stream:!(k&&B==E-1)});return m.length=0,u.h.g+=A,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var A=u.C,E=m.indexOf(`
`,A);return E==-1?Me:(A=Number(m.substring(A,E)),isNaN(A)?Ae:(E+=1,E+A>m.length?Me:(m=m.slice(E,E+A),u.C=E+A,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,Zs(u,u.H)}function Zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&(ti(),ye(17)),fn(this),this.m=2,Sn(this)):Zs(this,this.T-u)};function Sn(u){u.j.I==0||u.K||au(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var A=u.j;if(A.I!=0&&(A.g==u||ui(A.h,u))){if(!u.L&&ui(A.h,u)&&A.I==3){try{var E=A.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var k=E;if(k[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)sa(A),dr(A);else break t;gs(A),ye(18)}}else A.xa=k[1],0<A.xa-A.K&&k[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=ni(y(A.Va,A),6e3));li(A.h)<=1&&A.ta&&(A.ta=void 0)}else gi(A,11)}else if((u.L||A.g==u)&&sa(A),!w(m))for(k=A.Ba.g.parse(m),m=0;m<k.length;m++){let Ht=k[m];const ae=Ht[0];if(!(ae<=A.K))if(A.K=ae,Ht=Ht[1],A.I==2)if(Ht[0]=="c"){A.M=Ht[1],A.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(A.ka=Cn,A.j.info("VER="+A.ka));const pi=Ht[4];pi!=null&&(A.za=pi,A.j.info("SVER="+A.za));const Fn=Ht[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(E=1.5*Fn,A.O=E,A.j.info("backChannelRequestTimeoutMs_="+E)),E=A;const Qn=u.g;if(Qn){const ps=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var B=E.h;B.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(po(B,B.h),B.h=null))}if(E.G){const aa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(E.wa=aa,Gt(E.J,E.G,aa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),E=A;var tt=u;if(E.na=uu(E,E.L?E.ba:null,E.W),tt.L){yo(E.h,tt);var Tt=tt,fe=E.O;fe&&(Tt.H=fe),Tt.D&&(ai(Tt),si(Tt)),E.g=tt}else ru(E);A.i.length>0&&mi(A)}else Ht[0]!="stop"&&Ht[0]!="close"||gi(A,7);else A.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?gi(A,7):Co(A):Ht[0]!="noop"&&A.l&&A.l.qa(Ht),A.A=0)}}ti(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const A of u.g.values())m=m.concat(A.G);return m}return F(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,m){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const E=u[A].indexOf("=");let k,B=null;E>=0?(k=u[A].substring(0,E),B=u[A].substring(E+1)):k=u[A],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,_o(this,nu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),ar(this,m[4]),this.h=ci(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(us(m,$s,!0),":");var A=this.g;return(A||m=="file")&&(u.push("//"),(m=this.o)&&u.push(us(m,$s,!0),"@"),u.push(Ni(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(us(A,A.charAt(0)=="/"?vo:$l,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",us(A,tu)),u.join("")},dn.prototype.resolve=function(u){const m=ve(this);let A=!!u.j;A?xe(m,u.j):A=!!u.o,A?m.o=u.o:A=!!u.g,A?m.g=u.g:A=u.u!=null;var E=u.h;if(A)ar(m,u.u);else if(A=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var k=m.h.lastIndexOf("/");k!=-1&&(E=m.h.slice(0,k+1)+E)}if(k=E,k==".."||k==".")E="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){E=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let tt=0;tt<k.length;){const Tt=k[tt++];Tt=="."?E&&tt==k.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&tt==k.length&&B.push("")):(B.push(Tt),E=!0)}E=B.join("/")}else E=k}return A?m.h=E:A=u.i.toString()!=="",A?_o(m,nu(u.i)):A=!!u.m,A&&(m.m=u.m),m};function ve(u){return new dn(u)}function xe(u,m,A){u.j=A?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,A){m instanceof lr?(u.i=m,ea(u.i,u.l)):(A||(m=us(m,or)),u.i=new lr(m,u.l))}function Gt(u,m,A){u.i.set(m,A)}function ls(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function us(u,m,A){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,$l=/[#\?:]/g,vo=/[#\?]/g,or=/[#\?@]/g,tu=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(m,A){u.add(decodeURIComponent(m.replace(/\+/g," ")),A)}))}s=lr.prototype,s.add=function(u,m){rn(this),this.i=null,u=ur(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(m),this.h+=1,this};function eu(u,m){rn(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return rn(u),m=ur(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(A,E){A.forEach(function(k){u.call(m,k,E,this)},this)},this)};function To(u,m){rn(u);let A=[];if(typeof m=="string")Eo(u,m)&&(A=A.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)A=A.concat(u[m]);return A}s.set=function(u,m){return rn(this),this.i=null,u=ur(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,A){eu(u,m),A.length>0&&(u.i=null,u.g.set(ur(u,m),F(A)),u.h+=A.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var A=m[E];const k=Ni(A);A=To(this,A);for(let B=0;B<A.length;B++){let tt=k;A[B]!==""&&(tt+="="+Ni(A[B])),u.push(tt)}}return this.i=u.join("&")};function nu(u){const m=new lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(A,E){const k=E.toLowerCase();E!=k&&(eu(this,E),ta(this,k,A))},u)),u.j=m}function jn(u,m){const A=new Pn;if(d.Image){const E=new Image;E.onload=T(bn,A,"TestLoadImage: loaded",!0,m,E),E.onerror=T(bn,A,"TestLoadImage: error",!1,m,E),E.onabort=T(bn,A,"TestLoadImage: abort",!1,m,E),E.ontimeout=T(bn,A,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function So(u,m){const A=new Pn,E=new AbortController,k=setTimeout(()=>{E.abort(),bn(A,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(k),B.ok?bn(A,"TestPingServer: ok",!0,m):bn(A,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),bn(A,"TestPingServer: error",!1,m)})}function bn(u,m,A,E,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),E(A)}catch{}}function cr(){this.g=new Hl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(hi,Fl),hi.prototype.g=function(){return new cs(this.i,this.h)};function cs(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cs,pe),s=cs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):qn(this),this.readyState==3&&na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},s.Na=function(u){this.g&&(this.response=u,hr(this))},s.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var A=m.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Ut(u,function(A,E){m+=E,m+=":",m+=A,m+=`\r
`}),m}function hs(u,m,A){t:{for(E in A){var E=!1;break t}E=!0}E||(A=wn(A),typeof u=="string"?A!=null&&Ni(A):Gt(u,m,A))}function Jt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,pe);var fi=/^https?$/i,bo=["POST","PUT"];s=Jt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,A,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fs(this,B);return}if(u=A||"",A=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var k in E)A.set(k,E[k]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())A.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(A.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||E||k||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of A)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fs(this,B)}};function fs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Oi(u)}function wo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},s.Xa=function(){ds(this)};function ds(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var A;if(!(A=m)){var E;if(E=B===0){let tt=String(u.D).match(Wl)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),E=!fi.test(tt?tt.toLowerCase():"")}A=E}if(A)De(u,"complete"),De(u,"success");else{u.o=6;try{var k=Hn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",wo(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,m||De(u,"ready");try{A.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var A=Xl(u[E]);const k=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const B=m[k]||[];m[k]=B,B.push(A)}qt(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,A,E){ye(0),this.W=u,this.H=m||{},A&&E!==void 0&&(this.H.OSID=A,this.H.OAID=E),this.F=this.X,this.J=uu(this,null,this.W),mi(this)};function Co(u){if(ia(u),u.I==3){var m=u.V++,A=ve(u.J);if(Gt(A,"SID",u.M),Gt(A,"RID",m),Gt(A,"TYPE","terminate"),ms(u,A),m=new zn(u,u.j,m),m.M=2,m.A=ls(ve(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!A&&d.Image&&(new Image().src=m.A,A=!0),A||(m.g=cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}lu(u)}function dr(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ia(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xt||b(),xt||(Xt(),xt=!0),I.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,A=0;A<this.i.length;A++){e:{var E=this.i[A];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=A;break t}if(m===4096||A===this.i.length-1){m=A+1;break t}}m=1e3}else m=1e3;m=iu(this,k,m),A=ve(this.J),Gt(A,"RID",u),Gt(A,"CVER",22),this.G&&Gt(A,"X-HTTP-Session-Id",this.G),ms(this,A),B&&(this.R?m="headers="+Ni(wn(B))+"&"+m:this.u&&hs(A,this.u,B)),po(this.h,k),this.Ra&&Gt(A,"TYPE","init"),this.S?(Gt(A,"$req",m),Gt(A,"SID","null"),k.U=!0,ri(k,A,null)):ri(k,A,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||go(this.h)||Ro(this))};function Ro(u,m){var A;m?A=m.l:A=u.V++;const E=ve(u.J);Gt(E,"SID",u.M),Gt(E,"RID",A),Gt(E,"AID",u.K),ms(u,E),u.u&&u.o&&hs(E,u.u,u.o),A=new zn(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),m&&(u.i=m.G.concat(u.i)),m=iu(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,A),ri(A,E,m)}function ms(u,m){u.H&&Ut(u.H,function(A,E){Gt(m,E,A)}),u.l&&Ut({},function(A,E){Gt(m,E,A)})}function iu(u,m,A){A=Math.min(u.i.length,A);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let Tt=-1;for(;;){const fe=["count="+A];Tt==-1?A>0?(Tt=k[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let Ht=!0;for(let ae=0;ae<A;ae++){var B=k[ae].g;const Cn=k[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,k[ae].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[pi,Fn]of tt){let Qn=Fn;p(Fn)&&(Qn=sr(Fn)),fe.push(B+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{E&&E(Cn)}}if(Ht){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,A),m.G=u,tt}function ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xt||b(),xt||(Xt(),xt=!0),I.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),dr(this),su(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),ms(u,m),u.u&&u.o&&hs(m,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=ls(ve(m)),A.u=null,A.R=!0,Js(A,u)}s.Va=function(){this.C!=null&&(this.C=null,dr(this),gs(this),ye(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function au(u,m){var A=null;if(u.g==m){sa(u),Io(u),u.g=null;var E=2}else if(ui(u.h,m))A=m.G,yo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){A=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;E=Xs(),De(E,new ei(E,A)),mi(u)}else ru(u);else if(k=m.m,k==3||k==0&&m.X>0||!(E==1&&ra(u,m)||E==2&&gs(u)))switch(A&&A.length>0&&(m=u.h,m.i=m.i.concat(A)),k){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function ou(u,m){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var A=y(u.bb,u),E=u.Ua;const k=!E;E=new dn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(E,"https"),ls(E),k?jn(E.toString(),A):So(E.toString(),A)}else ye(2);u.I=0,u.l&&u.l.pa(m),lu(u),ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function uu(u,m,A){var E=A instanceof dn?ve(A):new dn(A);if(E.g!="")m&&(E.g=m+"."+E.g),ar(E,E.u);else{var k=d.location;E=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new dn(null);E&&xe(B,E),m&&(B.g=m),k&&ar(B,k),A&&(B.h=A),E=B}return A=u.G,m=u.wa,A&&m&&Gt(E,A,m),Gt(E,"VER",u.ka),ms(u,E),E}function cu(u,m,A){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new hi({ab:A})):new Jt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}s=hu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Co(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=sr(u),u=A);m.i.push(new _e(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,tn.Z.N.call(this)};function fu(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const A in m){u=A;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(fu,Le);function du(){Tn.call(this),this.status=1}S(du,Tn);function Mi(u){this.g=u}S(Mi,hu),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new fu(u))},Mi.prototype.pa=function(u){De(this.g,new du)},Mi.prototype.oa=function(){De(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Dv=function(){return new mr},Iv=function(){return Xs()},Rv=he,Kd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,bc=as,ho.COMPLETE="complete",Cv=ho,Ql.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,dl=Ql,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,wv=Jt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const ZA="@firebase/firestore",WA="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let eo="12.3.0";const zs=new mm("@firebase/firestore");function ka(){return zs.logLevel}function it(s,...t){if(zs.logLevel<=Ot.DEBUG){const i=t.map(ym);zs.debug(`Firestore (${eo}): ${s}`,...i)}}function tr(s,...t){if(zs.logLevel<=Ot.ERROR){const i=t.map(ym);zs.error(`Firestore (${eo}): ${s}`,...i)}}function Ga(s,...t){if(zs.logLevel<=Ot.WARN){const i=t.map(ym);zs.warn(`Firestore (${eo}): ${s}`,...i)}}function ym(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Nv(s,a,i)}function Nv(s,t,i){let a=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw tr(a),new Error(a)}function Qt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Nv(t,l,a)}function Et(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Ov{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class Mb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xb{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new Ov(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Ub{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ub(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $A{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $A(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $A(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Pb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Pb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function Yd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return xd(l)===xd(c)?Vt(l,c):xd(l)?1:-1}return Vt(s.length,t.length)}const zb=55296,Bb=57343;function xd(s){const t=s.charCodeAt(0);return t>=zb&&t<=Bb}function Ka(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const t_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Yd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class ie extends Ei{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return jb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t_}static keyField(){return new Qe([t_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ie.fromString(t))}static fromName(t){return new ht(ie.fromString(t).popFirst(5))}static empty(){return new ht(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ie(t.slice()))}}function Vv(s,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function qb(s,t,i,a){if(t===!0&&a===!0)throw new ot(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function e_(s){if(!ht.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function n_(s){if(ht.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Mv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function _m(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Wn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_m(s);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ml(s,t){if(!Mv(s))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const i_=-62135596800,r_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*r_);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<i_)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ml(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-i_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bl=-1;function Hb(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Kr(l,ht.empty(),t)}function Fb(s){return new Kr(s.readTime,s.key,bl)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(At.min(),ht.empty(),bl)}static max(){return new Kr(At.max(),ht.empty(),bl)}}function Qb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const Gb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Gb)throw s;it("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Yb(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(s){return s.name==="IndexedDbTransactionError"}class ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ih.ce=-1;const vm=-1;function rh(s){return s==null}function Pc(s){return s===0&&1/s==-1/0}function Xb(s){return typeof s=="number"&&Number.isInteger(s)&&!Pc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const xv="";function Jb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=s_(t)),t=Zb(s.get(i),t);return s_(t)}function Zb(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case xv:i+="";break;default:i+=c}}return i}function s_(s){return s+xv+""}function a_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function $r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Uv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(t){return new o_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class o_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new En([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kv("Invalid base64 string: "+c):c}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const Wb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(Qt(!!s,39018),typeof s=="string"){let t=0;const i=Wb.exec(s);if(Qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}const Lv="server_timestamp",Pv="__type__",zv="__previous_value__",Bv="__local_write_time__";function Em(s){return(s?.mapValue?.fields||{})[Pv]?.stringValue===Lv}function sh(s){const t=s.mapValue.fields[zv];return Em(t)?sh(t):t}function wl(s){const t=Yr(s.mapValue.fields[Bv].timestampValue);return new re(t.seconds,t.nanos)}class $b{constructor(t,i,a,l,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const zc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||zc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===zc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const jv="__type__",tw="__max__",vc={mapValue:{}},qv="__vector__",Bc="value";function Jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Em(s)?4:nw(s)?9007199254740991:ew(s)?10:11:gt(28295,{value:s})}function Ri(s,t){if(s===t)return!0;const i=Jr(s);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return wl(s).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),p=Yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Pc(d)===Pc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ka(s.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(a_(d)!==a_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ri(d[_],p[_])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Rl(s,t){return(s.values||[]).find((i=>Ri(i,t)))!==void 0}function Ya(s,t){if(s===t)return 0;const i=Jr(s),a=Jr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return l_(s.timestampValue,t.timestampValue);case 4:return l_(wl(s),wl(t));case 5:return Yd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xr(c),_=Xr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Vt(p[y],_[y]);if(T!==0)return T}return Vt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ge(c.latitude),ge(d.latitude));return p!==0?p:Vt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return u_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Bc]?.arrayValue,T=_[Bc]?.arrayValue,S=Vt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:u_(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const D=Yd(_[S],T[S]);if(D!==0)return D;const F=Ya(p[_[S]],y[T[S]]);if(F!==0)return F}return Vt(_.length,T.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function l_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Yr(s),a=Yr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function u_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ya(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function Xa(s){return Xd(s)}function Xd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Xd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Xd(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function wc(s){switch(Jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(s);return t?16+wc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+wc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return $r(a.fields,((c,d)=>{l+=c.length+wc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function Jd(s){return!!s&&"integerValue"in s}function Tm(s){return!!s&&"arrayValue"in s}function c_(s){return!!s&&"nullValue"in s}function h_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Cc(s){return!!s&&"mapValue"in s}function ew(s){return(s?.mapValue?.fields||{})[jv]?.stringValue===qv}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return $r(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(s.arrayValue.values[i]);return t}return{...s}}function nw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tw}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){$r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Al(this.value))}}function Hv(s){const t=[];return $r(s.fields,((i,a)=>{const l=new Qe([i]);if(Cc(a)){const c=Hv(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new En(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,At.min(),At.min(),At.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,At.min(),At.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,At.min(),At.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jc{constructor(t,i){this.position=t,this.inclusive=i}}function f_(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function d_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],t.position[i]))return!1;return!0}class qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function iw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Fv{}class Oe extends Fv{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new sw(t,i,a):i==="array-contains"?new lw(t,a):i==="in"?new uw(t,a):i==="not-in"?new cw(t,a):i==="array-contains-any"?new hw(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new aw(t,a):new ow(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends Fv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return Qv(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qv(s){return s.op==="and"}function Gv(s){return rw(s)&&Qv(s)}function rw(s){for(const t of s.filters)if(t instanceof Ii)return!1;return!0}function Zd(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+Xa(s.value);if(Gv(s))return s.filters.map((t=>Zd(t))).join(",");{const t=s.filters.map((i=>Zd(i))).join(",");return`${s.op}(${t})`}}function Kv(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(s,t):s instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&Kv(d,l.filters[p])),!0):!1})(s,t):void gt(19439)}function Yv(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(s):s instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(Yv).join(" ,")+"}"})(s):"Filter"}class sw extends Oe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class aw extends Oe{constructor(t,i){super(t,"in",i),this.keys=Xv("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class ow extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=Xv("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Xv(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class lw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Tm(i)&&Rl(i.arrayValue,this.value)}}class uw extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Rl(this.value.arrayValue,i)}}class cw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Rl(this.value.arrayValue,i)}}class hw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Rl(this.value.arrayValue,a)))}}class fw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function m_(s,t=null,i=[],a=[],l=null,c=null,d=null){return new fw(s,t,i,a,l,c,d)}function Sm(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Zd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Xa(a))).join(",")),t.Te=i}return t.Te}function bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!iw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Kv(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!d_(s.startAt,t.startAt)&&d_(s.endAt,t.endAt)}function Wd(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ah{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dw(s,t,i,a,l,c,d,p){return new ah(s,t,i,a,l,c,d,p)}function wm(s){return new ah(s)}function g_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mw(s){return s.collectionGroup!==null}function _l(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new qc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new qc(Qe.keyField(),a))}return t.Ie}function Ti(s){const t=Et(s);return t.Ee||(t.Ee=gw(t,_l(s))),t.Ee}function gw(s,t){if(s.limitType==="F")return m_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new qc(l.field,c)}));const i=s.endAt?new jc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new jc(s.startAt.position,s.startAt.inclusive):null;return m_(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function $d(s,t,i){return new ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function oh(s,t){return bm(Ti(s),Ti(t))&&s.limitType===t.limitType}function Jv(s){return`${Sm(Ti(s))}|lt:${s.limitType}`}function La(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Yv(l))).join(", ")}]`),rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Xa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Xa(l))).join(",")),`Target(${a})`})(Ti(s))}; limitType=${s.limitType})`}function lh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of _l(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=f_(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,_l(a),l)||a.endAt&&!(function(d,p,_){const y=f_(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,_l(a),l))})(s,t)}function pw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Zv(s){return(t,i)=>{let a=!1;for(const l of _l(s)){const c=yw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function yw(s,t,i){const a=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Ya(_,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Uv(this.inner)}size(){return this.innerSize}}const Aw=new le(ht.comparator);function er(){return Aw}const Wv=new le(ht.comparator);function ml(...s){let t=Wv;for(const i of s)t=t.insert(i.key,i);return t}function $v(s){let t=Wv;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ms(){return vl()}function tE(){return vl()}function vl(){return new Hs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const _w=new le(ht.comparator),vw=new Ve(ht.comparator);function Mt(...s){let t=vw;for(const i of s)t=t.add(i);return t}const Ew=new Ve(Vt);function Tw(){return Ew}function Cm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function eE(s){return{integerValue:""+s}}function Sw(s,t){return Xb(t)?eE(t):Cm(s,t)}class uh{constructor(){this._=void 0}}function bw(s,t,i){return s instanceof Hc?(function(l,c){const d={fields:{[Pv]:{stringValue:Lv},[Bv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Em(c)&&(c=sh(c)),c&&(d.fields[zv]=c),{mapValue:d}})(i,t):s instanceof Il?iE(s,t):s instanceof Dl?rE(s,t):(function(l,c){const d=nE(l,c),p=p_(d)+p_(l.Ae);return Jd(d)&&Jd(l.Ae)?eE(p):Cm(l.serializer,p)})(s,t)}function ww(s,t,i){return s instanceof Il?iE(s,t):s instanceof Dl?rE(s,t):i}function nE(s,t){return s instanceof Fc?(function(a){return Jd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Hc extends uh{}class Il extends uh{constructor(t){super(),this.elements=t}}function iE(s,t){const i=sE(t);for(const a of s.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Dl extends uh{constructor(t){super(),this.elements=t}}function rE(s,t){let i=sE(t);for(const a of s.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class Fc extends uh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function p_(s){return ge(s.integerValue||s.doubleValue)}function sE(s){return Tm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Cw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof Dl&&l instanceof Dl?Ka(a.elements,l.elements,Ri):a instanceof Fc&&l instanceof Fc?Ri(a.Ae,l.Ae):a instanceof Hc&&l instanceof Hc})(s.transform,t.transform)}class Rw{constructor(t,i){this.version=t,this.transformResults=i}}class kn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new kn}static exists(t){return new kn(void 0,t)}static updateTime(t){return new kn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ch{}function aE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Rm(s.key,kn.none()):new xl(s.key,s.data,kn.none());{const i=s.data,a=hn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ts(s.key,a,new En(l.toArray()),kn.none())}}function Iw(s,t,i){s instanceof xl?(function(l,c,d){const p=l.value.clone(),_=A_(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ts?(function(l,c,d){if(!Rc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=A_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(oE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(s,t,i,a){return s instanceof xl?(function(c,d,p,_){if(!Rc(c.precondition,d))return p;const y=c.value.clone(),T=__(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof ts?(function(c,d,p,_){if(!Rc(c.precondition,d))return p;const y=__(c.fieldTransforms,_,d),T=d.data;return T.setAll(oE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return Rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Dw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=nE(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function y_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ka(a,l,((c,d)=>Cw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class xl extends ch{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ts extends ch{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function A_(s,t,i){const a=new Map;Qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,ww(d,p,i[l]))}return a}function __(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,bw(c,d,t))}return a}class Rm extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nw extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ow{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Iw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=tE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=aE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,a)=>y_(i,a)))&&Ka(this.baseMutations,t.baseMutations,((i,a)=>y_(i,a)))}}class Im{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return _w})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Im(t,i,a,l)}}class Vw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Mw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function xw(s){switch(s){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function lE(s){if(s===void 0)return tr("GRPC error has no .code"),J.UNKNOWN;switch(s){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:s})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Uw(){return new TextEncoder}const kw=new Qr([4294967295,4294967295],0);function v_(s){const t=Uw().encode(s),i=new bv;return i.update(t),new Uint8Array(i.digest())}function E_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qr([i,a],0),new Qr([l,c],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qr.fromNumber(a)));return l.compare(kw)===1&&(l=new Qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=v_(t),[a,l]=E_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=v_(t),[a,l]=E_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new hh(At.min(),l,new le(Vt),er(),Mt())}}class Ul{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ul(a,i,Mt(),Mt(),Mt())}}class Ic{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class uE{constructor(t,i){this.targetId=t,this.Ce=i}}class cE{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class T_{constructor(){this.ve=0,this.Fe=S_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Ul(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=S_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lw{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.Je=Ec(),this.He=Ec(),this.Ye=new le(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Wd(c))if(a===0){const d=new ht(c.path);this.et(i,d,Je.newNoDocument(d,At.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xr(a).toUint8Array()}catch(_){if(_ instanceof kv)return Ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Dm(d,l,c)}catch(_){return Ga(_ instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Wd(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new hh(t,i,this.Ye,this.je,a);return this.je=er(),this.Je=Ec(),this.He=Ec(),this.Ye=new le(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new T_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new T_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new le(ht.comparator)}function S_(){return new le(ht.comparator)}const Pw={asc:"ASCENDING",desc:"DESCENDING"},zw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bw={and:"AND",or:"OR"};class jw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function tm(s,t){return s.useProto3Json||rh(t)?t:{value:t}}function Qc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function qw(s,t){return Qc(s,t.toTimestamp())}function Si(s){return Qt(!!s,49232),At.fromTimestamp((function(i){const a=Yr(i);return new re(a.seconds,a.nanos)})(s))}function Nm(s,t){return em(s,t).canonicalString()}function em(s,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function fE(s){const t=ie.fromString(s);return Qt(yE(t),10190,{key:t.toString()}),t}function nm(s,t){return Nm(s.databaseId,t.path)}function Ud(s,t){const i=fE(t);if(i.get(1)!==s.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(mE(i))}function dE(s,t){return Nm(s.databaseId,t)}function Hw(s){const t=fE(s);return t.length===4?ie.emptyPath():mE(t)}function im(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mE(s){return Qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function b_(s,t,i){return{name:nm(s,t),fields:i.value.mapValue.fields}}function Fw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Qt(T===void 0||typeof T=="string",58123),Ge.fromBase64String(T||"")):(Qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ge.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?J.UNKNOWN:lE(y.code);return new ot(T,y.message||"")})(d);i=new cE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ud(s,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):At.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Je.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Ic(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ud(s,a.document),c=a.readTime?Si(a.readTime):At.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Ic([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ud(s,a.document),c=a.removedTargetIds||[];i=new Ic([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Mw(l,c),p=a.targetId;i=new uE(p,d)}}return i}function Qw(s,t){let i;if(t instanceof xl)i={update:b_(s,t.key,t.value)};else if(t instanceof Rm)i={delete:nm(s,t.key)};else if(t instanceof ts)i={update:b_(s,t.key,t.data),updateMask:tC(t.fieldMask)};else{if(!(t instanceof Nw))return gt(16599,{Vt:t.type});i={verify:nm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function Gw(s,t){return s&&s.length>0?(Qt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(At.min())&&(d=Si(c)),new Rw(d,l.transformResults||[])})(i,t)))):[]}function Kw(s,t){return{documents:[dE(s,t.path)]}}function Yw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dE(s,l);const c=(function(y){if(y.length!==0)return pE(Ii.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:Pa(D.field),direction:Zw(D.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=tm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Xw(s){let t=Hw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const D=gE(S);return D instanceof Ii&&Gv(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(W){return new qc(za(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,rh(D)?null:D})(i.limit));let _=null;i.startAt&&(_=(function(S){const D=!!S.before,F=S.values||[];return new jc(F,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const D=!S.before,F=S.values||[];return new jc(F,D)})(i.endAt)),dw(t,l,d,c,p,"F",_,y)}function Jw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>gE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function Zw(s){return Pw[s]}function Ww(s){return zw[s]}function $w(s){return Bw[s]}function Pa(s){return{fieldPath:s.canonicalString()}}function za(s){return Qe.fromServerFormat(s.fieldPath)}function pE(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:Ww(i.op),value:i.value}}})(s):s instanceof Ii?(function(i){const a=i.getFilters().map((l=>pE(l)));return a.length===1?a[0]:{compositeFilter:{op:$w(i.op),filters:a}}})(s):gt(54877,{filter:s})}function tC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function yE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class jr{constructor(t,i,a,l,c=At.min(),d=At.min(),p=Ge.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eC{constructor(t){this.yt=t}}function nC(s){const t=Xw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$d(t,t.limit,"L"):t}class iC{constructor(){this.Cn=new rC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Kr.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class rC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ie.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ie.comparator)).toArray()}}const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(AE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const C_="LruGarbageCollector",sC=1048576;function R_([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class aC{constructor(t){this.Ir=t,this.buffer=new Ve(R_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();R_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(C_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?it(C_,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class lC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(ih.ce);const a=new aC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(w_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),ka()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function uC(s,t){return new lC(s,t)}class cC{constructor(){this.changes=new Hs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class fC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&El(a.mutation,l,En.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Ms();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ml();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ms();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=er();const d=vl(),p=(function(){return vl()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof ts)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),El(T.mutation,y,T.mutation.getFieldMask(),re.now())):d.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new hC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=vl();let l=new le(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||En.empty();T=p.applyToLocalView(y,T),a.set(_,T);const S=(l.get(p.batchId)||Mt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,S=tE();T.forEach((D=>{if(!c.has(D)){const F=aE(i.get(D),a.get(D));F!==null&&S.set(D,F),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Y.resolve(Ms());let p=bl,_=c;return d.next((y=>Y.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{_=_.insert(T,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Mt()))).next((T=>({batchId:p,changes:$v(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(_=>{const y=(function(S,D){return new ah(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let p=ml();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&El(T.mutation,y,En.empty(),re.now()),lh(i,y)&&(p=p.insert(_,y))})),p}))}}class dC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:nC(l.bundledQuery),readTime:Si(l.readTime)}})(i)),Y.resolve()}}class mC{constructor(){this.overlays=new le(ht.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ms();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=Ms(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Ms(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Ms(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Vw(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gC{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class Om{constructor(){this.Qr=new Ve(ke.$r),this.Ur=new Ve(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new ie([])),a=new ke(i,t),l=new ke(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ie([])),a=new ke(i,t),l=new ke(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class pC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(ke.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ow(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?vm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ht(c),0);let p=new Ve(Vt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new ke(i,0),l=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yC{constructor(t){this.ri=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=er();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=er();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Qb(Fb(T),a)<=0||(l.has(T.key)||lh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new AC(this)}getSize(t){return Y.resolve(this.size)}}class AC extends cC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class _C{constructor(t){this.persistence=t,this.si=new Hs((i=>Sm(i)),bm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class _E{constructor(t,i){this.ui={},this.overlays={},this.ci=new ih(0),this.li=!1,this.li=!0,this.hi=new gC,this.referenceDelegate=t(this),this.Pi=new _C(this),this.indexManager=new iC,this.remoteDocumentCache=(function(l){return new yC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new eC(i),this.Ii=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new mC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new pC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new vC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class vC extends Kb{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new Vm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Gc{constructor(t,i){this.persistence=t,this.pi=new Hs((a=>Jb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=uC(this,i)}static mi(t,i){return new Gc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=wc(t.data.value)),i}br(t,i,a){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Mm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Mm(t,i.fromCache,a,l)}}class EC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return f1()?8:Yb(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new EC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ka()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(ka()<=Ot.DEBUG&&it("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ka()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Y.resolve())}ys(t,i){if(g_(i))return Y.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$d(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,$d(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return g_(i)||l.isEqual(At.min())?Y.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Y.resolve(null):(ka()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(t,d,i,Hb(l,bl)).next((p=>p)))}))}Ds(t,i){let a=new Ve(Zv(t));return i.forEach(((l,c)=>{lh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ka()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Kr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const xm="LocalStore",SC=3e8;class bC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Vt),this.xs=new Hs((c=>Sm(c)),bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function wC(s,t,i,a){return new bC(s,t,i,a)}async function vE(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Mt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function CC(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const S=y.batch,D=S.keys();let F=Y.resolve();return D.forEach((W=>{F=F.next((()=>T.getEntry(_,W))).next((et=>{const $=y.docVersions.get(W);Qt($!==null,48541),et.version.compareTo($)<0&&(S.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),T.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function EE(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function RC(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const D=l.get(S);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let F=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ge.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,a)),l=l.insert(S,F),(function(et,$,ft){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=SC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(D,F,T)&&p.push(i.Pi.updateTargetData(c,F))}));let _=er(),y=Mt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(IC(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(At.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function IC(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=er();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function DC(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function NC(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new jr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function rm(s,t,i){const a=Et(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;it(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function I_(s,t,i){const a=Et(s);let l=At.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=Et(_),D=S.xs.get(T);return D!==void 0?Y.resolve(S.Ms.get(D)):S.Pi.getTargetData(y,T)})(a,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Mt()))).next((p=>(OC(a,pw(t),p),{documents:p,Qs:c})))))}function OC(s,t,i){let a=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class D_{constructor(){this.activeTargetIds=Tw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VC{constructor(){this.Mo=new D_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new D_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class MC{Oo(t){}shutdown(){}}const N_="ConnectivityMonitor";class O_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(N_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(N_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function sm(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const kd="RestConnection",xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=sm(),p=this.zo(t,i.toUriEncodedString());it(kd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),T=$a(y);return this.Jo(t,p,_,a,T).then((S=>(it(kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ga(kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=xC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class kC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class LC extends UC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=sm();return new Promise(((p,_)=>{const y=new wv;y.setWithCredentials(!0),y.listenOnce(Cv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case bc.NO_ERROR:const S=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case bc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),_(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const D=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const et=(function(ft){const _t=ft.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_t)>=0?_t:J.UNKNOWN})(W.status);_(new ot(et,W.message))}else _(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Dv(),p=Iv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${T}`,_);const S=d.createWebChannel(T,_);this.I_(S);let D=!1,F=!1;const W=new kC({Yo:$=>{F?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(D||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,$),S.send($))},Zo:()=>S.close()}),et=($,ft,_t)=>{$.listen(ft,(dt=>{try{_t(dt)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return et(S,dl.EventType.OPEN,(()=>{F||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(S,dl.EventType.CLOSE,(()=>{F||(F=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),et(S,dl.EventType.ERROR,($=>{F||(F=!0,Ga(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),et(S,dl.EventType.MESSAGE,($=>{if(!F){const ft=$.data[0];Qt(!!ft,16349);const _t=ft,dt=_t?.error||_t[0]?.error;if(dt){it(Ye,`RPC '${t}' stream ${l} received error:`,dt);const jt=dt.status;let Xt=(function(b){const R=we[b];if(R!==void 0)return lE(R)})(jt),xt=dt.message;Xt===void 0&&(Xt=J.INTERNAL,xt="Unknown error status: "+jt+" with message "+dt.message),F=!0,W.a_(new ot(Xt,xt)),S.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,ft),W.u_(ft)}})),et(p,Rv.STAT_EVENT,($=>{$.stat===Kd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Kd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ld(){return typeof document<"u"?document:null}function fh(s){return new jw(s,!0)}class TE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const V_="PersistentStream";class SE{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(V_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PC extends SE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Fw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Si(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=im(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Wd(_)?{documents:Kw(c,_)}:{query:Yw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=hE(c,d.resumeToken);const y=tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Qc(c,d.snapshotVersion.toTimestamp());const y=tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=Jw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=im(this.serializer),i.removeTarget=t,this.q_(i)}}class zC extends SE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Gw(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=im(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Qw(this.serializer,a)))};this.q_(i)}}class BC{}class jC extends BC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,em(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,em(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class HC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fs(this)&&(it(Bs,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await dh(y)})(this))}))})),this.Ra=new qC(a,l)}}async function dh(s){if(Fs(s))for(const t of s.da)await t(!0)}async function kl(s){for(const t of s.da)await t(!1)}function bE(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?Lm(i):ro(i).O_()&&km(i,t))}function Um(s,t){const i=Et(s),a=ro(i);i.Ia.delete(t),a.O_()&&wE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fs(i)&&i.Ra.set("Unknown"))}function km(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(s).Y_(t)}function wE(s,t){s.Va.Ue(t),ro(s).Z_(t)}function Lm(s){s.Va=new Lw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ro(s).start(),s.Ra.ua()}function Pm(s){return Fs(s)&&!ro(s).x_()&&s.Ia.size>0}function Fs(s){return Et(s).Ea.size===0}function CE(s){s.Va=void 0}async function FC(s){s.Ra.set("Online")}async function QC(s){s.Ia.forEach(((t,i)=>{km(s,t)}))}async function GC(s,t){CE(s),Pm(s)?(s.Ra.ha(t),Lm(s)):s.Ra.set("Unknown")}async function KC(s,t,i){if(s.Ra.set("Online"),t instanceof cE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){it(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Kc(s,a)}else if(t instanceof Ic?s.Va.Ze(t):t instanceof uE?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const a=await EE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Ge.EMPTY_BYTE_STRING,T.snapshotVersion)),wE(c,_);const S=new jr(T.target,_,y,T.sequenceNumber);km(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(Bs,"Failed to raise snapshot:",a),await Kc(s,a)}}async function Kc(s,t,i){if(!io(t))throw t;s.Ea.add(1),await kl(s),s.Ra.set("Offline"),i||(i=()=>EE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Bs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await dh(s)}))}function RE(s,t){return t().catch((i=>Kc(s,i,t)))}async function mh(s){const t=Et(s),i=Zr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:vm;for(;YC(t);)try{const l=await DC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,XC(t,l)}catch(l){await Kc(t,l)}IE(t)&&DE(t)}function YC(s){return Fs(s)&&s.Ta.length<10}function XC(s,t){s.Ta.push(t);const i=Zr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function IE(s){return Fs(s)&&!Zr(s).x_()&&s.Ta.length>0}function DE(s){Zr(s).start()}async function JC(s){Zr(s).ra()}async function ZC(s){const t=Zr(s);for(const i of s.Ta)t.ea(i.mutations)}async function WC(s,t,i){const a=s.Ta.shift(),l=Im.from(a,t,i);await RE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await mh(s)}async function $C(s,t){t&&Zr(s).X_&&await(async function(a,l){if((function(d){return xw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Zr(a).B_(),await RE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await mh(a)}})(s,t),IE(s)&&DE(s)}async function M_(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(Bs,"RemoteStore received new credentials");const a=Fs(i);i.Ea.add(3),await kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await dh(i)}async function tR(s,t){const i=Et(s);t?(i.Ea.delete(2),await dh(i)):t||(i.Ea.add(2),await kl(i),i.Ra.set("Unknown"))}function ro(s){return s.ma||(s.ma=(function(i,a,l){const c=Et(i);return c.sa(),new PC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:FC.bind(null,s),t_:QC.bind(null,s),r_:GC.bind(null,s),H_:KC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Pm(s)?Lm(s):s.Ra.set("Unknown")):(await s.ma.stop(),CE(s))}))),s.ma}function Zr(s){return s.fa||(s.fa=(function(i,a,l){const c=Et(i);return c.sa(),new zC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:JC.bind(null,s),r_:$C.bind(null,s),ta:ZC.bind(null,s),na:WC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await mh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new zm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(s,t){if(tr("AsyncQueue",`${t}: ${s}`),io(s))return new ot(J.UNAVAILABLE,`${t}: ${s}`);throw s}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ba;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class x_{constructor(){this.ga=new le(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Za{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Za(t,i,Ba.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class eR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nR{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=U_(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function U_(){return new Hs((s=>Jv(s)),oh)}async function NE(s,t){const i=Et(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new eR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Bm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&jm(i)}async function OE(s,t){const i=Et(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iR(s,t){const i=Et(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&jm(i)}function rR(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function jm(s){s.Ca.forEach((t=>{t.next()}))}var am,k_;(k_=am||(am={})).Ma="default",k_.Cache="cache";class VE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Za(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==am.Cache}}class ME{constructor(t){this.key=t}}class xE{constructor(t){this.key=t}}class sR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Zv(t),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new x_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const D=l.get(T),F=lh(this.query,S)?S:null,W=!!D&&this.mutatedKeys.has(D.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let $=!1;D&&F?D.data.isEqual(F.data)?W!==et&&(a.track({type:3,doc:F}),$=!0):this.su(D,F)||(a.track({type:2,doc:F}),$=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!D&&F?(a.track({type:0,doc:F}),$=!0):D&&!F&&(a.track({type:1,doc:D}),$=!0,(_||y)&&(p=!0)),$&&(F?(d=d.add(F),c=et?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(F,W){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return et(F)-et(W)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new xE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ME(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class aR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class oR{constructor(t){this.key=t,this.hu=!1}}class lR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs((p=>Jv(p)),oh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ht.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uR(s,t,i=!0){const a=BE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await UE(a,t,i,!0),l}async function cR(s,t){const i=BE(s);await UE(i,t,!0,!1)}async function UE(s,t,i,a){const l=await NC(s.localStore,Ti(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await hR(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&bE(s.remoteStore,l),p}async function hR(s,t,i,a,l){s.pu=(S,D,F)=>(async function(et,$,ft,_t){let dt=$.view.ru(ft);dt.Cs&&(dt=await I_(et.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,dt))));const jt=_t&&_t.targetChanges.get($.targetId),Xt=_t&&_t.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(dt,et.isPrimaryClient,jt,Xt);return P_(et,$.targetId,xt.au),xt.snapshot})(s,S,D,F);const c=await I_(s.localStore,t,!0),d=new sR(t,c.Qs),p=d.ru(c.documents),_=Ul.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);P_(s,i,y.au);const T=new aR(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function fR(s,t,i){const a=Et(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!oh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Um(a.remoteStore,l.targetId),om(a,l.targetId)})).catch(no)):(om(a,l.targetId),await rm(a.localStore,l.targetId,!0))}async function dR(s,t){const i=Et(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Um(i.remoteStore,a.targetId))}async function mR(s,t,i){const a=ER(s);try{const l=await(function(d,p){const _=Et(d),y=re.now(),T=p.reduce(((F,W)=>F.add(W.key)),Mt());let S,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=er(),et=Mt();return _.Ns.getEntries(F,T).next(($=>{W=$,W.forEach(((ft,_t)=>{_t.isValidDocument()||(et=et.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,W))).next(($=>{S=$;const ft=[];for(const _t of p){const dt=Dw(_t,S.get(_t.key).overlayedDocument);dt!=null&&ft.push(new ts(_t.key,dt,Hv(dt.value.mapValue),kn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ft,p)})).next(($=>{D=$;const ft=$.applyToLocalDocumentSet(S,et);return _.documentOverlayCache.saveOverlays(F,$.batchId,ft)}))})).then((()=>({batchId:D.batchId,changes:$v(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Vt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Ll(a,l.changes),await mh(a.remoteStore)}catch(l){const c=Bm(l,"Failed to persist write");i.reject(c)}}async function kE(s,t){const i=Et(s);try{const a=await RC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Ll(i,a,t)}catch(a){await no(a)}}function L_(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Et(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,S)=>{for(const D of S.Sa)D.va(p)&&(y=!0)})),y&&jm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function gR(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ht.comparator);d=d.insert(c,Je.newNoDocument(c,At.min()));const p=Mt().add(c),_=new hh(At.min(),new Map,new le(Vt),d,p);await kE(a,_),a.du=a.du.remove(c),a.Au.delete(t),Hm(a)}else await rm(a.localStore,t,!1).then((()=>om(a,t,i))).catch(no)}async function pR(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await CC(i.localStore,t);PE(i,a,null),LE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ll(i,l)}catch(l){await no(l)}}async function yR(s,t,i){const a=Et(s);try{const l=await(function(d,p){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Qt(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);PE(a,t,i),LE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ll(a,l)}catch(l){await no(l)}}function LE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function PE(s,t,i){const a=Et(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function om(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||zE(s,a)}))}function zE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Um(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Hm(s))}function P_(s,t,i){for(const a of i)a instanceof ME?(s.Ru.addReference(a.key,t),AR(s,a)):a instanceof xE?(it(qm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||zE(s,a.key)):gt(19791,{wu:a})}function AR(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(qm,"New document in limbo: "+i),s.Eu.add(a),Hm(s))}function Hm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ie.fromString(t)),a=s.fu.next();s.Au.set(a,new oR(i)),s.du=s.du.insert(i,a),bE(s.remoteStore,new jr(Ti(wm(i.path)),a,"TargetPurposeLimboResolution",ih.ce))}}async function Ll(s,t,i){const a=Et(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Mm.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const T=Et(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Y.forEach(y,(D=>Y.forEach(D.Es,(F=>T.persistence.referenceDelegate.addReference(S,D.targetId,F))).next((()=>Y.forEach(D.ds,(F=>T.persistence.referenceDelegate.removeReference(S,D.targetId,F)))))))))}catch(S){if(!io(S))throw S;it(xm,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const F=T.Ms.get(D),W=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(D,et)}}})(a.localStore,c))}async function _R(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){it(qm,"User change. New user:",t.toKey());const a=await vE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ot(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ll(i,a.Ls)}}function vR(s,t){const i=Et(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function BE(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gR.bind(null,t),t.Pu.H_=iR.bind(null,t.eventManager),t.Pu.yu=rR.bind(null,t.eventManager),t}function ER(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yR.bind(null,t),t}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return wC(this.persistence,new TC,t.initialUser,this.serializer)}Cu(t){return new _E(Vm.mi,this.serializer)}Du(t){return new VC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class TR extends Yc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof Gc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new _E((a=>Gc.mi(a,i)),this.serializer)}}class lm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>L_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_R.bind(null,this.syncEngine),await tR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nR})()}createDatastore(t){const i=fh(t.databaseInfo.databaseId),a=(function(c){return new LC(c)})(t.databaseInfo);return(function(c,d,p,_){return new jC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new HC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>L_(this.syncEngine,i,0)),(function(){return O_.v()?new O_:new MC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const S=new lR(l,c,d,p,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);it(Bs,"RemoteStore shutting down."),a.Ea.add(5),await kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lm.provider={build:()=>new lm};class jE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Wr="FirestoreClient";class SR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Pd(s,t){s.asyncQueue.verifyOperationInProgress(),it(Wr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await vE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function z_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await bR(s);it(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>M_(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>M_(t.remoteStore,l))),s._onlineComponents=t}async function bR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Wr,"Using user provided OfflineComponentProvider");try{await Pd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Pd(s,new Yc)}}else it(Wr,"Using default OfflineComponentProvider"),await Pd(s,new TR(void 0));return s._offlineComponents}async function qE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Wr,"Using user provided OnlineComponentProvider"),await z_(s,s._uninitializedComponentsProvider._online)):(it(Wr,"Using default OnlineComponentProvider"),await z_(s,new lm))),s._onlineComponents}function wR(s){return qE(s).then((t=>t.syncEngine))}async function HE(s){const t=await qE(s),i=t.eventManager;return i.onListen=uR.bind(null,t.syncEngine),i.onUnlisten=fR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dR.bind(null,t.syncEngine),i}function CR(s,t,i={}){const a=new Wi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new jE({next:D=>{T.Nu(),d.enqueueAndForget((()=>OE(c,S)));const F=D.docs.has(p);!F&&D.fromCache?y.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&D.fromCache&&_&&_.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new VE(wm(p.path),T,{includeMetadataChanges:!0,qa:!0});return NE(c,S)})(await HE(s),s.asyncQueue,t,i,a))),a.promise}function RR(s,t,i={}){const a=new Wi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new jE({next:D=>{T.Nu(),d.enqueueAndForget((()=>OE(c,S))),D.fromCache&&_.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new VE(p,T,{includeMetadataChanges:!0,qa:!0});return NE(c,S)})(await HE(s),s.asyncQueue,t,i,a))),a.promise}function FE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const B_=new Map;const QE="firestore.googleapis.com",j_=!0;class q_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=j_}else this.host=t.host,this.ssl=t.ssl??j_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sC)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Vb;switch(a.type){case"firstParty":return new kb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=B_.get(i);a&&(it("ComponentProvider","Removing Datastore"),B_.delete(i),a.terminate())})(this),Promise.resolve()}}function IR(s,t,i,a={}){s=Wn(s,gh);const l=$a(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(pv(`https://${p}`),yv("Firestore",!0)),c.host!==QE&&c.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Ls(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=Xe.MOCK_USER;else{y=i1(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xe(S)}s._authCredentials=new Mb(new Ov(y,T))}}class ph{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ph(this.firestore,t,this._query)}}class Re{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ml(i,Re._jsonSchema))return new Re(t,a||null,new ht(ie.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:Ce("string",Re._jsonSchemaVersion),referencePath:Ce("string")};class Gr extends ph{constructor(t,i,a){super(t,i,wm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ht(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Fm(s,t,...i){if(s=We(s),Vv("collection","path",t),s instanceof gh){const a=ie.fromString(t,...i);return n_(a),new Gr(s,null,a)}{if(!(s instanceof Re||s instanceof Gr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(t,...i));return n_(a),new Gr(s.firestore,null,a)}}function Pl(s,t,...i){if(s=We(s),arguments.length===1&&(t=Am.newId()),Vv("doc","path",t),s instanceof gh){const a=ie.fromString(t,...i);return e_(a),new Re(s,null,new ht(a))}{if(!(s instanceof Re||s instanceof Gr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(t,...i));return e_(a),new Re(s.firestore,s instanceof Gr?s.converter:null,new ht(a))}}const H_="AsyncQueue";class F_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TE(this,"async_queue_retry"),this._c=()=>{const a=Ld();a&&it(H_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;it(H_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",Q_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Q_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Qs extends gh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new F_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new F_(t),this._firestoreClient=void 0,await t}}}function DR(s,t){const i=typeof s=="object"?s:Ev(),a=typeof s=="string"?s:zc,l=pm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=e1("firestore");c&&IR(l,...c)}return l}function Qm(s){if(s._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NR(s),s._firestoreClient}function NR(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new $b(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new SR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ge.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ml(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class yh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gm{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Ml(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ml(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};const OR=/^__.*__$/;class VR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,i,this.fieldTransforms):new xl(t,this.data,i,this.fieldTransforms)}}class GE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ts(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function KE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class Km{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Km({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(KE(this.Ac)&&OR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class MR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||fh(t)}Cc(t,i,a,l=!1){return new Km({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(s){const t=s._freezeSettings(),i=fh(s._databaseId);return new MR(s._databaseId,!!t.ignoreUndefinedProperties,i)}function YE(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Xm("Data must be an object, but it was:",d,a);const p=XE(a,d);let _,y;if(c.merge)_=new En(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const D=um(t,S,i);if(!d.contains(D))throw new ot(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);ZE(T,D)||T.push(D)}_=new En(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new VR(new hn(p),_,y)}class Ah extends Gm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function xR(s,t,i,a){const l=s.Cc(1,t,i);Xm("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();$r(a,((_,y)=>{const T=Jm(t,_,i);y=We(y);const S=l.yc(T);if(y instanceof Ah)c.push(T);else{const D=_h(y,S);D!=null&&(c.push(T),d.set(T,D))}}));const p=new En(c);return new GE(d,p,l.fieldTransforms)}function UR(s,t,i,a,l,c){const d=s.Cc(1,t,i),p=[um(t,a,i)],_=[l];if(c.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(um(t,c[D])),_.push(c[D+1]);const y=[],T=hn.empty();for(let D=p.length-1;D>=0;--D)if(!ZE(y,p[D])){const F=p[D];let W=_[D];W=We(W);const et=d.yc(F);if(W instanceof Ah)y.push(F);else{const $=_h(W,et);$!=null&&(y.push(F),T.set(F,$))}}const S=new En(y);return new GE(T,S,d.fieldTransforms)}function _h(s,t){if(JE(s=We(s)))return Xm("Unsupported field value:",t,s),XE(s,t);if(s instanceof Gm)return(function(a,l){if(!KE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=_h(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Sw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:Qc(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qc(l.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:hE(l.serializer,a._byteString)};if(a instanceof Re){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,p){return{mapValue:{fields:{[jv]:{stringValue:qv},[Bc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Cm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${_m(a)}`)})(s,t)}function XE(s,t){const i={};return Uv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(s,((a,l)=>{const c=_h(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function JE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof bi||s instanceof Un||s instanceof Re||s instanceof Gm||s instanceof wi)}function Xm(s,t,i){if(!JE(i)||!Mv(i)){const a=_m(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function um(s,t,i){if((t=We(t))instanceof yh)return t._internalPath;if(typeof t=="string")return Jm(s,t);throw Xc("Field path arguments must be of type string or ",s,!1,void 0,i)}const kR=new RegExp("[~\\*/\\[\\]]");function Jm(s,t,i){if(t.search(kR)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yh(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ot(J.INVALID_ARGUMENT,p+s+_)}function ZE(s,t){return s.some((i=>i.isEqual(t)))}class WE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($E("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LR extends WE{data(){return super.data()}}function $E(s,t){return typeof t=="string"?Jm(s,t):t instanceof yh?t._internalPath:t._delegate._internalPath}function PR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zR{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Bc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=sh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Qt(yE(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function tT(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends WE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($E("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Ce("string",Us._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Dc extends Us{data(t={}){return super.data(t)}}class ja{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Dc(this._firestore,this._userDataWriter,a.key,a,new pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:BR(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}function eT(s){s=Wn(s,Re);const t=Wn(s.firestore,Qs);return CR(Qm(t),s._key).then((i=>FR(t,s,i)))}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Ce("string",ja._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class nT extends zR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function jR(s){s=Wn(s,ph);const t=Wn(s.firestore,Qs),i=Qm(t),a=new nT(t);return PR(s._query),RR(i,s._query).then((l=>new ja(t,a,s,l)))}function qR(s,t,i){s=Wn(s,Re);const a=Wn(s.firestore,Qs),l=tT(s.converter,t);return vh(a,[YE(Ym(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,kn.none())])}function iT(s,t,i,...a){s=Wn(s,Re);const l=Wn(s.firestore,Qs),c=Ym(l);let d;return d=typeof(t=We(t))=="string"||t instanceof yh?UR(c,"updateDoc",s._key,t,i,a):xR(c,"updateDoc",s._key,t),vh(l,[d.toMutation(s._key,kn.exists(!0))])}function HR(s){return vh(Wn(s.firestore,Qs),[new Rm(s._key,kn.none())])}function rT(s,t){const i=Wn(s.firestore,Qs),a=Pl(s),l=tT(s.converter,t);return vh(i,[YE(Ym(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,kn.exists(!1))]).then((()=>a))}function vh(s,t){return(function(a,l){const c=new Wi;return a.asyncQueue.enqueueAndForget((async()=>mR(await wR(a),l,c))),c.promise})(Qm(s),t)}function FR(s,t,i){const a=i.docs.get(t._key),l=new nT(s);return new Us(s,l,t._key,a,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(to),Qa(new Ps("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Qs(new xb(a.getProvider("auth-internal")),new Lb(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fr(ZA,WA,t),Fr(ZA,WA,"esm2020")})();function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QR=sT,aT=new Ol("auth","Firebase",sT());const Jc=new mm("@firebase/auth");function GR(s,...t){Jc.logLevel<=Ot.WARN&&Jc.warn(`Auth (${to}): ${s}`,...t)}function Nc(s,...t){Jc.logLevel<=Ot.ERROR&&Jc.error(`Auth (${to}): ${s}`,...t)}function Di(s,...t){throw Wm(s,...t)}function Zn(s,...t){return Wm(s,...t)}function Zm(s,t,i){const a={...QR(),[t]:i};return new Ol("auth","Firebase",a).create(t,{appName:s.name})}function ks(s){return Zm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KR(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Di(s,"argument-error"),Zm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return aT.create(s,...t)}function pt(s,t,...i){if(!s)throw Wm(t,...i)}function Ji(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Nc(t),new Error(t)}function nr(s,t){s||Ji(t)}function cm(){return typeof self<"u"&&self.location?.href||""}function YR(){return G_()==="http:"||G_()==="https:"}function G_(){return typeof self<"u"&&self.location?.protocol||null}function XR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||u1()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=a1()||c1()}get(){return XR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $m(s,t){nr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class oT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$R=new zl(3e4,6e4);function tg(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function so(s,t,i,a,l={}){return lT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Vl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return l1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&$a(s.emulatorConfig.host)&&(y.credentials="include"),oT.fetch()(await uT(s,s.config.apiHost,i,p),y)})}async function lT(s,t,i){s._canInitEmulator=!1;const a={...ZR,...t};try{const l=new eI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(s,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Zm(s,T,y);Di(s,T)}}catch(l){if(l instanceof ir)throw l;Di(s,"network-request-failed",{message:String(l)})}}async function tI(s,t,i,a,l={}){const c=await so(s,t,i,a,l);return"mfaPendingCredential"in c&&Di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function uT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?$m(s.config,l):`${s.config.apiScheme}://${l}`;return WR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),$R.get())})}}function Sc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Zn(s,t,a);return l.customData._tokenResponse=i,l}async function nI(s,t){return so(s,"POST","/v1/accounts:delete",t)}async function Zc(s,t){return so(s,"POST","/v1/accounts:lookup",t)}function Tl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(s,t=!1){const i=We(s),a=await i.getIdToken(t),l=eg(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Tl(zd(l.auth_time)),issuedAtTime:Tl(zd(l.iat)),expirationTime:Tl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(s){return Number(s)*1e3}function eg(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=fv(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function K_(s){const t=eg(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ir&&rI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function rI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class sI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const t=s.auth,i=await s.getIdToken(),a=await Nl(s,Zc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?cT(l.providerUserInfo):[],d=oI(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function aI(s){const t=We(s);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function cT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function lI(s,t){const i=await lT(s,{},async()=>{const a=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await uT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&$a(s.emulatorConfig.host)&&(_.credentials="include"),oT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function uI(s,t){return so(s,"POST","/v2/accounts:revokeToken",tg(s,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):K_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=K_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await lI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Lr(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return iI(this,t)}reload(){return aI(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await Nl(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:F,providerData:W,stsTokenManager:et}=i;pt(S&&et,t,"internal-error");const $=qa.fromJSON(this.name,et);pt(typeof S=="string",t,"internal-error"),Lr(a,t.name),Lr(l,t.name),pt(typeof D=="boolean",t,"internal-error"),pt(typeof F=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(p,t.name),Lr(_,t.name),Lr(y,t.name),Lr(T,t.name);const ft=new Jn({uid:S,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:T});return W&&Array.isArray(W)&&(ft.providerData=W.map(_t=>({..._t}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?cT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new qa;p.updateFromIdToken(a);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Y_=new Map;function Zi(s){nr(s instanceof Function,"Expected a class definition");let t=Y_.get(s);return t?(nr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Y_.set(s,t),t)}class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}hT.type="NONE";const X_=hT;function Oc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Zi(X_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Zi(X_);const d=Oc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const D=await Zc(t,{idToken:T}).catch(()=>{});if(!D)break;S=await Jn._fromGetAccountInfoResponse(t,D,T)}else S=Jn._fromJSON(t,T);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ha(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function J_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(AT(t))return"Webos";if(dT(t))return"Safari";if((t.includes("chrome/")||mT(t))&&!t.includes("edge/"))return"Chrome";if(pT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function fT(s=Ze()){return/firefox\//i.test(s)}function dT(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mT(s=Ze()){return/crios\//i.test(s)}function gT(s=Ze()){return/iemobile/i.test(s)}function pT(s=Ze()){return/android/i.test(s)}function yT(s=Ze()){return/blackberry/i.test(s)}function AT(s=Ze()){return/webos/i.test(s)}function ng(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cI(s=Ze()){return ng(s)&&!!window.navigator?.standalone}function hI(){return h1()&&document.documentMode===10}function _T(s=Ze()){return ng(s)||pT(s)||AT(s)||yT(s)||/windows phone/i.test(s)||gT(s)}function vT(s,t=[]){let i;switch(s){case"Browser":i=J_(Ze());break;case"Worker":i=`${J_(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${a}`}class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function dI(s,t={}){return so(s,"GET","/v2/passwordPolicy",tg(s,t))}const mI=6;class gI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??mI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class pI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(ks(this));const i=t?We(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),i=new gI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await uI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Eh(s){return We(s)}class Z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=_1(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(s){ig=s}function AI(s){return ig.loadJS(s)}function _I(){return ig.gapiScript}function vI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function EI(s,t){const i=pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ls(c,t??{}))return l;Di(l,"already-initialized")}return i.initialize({options:t})}function TI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function SI(s,t,i){const a=Eh(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=ET(t),{host:d,port:p}=bI(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ls(y,a.config.emulator)&&Ls(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(pv(`${c}//${d}${_}`),yv("Auth",!0)):wI()}function ET(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function bI(s){const t=ET(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:W_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:W_(d)}}}function W_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function wI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class TT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Fa(s,t){return tI(s,"POST","/v1/accounts:signInWithIdp",tg(s,t))}const CI="http://localhost";class js extends TT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new js(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}class rg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bl extends rg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Bl{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Xi extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return js._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Xi.credential(i,a)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class zr extends Bl{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends Bl{constructor(){super("twitter.com")}static credential(t,i){return js._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Br.credential(i,a)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";class Wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=$_(a);return new Wa({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=$_(a);return new Wa({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function $_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class $c extends ir{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new $c(t,i,a,l)}}function ST(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,t,a):c})}async function RI(s,t,i=!1){const a=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Wa._forOperation(s,"link",a)}async function II(s,t,i=!1){const{auth:a}=s;if(Xn(a.app))return Promise.reject(ks(a));const l="reauthenticate";try{const c=await Nl(s,ST(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=eg(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),Wa._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Di(a,"user-mismatch"),c}}async function DI(s,t,i=!1){if(Xn(s.app))return Promise.reject(ks(s));const a="signIn",l=await ST(s,a,t),c=await Wa._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function NI(s,t,i,a){return We(s).onIdTokenChanged(t,i,a)}function OI(s,t,i){return We(s).beforeAuthStateChanged(t,i)}function VI(s,t,i,a){return We(s).onAuthStateChanged(t,i,a)}function MI(s){return We(s).signOut()}const th="__sak";class bT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xI=1e3,UI=10;class wT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);hI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,UI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}wT.type="LOCAL";const kI=wT;class CT extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}CT.type="SESSION";const RT=CT;function LI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Th(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await LI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function sg(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class PI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=sg("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function zI(s){Ci().location.href=s}function IT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function BI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jI(){return navigator?.serviceWorker?.controller||null}function qI(){return IT()?self:null}const DT="firebaseLocalStorageDb",HI=1,eh="firebaseLocalStorage",NT="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(s,t){return s.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function FI(){const s=indexedDB.deleteDatabase(DT);return new jl(s).toPromise()}function fm(){const s=indexedDB.open(DT,HI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:NT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await FI(),t(await fm()))})})}async function tv(s,t,i){const a=Sh(s,!0).put({[NT]:t,value:i});return new jl(a).toPromise()}async function QI(s,t){const i=Sh(s,!1).get(t),a=await new jl(i).toPromise();return a===void 0?null:a.value}function ev(s,t){const i=Sh(s,!0).delete(t);return new jl(i).toPromise()}const GI=800,KI=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>KI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(qI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await tv(t,th,"1"),await ev(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>tv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>QI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ev(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const YI=OT;new zl(3e4,6e4);function VT(s,t){return t?Zi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ag extends TT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function XI(s){return DI(s.auth,new ag(s),s.bypassAuthState)}function JI(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),II(i,new ag(s),s.bypassAuthState)}async function ZI(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),RI(i,new ag(s),s.bypassAuthState)}class MT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return ZI;case"reauthViaPopup":case"reauthViaRedirect":return JI;default:Di(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WI=new zl(2e3,1e4);async function $I(s,t,i){if(Xn(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const a=Eh(s);KR(s,t,rg);const l=VT(a,i);return new xs(a,"signInViaPopup",t,l).executeNotNull()}class xs extends MT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WI.get())};t()}}xs.currentPopupAction=null;const t2="pendingRedirect",Vc=new Map;class e2 extends MT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await n2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n2(s,t){const i=s2(t),a=r2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function i2(s,t){Vc.set(s._key(),t)}function r2(s){return Zi(s._redirectPersistence)}function s2(s){return Oc(t2,s.config.apiKey,s.name)}async function a2(s,t,i=!1){if(Xn(s.app))return Promise.reject(ks(s));const a=Eh(s),l=VT(a,t),d=await new e2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const o2=600*1e3;class l2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!u2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!xT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=o2&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(t))}saveEventToCache(t){this.cachedEventUids.add(nv(t)),this.lastProcessedEventTime=Date.now()}}function nv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function xT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function u2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xT(s);default:return!1}}async function c2(s,t={}){return so(s,"GET","/v1/projects",t)}const h2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f2=/^https?/;async function d2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await c2(s);for(const i of t)try{if(m2(i))return}catch{}Di(s,"unauthorized-domain")}function m2(s){const t=cm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!f2.test(i))return!1;if(h2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const g2=new zl(3e4,6e4);function iv(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function p2(s){return new Promise((t,i)=>{function a(){iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iv(),i(Zn(s,"network-request-failed"))},timeout:g2.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const l=vI("iframefcb");return Ci()[l]=()=>{gapi.load?a():i(Zn(s,"network-request-failed"))},AI(`${_I()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function y2(s){return Mc=Mc||p2(s),Mc}const A2=new zl(5e3,15e3),_2="__/auth/iframe",v2="emulator/auth/iframe",E2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S2(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?$m(t,v2):`https://${s.config.authDomain}/${_2}`,a={apiKey:t.apiKey,appName:s.name,v:to},l=T2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Vl(a).slice(1)}`}async function b2(s){const t=await y2(s),i=Ci().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:S2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},A2.get());function _(){Ci().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const w2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C2=500,R2=600,I2="_blank",D2="http://localhost";class rv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N2(s,t,i,a=C2,l=R2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...w2,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=mT(y)?I2:i),fT(y)&&(t=t||D2,_.scrollbars="yes");const T=Object.entries(_).reduce((D,[F,W])=>`${D}${F}=${W},`,"");if(cI(y)&&p!=="_self")return O2(t||"",p),new rv(null);const S=window.open(t||"",p,T);pt(S,s,"popup-blocked");try{S.focus()}catch{}return new rv(S)}function O2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const V2="__/auth/handler",M2="emulator/auth/handler",x2=encodeURIComponent("fac");async function sv(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:to,eventId:l};if(t instanceof rg){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",A1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Bl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),y=_?`#${x2}=${encodeURIComponent(_)}`:"";return`${U2(s)}?${Vl(p).slice(1)}${y}`}function U2({config:s}){return s.emulator?$m(s,M2):`https://${s.authDomain}/${V2}`}const Bd="webStorageSupport";class k2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=a2,this._overrideRedirectResult=i2}async _openPopup(t,i,a,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await sv(t,i,a,cm(),l);return N2(t,c,sg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await sv(t,i,a,cm(),l);return zI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await b2(t),a=new l2(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),Di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=d2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return _T()||dT()||ng()}}const L2=k2;var av="@firebase/auth",ov="1.11.1";class P2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function z2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B2(s){Qa(new Ps("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(s)},y=new pI(a,l,c,_);return TI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Ps("auth-internal",t=>{const i=Eh(t.getProvider("auth").getImmediate());return(a=>new P2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(av,ov,z2(s)),Fr(av,ov,"esm2020")}const j2=300,q2=gv("authIdTokenMaxAge")||j2;let lv=null;const H2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>q2)return;const l=i?.token;lv!==l&&(lv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function F2(s=Ev()){const t=pm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=EI(s,{popupRedirectResolver:L2,persistence:[YI,kI,RT]}),a=gv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=H2(c.toString());OI(i,d,()=>d(i.currentUser)),NI(i,p=>d(p))}}const l=dv("auth");return l&&SI(i,`http://${l}`),i}function Q2(){return document.getElementsByTagName("head")?.[0]??document}yI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Zn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Q2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B2("Browser");const G2={apiKey:"AIzaSyB7o546NGglFSjtUFbKzVdd1T_tXWfGPj8",authDomain:"animadex-2f979.firebaseapp.com",projectId:"animadex-2f979",storageBucket:"animadex-2f979.firebasestorage.app",messagingSenderId:"577072322198",appId:"1:577072322198:web:4b922cb45a849f13add4b7"},UT=vv(G2),qs=DR(UT),jd=F2(UT);function K2(){const[s,t]=He.useState(null),[i,a]=He.useState(!1);return He.useEffect(()=>VI(jd,async d=>{if(t(d),d){const p=await eT(Pl(qs,"admins",d.uid));a(p.exists())}else a(!1)}),[]),{user:s,isAdmin:i,login:()=>$I(jd,new Xi).catch(console.error),logout:()=>MI(jd).catch(console.error)}}async function uv(){return(await jR(Fm(qs,"entries"))).docs.map(t=>({id:t.id,...t.data()}))}async function Y2(s){const{id:t,...i}=s;if(t)return await iT(Pl(qs,"entries",t),i),s;{const a=await rT(Fm(qs,"entries"),i);return{...i,id:a.id}}}async function X2(s){await HR(Pl(qs,"entries",s))}async function J2(s,t){for(let i=0;i<s.length;i++){const a=s[i];if(a.id){const l=Pl(qs,"entries",a.id),c=await eT(l),{id:d,...p}=a;c.exists()?await iT(l,p):await qR(l,p)}else{const{id:l,...c}=a;await rT(Fm(qs,"entries"),c)}t?.(i+1,s.length)}}function Z2(){const{user:s,isAdmin:t,login:i,logout:a}=K2(),[l,c]=He.useState([]),[d,p]=He.useState(""),[_,y]=He.useState(""),[T,S]=He.useState(""),[D,F]=He.useState(!1),[W,et]=He.useState(null),[$,ft]=He.useState(!0),[_t,dt]=He.useState({uploading:!1,uploaded:0,total:0});He.useEffect(()=>{(async()=>{try{const lt=await uv();c(lt.length?lt:PA)}catch(lt){console.error("Error loading entries:",lt),c(PA)}})()},[]);async function jt(lt){if(!s||!t){alert("Only admins can load backups");return}const bt=lt.target.files?.[0];if(!bt)return;const q=await bt.text();let Z;try{if(Z=JSON.parse(q),!Array.isArray(Z))throw new Error}catch{alert("Invalid backup file format");return}dt({uploading:!0,uploaded:0,total:Z.length});try{await J2(Z,(Ut,qt)=>{dt({uploading:!0,uploaded:Ut,total:qt})});const at=await uv();c(at),dt({uploading:!1,uploaded:0,total:0}),alert("Backup loaded successfully!")}catch(at){console.error("Failed to load backup:",at),dt({uploading:!1,uploaded:0,total:0}),alert("Failed to load backup. Check console for details.")}}function Xt(){const lt=JSON.stringify(l,null,2),bt=new Blob([lt],{type:"application/json"}),q=URL.createObjectURL(bt),Z=document.createElement("a");Z.href=q,Z.download=`entries_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(q)}function xt(){if(!s||!t){alert("Only admins can add entries");return}et({id:null,image:"",latin:"",english:"",french:"",japanese:"",category:"bird",locations:[],capture:"photo",date:new Date().toISOString().slice(0,10),notes:"",infoLink:""}),F(!0),window.scrollTo({top:0,behavior:"smooth"})}function I(lt){if(!s||!t){alert("Only admins can edit entries");return}et({...lt}),F(!0)}async function b(lt){if(!s||!t){alert("Only admins can delete entries");return}if(confirm("Delete?"))try{await X2(lt),c(bt=>bt.filter(q=>q.id!==lt))}catch(bt){console.error("Failed to delete:",bt)}}function R(lt){if(!lt)return;const bt=new FileReader;bt.onload=()=>et(q=>({...q,image:bt.result})),bt.readAsDataURL(lt)}async function M(lt){if(lt.preventDefault(),!s||!t){alert("Only admins can save entries");return}try{const bt=await Y2(W);c(q=>q.find(at=>at.id===bt.id)?q.map(at=>at.id===bt.id?bt:at):[bt,...q]),F(!1),et(null)}catch(bt){console.error("Failed to save entry:",bt)}}const N=l.filter(lt=>{const bt=d.toLowerCase(),q=!d||[lt.latin,lt.english,lt.french,lt.japanese,...lt.locations||[]].join(" ").toLowerCase().includes(bt),Z=!_||lt.category===_,at=!T||lt.capture===T;return q&&Z&&at}),U={};N.forEach(lt=>U[lt.category]=(U[lt.category]||0)+1);const w={};return N.forEach(lt=>w[lt.capture]=(w[lt.capture]||0)+1),X.jsxs("div",{style:{width:"100vw",minHeight:"100vh",boxSizing:"border-box",backgroundColor:"#5a1a1aff"},children:[X.jsx(FS,{..._t}),$&&X.jsx("div",{style:{position:"sticky",top:0,zIndex:1e3,maxWidth:"1200px",margin:"0 auto",width:"100%",padding:"16px 100px",boxSizing:"border-box"},children:X.jsx(xS,{query:d,setQuery:p,categoryFilter:_,setCategoryFilter:y,captureFilter:T,setCaptureFilter:S,openAddForm:xt,categoryCounts:U,captureCounts:w,setIsBannerVisible:ft,downloadEntries:Xt,loadBackup:jt})}),!$&&X.jsx("div",{style:{position:"sticky",top:0,zIndex:1e3,width:"100%",padding:"8px",textAlign:"center",boxSizing:"border-box"},children:X.jsx("button",{onClick:()=>ft(!0),style:{padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",backgroundColor:"#2563eb",color:"white",fontWeight:"bold"},children:"Show Banner"})}),X.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",width:"100%",padding:"24px",boxSizing:"border-box",textAlign:"center"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",alignItems:"center",marginBottom:"16px"},children:[X.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold"},children:"Landre's Animadex"}),X.jsx("div",{children:s?X.jsxs(X.Fragment,{children:[X.jsxs("span",{style:{marginRight:"8px"},children:[s.displayName," ",t&&"(Admin)"]}),t&&X.jsx(GS,{downloadEntries:Xt,loadBackup:jt}),X.jsx("button",{onClick:a,style:{padding:"6px 12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Logout"})]}):X.jsx("button",{onClick:i,style:{padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Login"})})]}),X.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"32px",justifyItems:"center",boxSizing:"border-box",overflowX:"hidden"},children:[W&&W.id===null&&X.jsx("div",{style:{gridColumn:"1 / -1"},children:X.jsx(LA,{editing:W,setEditing:et,onSubmit:M,onCancel:()=>et(null),handleImageUpload:R})}),N.map(lt=>X.jsxs(pS.Fragment,{children:[X.jsx(HS,{entry:lt,onEdit:I,onDelete:b}),W&&W.id===lt.id&&X.jsx("div",{style:{gridColumn:"1 / -1"},children:X.jsx(LA,{editing:W,setEditing:et,onSubmit:M,onCancel:()=>et(null),handleImageUpload:R})})]},lt.id))]}),X.jsx("footer",{style:{marginTop:"32px",fontSize:"0.85rem",color:"#6b7280"},children:"You reached the end of the animadex: Now please go outside and find new species!"})]})]})}SS.createRoot(document.getElementById("root")).render(X.jsx(He.StrictMode,{children:X.jsx(Z2,{})}));
