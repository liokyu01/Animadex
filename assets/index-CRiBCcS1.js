(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function dS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sd={exports:{}},hl={};var IA;function mS(){if(IA)return hl;IA=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var DA;function gS(){return DA||(DA=1,Sd.exports=mS()),Sd.exports}var Y=gS(),bd={exports:{}},vt={};var NA;function pS(){if(NA)return vt;NA=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,tt={};function ht(O,G,nt){this.props=O,this.context=G,this.refs=tt,this.updater=nt||$}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function At(){}At.prototype=ht.prototype;function dt(O,G,nt){this.props=O,this.context=G,this.refs=tt,this.updater=nt||$}var qt=dt.prototype=new At;qt.constructor=dt,W(qt,ht.prototype),qt.isPureReactComponent=!0;var Ht=Array.isArray;function xt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,G,nt){var st=nt.ref;return{$$typeof:r,type:O,key:G,ref:st!==void 0?st:null,props:nt}}function M(O,G){return R(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return G[nt]})}var w=/\/+/g;function Yt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):G.toString(36)}function oe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,G,nt,st,yt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case T:return kt=O._init,L(kt(O._payload),G,nt,st,yt)}}if(kt)return yt=yt(O),kt=st===""?"."+Yt(O,0):st,Ht(yt)?(nt="",kt!=null&&(nt=kt.replace(w,"$&/")+"/"),L(yt,G,nt,"",function(es){return es})):yt!=null&&(D(yt)&&(yt=M(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+kt)),G.push(yt)),1;kt=0;var Ie=st===""?".":st+":";if(Ht(O))for(var re=0;re<O.length;re++)st=O[re],bt=Ie+Yt(st,re),kt+=L(st,G,nt,bt,yt);else if(re=F(O),typeof re=="function")for(O=re.call(O),re=0;!(st=O.next()).done;)st=st.value,bt=Ie+Yt(st,re++),kt+=L(st,G,nt,bt,yt);else if(bt==="object"){if(typeof O.then=="function")return L(oe(O),G,nt,st,yt);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return kt}function Z(O,G,nt){if(O==null)return O;var st=[],yt=0;return L(O,st,"","",function(bt){return G.call(nt,bt,yt++)}),st}function it(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var gt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ct={map:Z,forEach:function(O,G,nt){Z(O,function(){G.apply(this,arguments)},nt)},count:function(O){var G=0;return Z(O,function(){G++}),G},toArray:function(O){return Z(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Ct,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,G,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=W({},O.props),yt=O.key;if(G!=null)for(bt in G.key!==void 0&&(yt=""+G.key),G)!b.call(G,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&G.ref===void 0||(st[bt]=G[bt]);var bt=arguments.length-2;if(bt===1)st.children=nt;else if(1<bt){for(var kt=Array(bt),Ie=0;Ie<bt;Ie++)kt[Ie]=arguments[Ie+2];st.children=kt}return R(O.type,yt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,G,nt){var st,yt={},bt=null;if(G!=null)for(st in G.key!==void 0&&(bt=""+G.key),G)b.call(G,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=G[st]);var kt=arguments.length-2;if(kt===1)yt.children=nt;else if(1<kt){for(var Ie=Array(kt),re=0;re<kt;re++)Ie[re]=arguments[re+2];yt.children=Ie}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)yt[st]===void 0&&(yt[st]=kt[st]);return R(O,bt,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=D,vt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:it}},vt.memo=function(O,G){return{$$typeof:A,type:O,compare:G===void 0?null:G}},vt.startTransition=function(O){var G=I.T,nt={};I.T=nt;try{var st=O(),yt=I.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(xt,gt)}catch(bt){gt(bt)}finally{G!==null&&nt.types!==null&&(G.types=nt.types),I.T=G}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(O){return I.H.use(O)},vt.useActionState=function(O,G,nt){return I.H.useActionState(O,G,nt)},vt.useCallback=function(O,G){return I.H.useCallback(O,G)},vt.useContext=function(O){return I.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,G){return I.H.useDeferredValue(O,G)},vt.useEffect=function(O,G){return I.H.useEffect(O,G)},vt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(O,G,nt){return I.H.useImperativeHandle(O,G,nt)},vt.useInsertionEffect=function(O,G){return I.H.useInsertionEffect(O,G)},vt.useLayoutEffect=function(O,G){return I.H.useLayoutEffect(O,G)},vt.useMemo=function(O,G){return I.H.useMemo(O,G)},vt.useOptimistic=function(O,G){return I.H.useOptimistic(O,G)},vt.useReducer=function(O,G,nt){return I.H.useReducer(O,G,nt)},vt.useRef=function(O){return I.H.useRef(O)},vt.useState=function(O){return I.H.useState(O)},vt.useSyncExternalStore=function(O,G,nt){return I.H.useSyncExternalStore(O,G,nt)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.0",vt}var OA;function mm(){return OA||(OA=1,bd.exports=pS()),bd.exports}var ke=mm();const yS=dS(ke);var wd={exports:{}},fl={},Cd={exports:{}},Rd={};var VA;function AS(){return VA||(VA=1,(function(r){function t(L,Z){var it=L.length;L.push(Z);t:for(;0<it;){var gt=it-1>>>1,Ct=L[gt];if(0<l(Ct,Z))L[gt]=Z,L[it]=Ct,it=gt;else break t}}function i(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var Z=L[0],it=L.pop();if(it!==Z){L[0]=it;t:for(var gt=0,Ct=L.length,O=Ct>>>1;gt<O;){var G=2*(gt+1)-1,nt=L[G],st=G+1,yt=L[st];if(0>l(nt,it))st<Ct&&0>l(yt,nt)?(L[gt]=yt,L[st]=it,gt=st):(L[gt]=nt,L[G]=it,gt=G);else if(st<Ct&&0>l(yt,it))L[gt]=yt,L[st]=it,gt=st;else break t}}return Z}function l(L,Z){var it=L.sortIndex-Z.sortIndex;return it!==0?it:L.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],A=[],T=1,S=null,V=3,F=!1,$=!1,W=!1,tt=!1,ht=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function qt(L){for(var Z=i(A);Z!==null;){if(Z.callback===null)a(A);else if(Z.startTime<=L)a(A),Z.sortIndex=Z.expirationTime,t(y,Z);else break;Z=i(A)}}function Ht(L){if(W=!1,qt(L),!$)if(i(y)!==null)$=!0,xt||(xt=!0,U());else{var Z=i(A);Z!==null&&oe(Ht,Z.startTime-L)}}var xt=!1,I=-1,b=5,R=-1;function M(){return tt?!0:!(r.unstable_now()-R<b)}function D(){if(tt=!1,xt){var L=r.unstable_now();R=L;var Z=!0;try{t:{$=!1,W&&(W=!1,At(I),I=-1),F=!0;var it=V;try{e:{for(qt(L),S=i(y);S!==null&&!(S.expirationTime>L&&M());){var gt=S.callback;if(typeof gt=="function"){S.callback=null,V=S.priorityLevel;var Ct=gt(S.expirationTime<=L);if(L=r.unstable_now(),typeof Ct=="function"){S.callback=Ct,qt(L),Z=!0;break e}S===i(y)&&a(y),qt(L)}else a(y);S=i(y)}if(S!==null)Z=!0;else{var O=i(A);O!==null&&oe(Ht,O.startTime-L),Z=!1}}break t}finally{S=null,V=it,F=!1}Z=void 0}}finally{Z?U():xt=!1}}}var U;if(typeof dt=="function")U=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Yt=w.port2;w.port1.onmessage=D,U=function(){Yt.postMessage(null)}}else U=function(){ht(D,0)};function oe(L,Z){I=ht(function(){L(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(L){switch(V){case 1:case 2:case 3:var Z=3;break;default:Z=V}var it=V;V=Z;try{return L()}finally{V=it}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var it=V;V=L;try{return Z()}finally{V=it}},r.unstable_scheduleCallback=function(L,Z,it){var gt=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?gt+it:gt):it=gt,L){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=it+Ct,L={id:T++,callback:Z,priorityLevel:L,startTime:it,expirationTime:Ct,sortIndex:-1},it>gt?(L.sortIndex=it,t(A,L),i(y)===null&&L===i(A)&&(W?(At(I),I=-1):W=!0,oe(Ht,it-gt))):(L.sortIndex=Ct,t(y,L),$||F||($=!0,xt||(xt=!0,U()))),L},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(L){var Z=V;return function(){var it=V;V=Z;try{return L.apply(this,arguments)}finally{V=it}}}})(Rd)),Rd}var MA;function _S(){return MA||(MA=1,Cd.exports=AS()),Cd.exports}var Id={exports:{}},Ke={};var xA;function vS(){if(xA)return Ke;xA=1;var r=mm();function t(y){var A="https://react.dev/errors/"+y;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)A+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,A,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:A,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,A){if(y==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(y,A){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(t(299));return c(y,A,null,T)},Ke.flushSync=function(y){var A=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=A,a.p=T,a.d.f()}},Ke.preconnect=function(y,A){typeof y=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,a.d.C(y,A))},Ke.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ke.preinit=function(y,A){if(typeof y=="string"&&A&&typeof A.as=="string"){var T=A.as,S=p(T,A.crossOrigin),V=typeof A.integrity=="string"?A.integrity:void 0,F=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;T==="style"?a.d.S(y,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:F}):T==="script"&&a.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:F,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},Ke.preinitModule=function(y,A){if(typeof y=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var T=p(A.as,A.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&a.d.M(y)},Ke.preload=function(y,A){if(typeof y=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var T=A.as,S=p(T,A.crossOrigin);a.d.L(y,T,{crossOrigin:S,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},Ke.preloadModule=function(y,A){if(typeof y=="string")if(A){var T=p(A.as,A.crossOrigin);a.d.m(y,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:T,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else a.d.m(y)},Ke.requestFormReset=function(y){a.d.r(y)},Ke.unstable_batchedUpdates=function(y,A){return y(A)},Ke.useFormState=function(y,A,T){return d.H.useFormState(y,A,T)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var UA;function ES(){if(UA)return Id.exports;UA=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=vS(),Id.exports}var kA;function TS(){if(kA)return fl;kA=1;var r=_S(),t=mm(),i=ES();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function A(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,v=h.child;v;){if(v===s){g=!0,s=h,o=f;break}if(v===o){g=!0,o=h,s=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===s){g=!0,s=f,o=h;break}if(v===o){g=!0,o=f,s=h;break}v=v.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Ht=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case tt:return"StrictMode";case Ht:return"Suspense";case xt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case dt:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Yt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Yt(e(n))}catch{}}return null}var oe=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},gt=[],Ct=-1;function O(e){return{current:e}}function G(e){0>Ct||(e.current=gt[Ct],gt[Ct]=null,Ct--)}function nt(e,n){Ct++,gt[Ct]=e.current,e.current=n}var st=O(null),yt=O(null),bt=O(null),kt=O(null);function Ie(e,n){switch(nt(bt,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(st),nt(st,e)}function re(){G(st),G(yt),G(bt)}function es(e){e.memoizedState!==null&&nt(kt,e);var n=st.current,s=Wy(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function Gs(e){yt.current===e&&(G(st),G(yt)),kt.current===e&&(G(kt),ol._currentValue=it)}var Ks,Ys;function $n(e){if(Ks===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",Ys=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+e+Ys}var ao=!1;function ns(e,n){if(!e||ao)return"";ao=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var B=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){B=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){B=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var C=g.split(`
`),z=v.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{ao=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return $n("Activity");default:return""}}function lo(e){try{var n="",s=null;do n+=oo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,rr=r.unstable_cancelCallback,bh=r.unstable_shouldYield,ql=r.unstable_requestPaint,$e=r.unstable_now,is=r.unstable_getCurrentPriorityLevel,uo=r.unstable_ImmediatePriority,co=r.unstable_UserBlockingPriority,sr=r.unstable_NormalPriority,wh=r.unstable_LowPriority,Hl=r.unstable_IdlePriority,Fl=r.log,Ql=r.unstable_setDisableYieldValue,Ln=null,Pe=null;function Tn(e){if(typeof Fl=="function"&&Ql(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:Kl,Gl=Math.log,Xs=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(Gl(e)/Xs|0)|0}var ti=256,rs=262144,ye=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?h=ei(o):(g&=v,g!==0?h=ei(g):s||(s=v&~e,s!==0&&(h=ei(s))))):(v=o&~f,v!==0?h=ei(v):g!==0?h=ei(g):s||(s=o&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-he(s),K=1<<H;v[H]=0,C[H]=-1;var B=z[H];if(B!==null)for(z[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&as(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function as(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ho(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function fo(e,n){var s=n&-n;return s=(s&42)!==0?1:os(s),(s&(e.suspendedLanes|n))!==0?0:s}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xl(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:EA(e.type))}function zn(e,n){var s=Z.p;try{return Z.p=e,n()}finally{Z.p=s}}var Bn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Bn,Me="__reactProps$"+Bn,ri="__reactContainer$"+Bn,Js="__reactEvents$"+Bn,Ih="__reactListeners$"+Bn,Jl="__reactHandles$"+Bn,Zl="__reactResources$"+Bn,si="__reactMarker$"+Bn;function Zs(e){delete e[Ae],delete e[Me],delete e[Js],delete e[Ih],delete e[Jl]}function ai(e){var n=e[Ae];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ri]||s[Ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=sA(e);e!==null;){if(s=e[Ae])return s;e=sA(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[Ae]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[si]=!0}var mo=new Set,go={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},Ao={};function Wl(e){return pe.call(Ao,e)?!0:pe.call(yo,e)?!1:po.test(e)?Ao[e]=!0:(yo[e]=!0,!1)}function Ws(e,n,s){if(Wl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ar(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function ls(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ar(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var us=/[\n"\\]/g;function nn(e){return e.replace(us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $s(e,n,s,o,h,f,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,xe(n)):s!=null?vo(e,g,xe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+xe(v):e.removeAttribute("name")}function $l(e,n,s,o,h,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function vo(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function or(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function tu(e,n,s){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+xe(s):""}function lr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(oe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||eu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var So=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,hi=null;function cs(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if($s(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));$s(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ls(o)}break t;case"textarea":tu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&or(e,!!s.multiple,n,!1)}}}var na=!1;function hr(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(cr!==null||hi!==null)&&(Xu(),cr&&(n=cr,e=hi,hi=cr=null,cs(n),e)))for(n=0;n<e.length;n++)cs(e[n])}}function qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{hs=!1}var fi=null,bo=null,fs=null;function wo(){if(fs)return fs;var e,n=bo,s=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return fs=h.slice(e,1<o?1-o:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(Vi),fr=S({},Vi,{view:0,detail:0}),Co=ze(fr),dr,ia,mi,ra=S({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(dr=e.screenX-mi.screenX,ia=e.screenY-mi.screenY):ia=dr=0,mi=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Ro=ze(ra),ms=S({},ra,{dataTransfer:0}),iu=ze(ms),ru=S({},fr,{relatedTarget:0}),gs=ze(ru),Io=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),su=ze(Io),sa=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),au=ze(sa),ou=S({},Vi,{data:0}),gi=ze(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function mr(){return hu}var tn=S({},fr,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=ze(tn),du=S({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(du),u=S({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=ze(u),_=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=ze(_),k=S({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(k),et=S({},Vi,{newState:0,oldState:0}),Tt=ze(et),fe=[9,13,27,32],Bt=wn&&"CompositionEvent"in window,se=null;wn&&"documentMode"in document&&(se=document.documentMode);var Cn=wn&&"TextEvent"in window&&!se,pi=wn&&(!Bt||se&&8<se&&11>=se),Fn=" ",Qn=!1;function ps(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function LT(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function PT(e,n){if(oa)return e==="compositionend"||!Bt&&ps(e,n)?(e=wo(),fs=bo=fi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zT[e.type]:n==="textarea"}function ug(e,n,s,o){cr?hi?hi.push(o):hi=[o]:cr=o,n=nc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Do=null,No=null;function BT(e){Qy(e,0)}function mu(e){var n=fn(e);if(ls(n))return e}function cg(e,n){if(e==="change")return n}var hg=!1;if(wn){var Dh;if(wn){var Nh="oninput"in document;if(!Nh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Nh=typeof fg.oninput=="function"}Dh=Nh}else Dh=!1;hg=Dh&&(!document.documentMode||9<document.documentMode)}function dg(){Do&&(Do.detachEvent("onpropertychange",mg),No=Do=null)}function mg(e){if(e.propertyName==="value"&&mu(No)){var n=[];ug(n,No,e,bn(e)),hr(BT,n)}}function jT(e,n,s){e==="focusin"?(dg(),Do=n,No=s,Do.attachEvent("onpropertychange",mg)):e==="focusout"&&dg()}function qT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(No)}function HT(e,n){if(e==="click")return mu(n)}function FT(e,n){if(e==="input"||e==="change")return mu(n)}function QT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:QT;function Oo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,n){var s=gg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gg(s)}}function yg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var GT=wn&&"documentMode"in document&&11>=document.documentMode,la=null,Vh=null,Vo=null,Mh=!1;function _g(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||la==null||la!==ci(o)||(o=la,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Oo(Vo,o)||(Vo=o,o=nc(Vh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function ys(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},xh={},vg={};wn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function As(e){if(xh[e])return xh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in vg)return xh[e]=n[s];return e}var Eg=As("animationend"),Tg=As("animationiteration"),Sg=As("animationstart"),KT=As("transitionrun"),YT=As("transitionstart"),XT=As("transitioncancel"),bg=As("transitionend"),wg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Gn(e,n){wg.set(e,n),li(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ca=0,kh=0;function pu(){for(var e=ca,n=kh=ca=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Cg(s,h,f)}}function yu(e,n,s,o){Rn[ca++]=e,Rn[ca++]=n,Rn[ca++]=s,Rn[ca++]=o,kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,s,o){return yu(e,n,s,o),Au(e)}function _s(e,n){return yu(e,null,null,n),Au(e)}function Cg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Au(e){if(50<tl)throw tl=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function JT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new JT(e,n,s,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Rg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=eS(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,s,n,h),e.elementType=R,e.lanes=f,e;case W:return vs(s.children,h,f,n);case tt:g=8,h|=24;break;case ht:return e=gn(12,s,n,h|2),e.elementType=ht,e.lanes=f,e;case Ht:return e=gn(13,s,n,h),e.elementType=Ht,e.lanes=f,e;case xt:return e=gn(19,s,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case At:g=9;break t;case qt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function zh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Ig(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=Dg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:lo(n)},Dg.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var fa=[],da=0,vu=null,Mo=0,Dn=[],Nn=0,gr=null,yi=1,Ai="";function Ui(e,n){fa[da++]=Mo,fa[da++]=vu,vu=e,Mo=n}function Ng(e,n,s){Dn[Nn++]=yi,Dn[Nn++]=Ai,Dn[Nn++]=gr,gr=e;var o=yi;e=Ai;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-he(n)+h|s<<h|o,Ai=f+e}else yi=1<<f|s<<h|o,Ai=e}function jh(e){e.return!==null&&(Ui(e,1),Ng(e,1,0))}function qh(e){for(;e===vu;)vu=fa[--da],fa[da]=null,Mo=fa[--da],fa[da]=null;for(;e===gr;)gr=Dn[--Nn],Dn[Nn]=null,Ai=Dn[--Nn],Dn[Nn]=null,yi=Dn[--Nn],Dn[Nn]=null}function Og(e,n){Dn[Nn++]=yi,Dn[Nn++]=Ai,Dn[Nn++]=gr,yi=n.id,Ai=n.overflow,gr=e}var Be=null,te=null,Ut=!1,pr=null,On=!1,Hh=Error(a(519));function yr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(In(n,e)),Hh}function Vg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Me]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)It(nl[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),$l(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),lr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Xy(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||yr(e,!0)}function Mg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ma(e){if(e!==Be)return!1;if(!Ut)return Mg(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ld(e.type,e.memoizedProps)),s=!s),s&&te&&yr(e),Mg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=rA(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=rA(e)}else n===27?(n=te,Or(e.type)?(e=dd,dd=null,te=e):te=n):te=Be?Mn(e.stateNode.nextSibling):null;return!0}function Es(){te=Be=null,Ut=!1}function Fh(){var e=pr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),pr=null),e}function xo(e){pr===null?pr=[e]:pr.push(e)}var Qh=O(null),Ts=null,ki=null;function Ar(e,n,s){nt(Qh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Qh.current,G(Qh)}function Gh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Kh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=h;for(var C=0;C<n.length;C++)if(v.context===n[C]){f.lanes|=s,v=f.alternate,v!==null&&(v.lanes|=s),Gh(f.return,s,e),o||(g=null);break t}f=v.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Gh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var v=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Kh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){Ts=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return xg(Ts,e)}function Tu(e,n){return Ts===null&&Ss(e),xg(e,n)}function xg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},WT=r.unstable_scheduleCallback,$T=r.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new ZT,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&WT($T,function(){e.controller.abort()})}var ko=null,Xh=0,pa=0,ya=null;function t0(e,n){if(ko===null){var s=ko=[];Xh=0,pa=$f(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Xh++,n.then(Ug,Ug),n}function Ug(){if(--Xh===0&&ko!==null){ya!==null&&(ya.status="fulfilled");var e=ko;ko=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function e0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var kg=L.S;L.S=function(e,n){_y=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&t0(e,n),kg!==null&&kg(e,n)};var bs=O(null);function Jh(){var e=bs.current;return e!==null?e:$t.pooledCache}function Su(e,n){n===null?nt(bs,bs.current):nt(bs,n.pool)}function Lg(){var e=Jh();return e===null?null:{parent:Ee._currentValue,pool:e}}var Aa=Error(a(460)),Zh=Error(a(474)),bu=Error(a(542)),wu={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jg(e),e}throw Cs=n,Aa}}function ws(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Cs=s,Aa):s}}var Cs=null;function Bg(){if(Cs===null)throw Error(a(459));var e=Cs;return Cs=null,e}function jg(e){if(e===Aa||e===bu)throw Error(a(483))}var _a=null,Lo=0;function Cu(e){var n=Lo;return Lo+=1,_a===null&&(_a=[]),zg(_a,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qg(e){function n(x,N){if(e){var P=x.deletions;P===null?(x.deletions=[N],x.flags|=16):P.push(N)}}function s(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=xi(x,N),x.index=0,x.sibling=null,x}function f(x,N,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<N?(x.flags|=67108866,N):P):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,N,P,Q){return N===null||N.tag!==6?(N=zh(P,x.mode,Q),N.return=x,N):(N=h(N,P),N.return=x,N)}function C(x,N,P,Q){var ut=P.type;return ut===W?H(x,N,P.props.children,Q,P.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&ws(ut)===N.type)?(N=h(N,P.props),Po(N,P),N.return=x,N):(N=_u(P.type,P.key,P.props,null,x.mode,Q),Po(N,P),N.return=x,N)}function z(x,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Bh(P,x.mode,Q),N.return=x,N):(N=h(N,P.children||[]),N.return=x,N)}function H(x,N,P,Q,ut){return N===null||N.tag!==7?(N=vs(P,x.mode,Q,ut),N.return=x,N):(N=h(N,P),N.return=x,N)}function K(x,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=zh(""+N,x.mode,P),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return P=_u(N.type,N.key,N.props,null,x.mode,P),Po(P,N),P.return=x,P;case $:return N=Bh(N,x.mode,P),N.return=x,N;case b:return N=ws(N),K(x,N,P)}if(oe(N)||U(N))return N=vs(N,x.mode,P,null),N.return=x,N;if(typeof N.then=="function")return K(x,Cu(N),P);if(N.$$typeof===dt)return K(x,Tu(x,N),P);Ru(x,N)}return null}function B(x,N,P,Q){var ut=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:v(x,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ut?C(x,N,P,Q):null;case $:return P.key===ut?z(x,N,P,Q):null;case b:return P=ws(P),B(x,N,P,Q)}if(oe(P)||U(P))return ut!==null?null:H(x,N,P,Q,null);if(typeof P.then=="function")return B(x,N,Cu(P),Q);if(P.$$typeof===dt)return B(x,N,Tu(x,P),Q);Ru(x,P)}return null}function q(x,N,P,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(P)||null,v(N,x,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return x=x.get(Q.key===null?P:Q.key)||null,C(N,x,Q,ut);case $:return x=x.get(Q.key===null?P:Q.key)||null,z(N,x,Q,ut);case b:return Q=ws(Q),q(x,N,P,Q,ut)}if(oe(Q)||U(Q))return x=x.get(P)||null,H(N,x,Q,ut,null);if(typeof Q.then=="function")return q(x,N,P,Cu(Q),ut);if(Q.$$typeof===dt)return q(x,N,P,Tu(N,Q),ut);Ru(N,Q)}return null}function at(x,N,P,Q){for(var ut=null,Pt=null,lt=N,wt=N=0,Nt=null;lt!==null&&wt<P.length;wt++){lt.index>wt?(Nt=lt,lt=null):Nt=lt.sibling;var zt=B(x,lt,P[wt],Q);if(zt===null){lt===null&&(lt=Nt);break}e&&lt&&zt.alternate===null&&n(x,lt),N=f(zt,N,wt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt,lt=Nt}if(wt===P.length)return s(x,lt),Ut&&Ui(x,wt),ut;if(lt===null){for(;wt<P.length;wt++)lt=K(x,P[wt],Q),lt!==null&&(N=f(lt,N,wt),Pt===null?ut=lt:Pt.sibling=lt,Pt=lt);return Ut&&Ui(x,wt),ut}for(lt=o(lt);wt<P.length;wt++)Nt=q(lt,x,wt,P[wt],Q),Nt!==null&&(e&&Nt.alternate!==null&&lt.delete(Nt.key===null?wt:Nt.key),N=f(Nt,N,wt),Pt===null?ut=Nt:Pt.sibling=Nt,Pt=Nt);return e&&lt.forEach(function(kr){return n(x,kr)}),Ut&&Ui(x,wt),ut}function ft(x,N,P,Q){if(P==null)throw Error(a(151));for(var ut=null,Pt=null,lt=N,wt=N=0,Nt=null,zt=P.next();lt!==null&&!zt.done;wt++,zt=P.next()){lt.index>wt?(Nt=lt,lt=null):Nt=lt.sibling;var kr=B(x,lt,zt.value,Q);if(kr===null){lt===null&&(lt=Nt);break}e&&lt&&kr.alternate===null&&n(x,lt),N=f(kr,N,wt),Pt===null?ut=kr:Pt.sibling=kr,Pt=kr,lt=Nt}if(zt.done)return s(x,lt),Ut&&Ui(x,wt),ut;if(lt===null){for(;!zt.done;wt++,zt=P.next())zt=K(x,zt.value,Q),zt!==null&&(N=f(zt,N,wt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return Ut&&Ui(x,wt),ut}for(lt=o(lt);!zt.done;wt++,zt=P.next())zt=q(lt,x,wt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&lt.delete(zt.key===null?wt:zt.key),N=f(zt,N,wt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return e&&lt.forEach(function(fS){return n(x,fS)}),Ut&&Ui(x,wt),ut}function Wt(x,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ut=P.key;N!==null;){if(N.key===ut){if(ut=P.type,ut===W){if(N.tag===7){s(x,N.sibling),Q=h(N,P.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&ws(ut)===N.type){s(x,N.sibling),Q=h(N,P.props),Po(Q,P),Q.return=x,x=Q;break t}s(x,N);break}else n(x,N);N=N.sibling}P.type===W?(Q=vs(P.props.children,x.mode,Q,P.key),Q.return=x,x=Q):(Q=_u(P.type,P.key,P.props,null,x.mode,Q),Po(Q,P),Q.return=x,x=Q)}return g(x);case $:t:{for(ut=P.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(x,N.sibling),Q=h(N,P.children||[]),Q.return=x,x=Q;break t}else{s(x,N);break}else n(x,N);N=N.sibling}Q=Bh(P,x.mode,Q),Q.return=x,x=Q}return g(x);case b:return P=ws(P),Wt(x,N,P,Q)}if(oe(P))return at(x,N,P,Q);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),ft(x,N,P,Q)}if(typeof P.then=="function")return Wt(x,N,Cu(P),Q);if(P.$$typeof===dt)return Wt(x,N,Tu(x,P),Q);Ru(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(x,N.sibling),Q=h(N,P),Q.return=x,x=Q):(s(x,N),Q=zh(P,x.mode,Q),Q.return=x,x=Q),g(x)):s(x,N)}return function(x,N,P,Q){try{Lo=0;var ut=Wt(x,N,P,Q);return _a=null,ut}catch(lt){if(lt===Aa||lt===bu)throw lt;var Pt=gn(29,lt,null,x.mode);return Pt.lanes=Q,Pt.return=x,Pt}finally{}}}var Rs=qg(!0),Hg=qg(!1),_r=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),Cg(e,null,s),n}return yu(e,o,n,s),Au(e)}function zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}function tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function Bo(){if(ef){var e=ya;if(e!==null)throw e}}function jo(e,n,s,o){ef=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var C=v,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==g&&(v===null?H.firstBaseUpdate=z:v.next=z,H.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;g=0,H=z=C=null,v=f;do{var B=v.lane&-536870913,q=B!==v.lane;if(q?(Dt&B)===B:(o&B)===B){B!==0&&B===pa&&(ef=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var at=e,ft=v;B=n;var Wt=s;switch(ft.tag){case 1:if(at=ft.payload,typeof at=="function"){K=at.call(Wt,K,B);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ft.payload,B=typeof at=="function"?at.call(Wt,K,B):at,B==null)break t;K=S({},K,B);break t;case 2:_r=!0}}B=v.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(z=H=q,C=K):H=H.next=q,g|=B;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;q=v,v=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Cr|=g,e.lanes=g,e.memoizedState=K}}function Fg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fg(s[e],n)}var va=O(null),Iu=O(0);function Gg(e,n){e=Gi,nt(Iu,e),nt(va,n),Gi=e|n.baseLanes}function nf(){nt(Iu,Gi),nt(va,va.current)}function rf(){Gi=Iu.current,G(va),G(Iu)}var pn=O(null),Vn=null;function Tr(e){var n=e.alternate;nt(de,de.current&1),nt(pn,e),Vn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Vn=e)}function sf(e){nt(de,de.current),nt(pn,e),Vn===null&&(Vn=e)}function Kg(e){e.tag===22?(nt(de,de.current),nt(pn,e),Vn===null&&(Vn=e)):Sr()}function Sr(){nt(de,de.current),nt(pn,pn.current)}function yn(e){G(pn),Vn===e&&(Vn=null),G(de)}var de=O(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,St=null,Jt=null,Te=null,Nu=!1,Ea=!1,Is=!1,Ou=0,qo=0,Ta=null,n0=0;function ue(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function of(e,n,s,o,h,f){return Pi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Np:Tf,Is=!1,f=s(o,h),Is=!1,Ea&&(f=Xg(n,s,o,h)),Yg(e),f}function Yg(e){L.H=Qo;var n=Jt!==null&&Jt.next!==null;if(Pi=0,Te=Jt=St=null,Nu=!1,qo=0,Ta=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Eu(e)&&(Se=!0))}function Xg(e,n,s,o){St=e;var h=0;do{if(Ea&&(Ta=null),qo=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,Te=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Op,f=n(s,o)}while(Ea);return f}function i0(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(St.flags|=1024),n}function lf(){var e=Ou!==0;return Ou=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(Nu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Nu=!1}Pi=0,Te=Jt=St=null,Ea=!1,qo=Ou=0,Ta=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?St.memoizedState=Te=e:Te=Te.next=e,Te}function me(){if(Jt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Te===null?St.memoizedState:Te.next;if(n!==null)Te=n,Jt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Te===null?St.memoizedState=Te=e:Te=Te.next=e}return Te}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ta===null&&(Ta=[]),e=zg(Ta,e,n),n=St,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Np:Tf),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===dt)return je(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function xu(e){var n=me();return ff(n,Jt,e)}function ff(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var v=g=null,C=null,z=n,H=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Dt&K)===K:(Pi&K)===K){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===pa&&(H=!0);else if((Pi&B)===B){z=z.next,B===pa&&(H=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(v=C=K,g=f):C=C.next=K,St.lanes|=B,Cr|=B;K=z.action,Is&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else B={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(v=C=B,g=f):C=C.next=B,St.lanes|=K,Cr|=K;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=v,!mn(f,e.memoizedState)&&(Se=!0,H&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Jg(e,n,s){var o=St,h=me(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!mn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,pf($g.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},Wg.bind(null,o,h,s,n),null),$t===null)throw Error(a(349));f||(Pi&127)!==0||Zg(o,n,s)}return s}function Zg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Vu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wg(e,n,s,o){n.value=s,n.getSnapshot=o,tp(n)&&ep(e)}function $g(e,n,s){return s(function(){tp(n)&&ep(e)})}function tp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function ep(e){var n=_s(e,2);n!==null&&un(n,e,2)}function mf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Is){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function np(e,n,s,o){return e.baseState=s,ff(e,Jt,typeof o=="function"?o:zi)}function r0(e,n,s,o,h){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ip(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var v=s(h,o),C=L.S;C!==null&&C(g,v),rp(e,n,v)}catch(z){gf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=s(h,o),rp(e,n,f)}catch(z){gf(e,n,z)}}function rp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){sp(e,n,o)},function(o){return gf(e,n,o)}):sp(e,n,s)}function sp(e,n,s){n.status="fulfilled",n.value=s,ap(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ip(e,s)))}function gf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ap(n),n=n.next;while(n!==o)}e.action=null}function ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function op(e,n){return n}function lp(e,n){if(Ut){var s=$t.formState;if(s!==null){t:{var o=St;if(Ut){if(te){e:{for(var h=te,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Mn(h.nextSibling),o=h.data==="F!";break t}}yr(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=o,s=Rp.bind(null,St,o),o.dispatch=s,o=mf(!1),f=Ef.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=r0.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function up(e){var n=me();return cp(n,Jt,e)}function cp(e,n,s){if(n=ff(e,n,op)[0],e=xu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===Aa?bu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Sa(9,{destroy:void 0},s0.bind(null,h,s),null)),[o,f,e]}function s0(e,n){e.action=n}function hp(e){var n=me(),s=Jt;if(s!==null)return cp(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Vu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function fp(){return me().memoizedState}function Uu(e,n,s,o){var h=en();St.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function ku(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&af(o,Jt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(St.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function dp(e,n){Uu(8390656,8,e,n)}function pf(e,n){ku(2048,8,e,n)}function a0(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Vu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function mp(e){var n=me().memoizedState;return a0({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(e,n){return ku(4,2,e,n)}function pp(e,n){return ku(4,4,e,n)}function yp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,ku(4,4,yp.bind(null,n,e),s)}function yf(){}function _p(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function vp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Is){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function Af(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ey(),St.lanes|=e,Cr|=e,s)}function Ep(e,n,s,o){return mn(s,n)?s:va.current!==null?(e=Af(e,s,o),mn(e,n)||(Se=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(Se=!0,e.memoizedState=s):(e=Ey(),St.lanes|=e,Cr|=e,n)}function Tp(e,n,s,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var g=L.T,v={};L.T=v,Ef(e,!1,n,s);try{var C=h(),z=L.S;if(z!==null&&z(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=e0(C,o);Fo(e,n,H,vn(e))}else Fo(e,n,o,vn(e))}catch(K){Fo(e,n,{then:function(){},status:"rejected",reason:K},vn())}finally{Z.p=f,g!==null&&v.types!==null&&(g.types=v.types),L.T=g}}function o0(){}function _f(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Sp(e).queue;Tp(e,h,n,it,s===null?o0:function(){return bp(e),s(o)})}function Sp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:it},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bp(e){var n=Sp(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},vn())}function vf(){return je(ol)}function wp(){return me().memoizedState}function Cp(){return me().memoizedState}function l0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=vr(s);var o=Er(n,e,s);o!==null&&(un(o,n,s),zo(o,n,s)),n={cache:Yh()},e.payload=n;return}n=n.return}}function u0(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Ip(n,s):(s=Lh(e,n,s,o),s!==null&&(un(s,e,o),Dp(s,n,o)))}function Rp(e,n,s){var o=vn();Fo(e,n,s,o)}function Fo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Ip(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,v=f(g,s);if(h.hasEagerState=!0,h.eagerState=v,mn(v,g))return yu(e,n,h,0),$t===null&&pu(),!1}catch{}finally{}if(s=Lh(e,n,h,o),s!==null)return un(s,e,o),Dp(s,n,o),!0}return!1}function Ef(e,n,s,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=Lh(e,s,o,2),n!==null&&un(n,e,2)}function Lu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Ip(e,n){Ea=Nu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}var Qo={readContext:je,use:Mu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Qo.useEffectEvent=ue;var Np={readContext:je,use:Mu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:dp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Uu(4194308,4,yp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Is){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Is){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=u0.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=Rp.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=en();return Af(s,e,n)},useTransition:function(){var e=mf(!1);return e=Tp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=en();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$t===null)throw Error(a(349));(Dt&127)!==0||Zg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dp($g.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},Wg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=$t.identifierPrefix;if(Ut){var s=Ai,o=yi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ou++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=n0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vf,useFormState:lp,useActionState:lp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return en().memoizedState=l0.bind(null,St)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Tf={readContext:je,use:Mu,useCallback:_p,useContext:je,useEffect:pf,useImperativeHandle:Ap,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:vp,useReducer:xu,useRef:fp,useState:function(){return xu(zi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return Ep(s,Jt.memoizedState,e,n)},useTransition:function(){var e=xu(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Jg,useId:wp,useHostTransitionStatus:vf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var s=me();return np(s,Jt,e,n)},useMemoCache:hf,useCacheRefresh:Cp};Tf.useEffectEvent=mp;var Op={readContext:je,use:Mu,useCallback:_p,useContext:je,useEffect:pf,useImperativeHandle:Ap,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:vp,useReducer:df,useRef:fp,useState:function(){return df(zi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return Jt===null?Af(s,e,n):Ep(s,Jt.memoizedState,e,n)},useTransition:function(){var e=df(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Jg,useId:wp,useHostTransitionStatus:vf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var s=me();return Jt!==null?np(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Cp};Op.useEffectEvent=mp;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vr(o);h.payload=n,s!=null&&(h.callback=s),n=Er(e,h,o),n!==null&&(un(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Er(e,h,o),n!==null&&(un(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=vr(s);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,s),n!==null&&(un(n,e,s),zo(n,e,s))}};function Vp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,o)||!Oo(h,f):!0}function Mp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Ds(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function xp(e){gu(e)}function Up(e){console.error(e)}function kp(e){gu(e)}function Pu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=vr(s),s.tag=3,s.payload={element:null},s.callback=function(){Pu(e,n)},s}function Pp(e){return e=vr(e),e.tag=3,e}function zp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Lp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Lp(n,s,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function c0(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?Ju():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===wu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Jf(e,o,h)),!1;case 22:return s.flags|=65536,o===wu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Jf(e,o,h)),!1}throw Error(a(435,s.tag))}return Jf(e,o,h),Ju(),!1}if(Ut)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),xo(In(e,s)))):(o!==Hh&&(n=Error(a(423),{cause:o}),xo(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,s),h=wf(e.stateNode,o,h),tf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,s),$o===null?$o=[f]:$o.push(f),ce!==4&&(ce=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,o,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pp(h),zp(h,e,s,o),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Cf=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?Hg(n,null,s,o):Rs(n,e.child,s,o)}function Bp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return Ss(n),o=of(e,n,s,g,f,h),v=lf(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(Ut&&v&&jh(n),n.flags|=1,qe(e,n,o,h),n.child)}function jp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qp(e,n,f,o,h)):(e=_u(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Rf(e,n,s,o,h)}function Hp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(n,f!==null?f.cachePool:null),f!==null?Gg(n,f):nf(),Kg(n);else return o=n.lanes=536870912,Fp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Su(n,f.cachePool),Gg(n,f),Sr(),n.memoizedState=null):(e!==null&&Su(n,null),nf(),Sr());return qe(e,n,h,s),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(e,n,s,o,h){var f=Jh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Su(n,null),nf(),Kg(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function zu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qp(e,n,s){return Rs(n,e.child,null,s),e=zu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function h0(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=zu(n,o),n.lanes=536870912,Go(null,e);if(sf(n),(e=te)?(e=iA(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Ig(e),s.return=n,n.child=s,Be=n,te=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(sf(n),h)if(n.flags&256)n.flags&=-257,n=Qp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ga(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=$t,o!==null&&(g=fo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_s(e,g),un(o,e,g),Cf;Ju(),n=Qp(e,n,s)}else e=f.treeContext,te=Mn(g.nextSibling),Be=n,Ut=!0,pr=null,On=!1,e!==null&&Og(n,e),n=zu(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Rf(e,n,s,o,h){return Ss(n),s=of(e,n,s,o,void 0,h),o=lf(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(Ut&&o&&jh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Gp(e,n,s,o,h,f){return Ss(n),n.updateQueue=null,s=Xg(n,o,s,h),Yg(e),o=lf(),e!==null&&!Se?(uf(e,n,f),Bi(e,n,f)):(Ut&&o&&jh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Kp(e,n,s,o,h){if(Ss(n),n.stateNode===null){var f=ha,g=s.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?je(g):ha,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,C=Ds(s,v);f.props=C;var z=f.context,H=s.contextType;g=ha,typeof H=="object"&&H!==null&&(g=je(H));var K=s.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||z!==g)&&Mp(n,f,o,g),_r=!1;var B=n.memoizedState;f.state=B,jo(n,o,f,h),Bo(),z=n.memoizedState,v||B!==z||_r?(typeof K=="function"&&(Sf(n,s,K,o),z=n.memoizedState),(C=_r||Vp(n,s,C,o,B,z,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),g=n.memoizedProps,H=Ds(s,g),f.props=H,K=n.pendingProps,B=f.context,z=s.contextType,C=ha,typeof z=="object"&&z!==null&&(C=je(z)),v=s.getDerivedStateFromProps,(z=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||B!==C)&&Mp(n,f,o,C),_r=!1,B=n.memoizedState,f.state=B,jo(n,o,f,h),Bo();var q=n.memoizedState;g!==K||B!==q||_r||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof v=="function"&&(Sf(n,s,v,o),q=n.memoizedState),(H=_r||Vp(n,s,H,o,B,q,C)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Yp(e,n,s,o){return Es(),n.flags|=256,qe(e,n,s,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:Lg()}}function Nf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Xp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Tr(n):Sr(),(e=te)?(e=iA(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Ig(e),s.return=n,n.child=s,Be=n,te=null)):e=null,e===null)throw yr(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var v=o.children;return o=o.fallback,h?(Sr(),h=n.mode,v=ju({mode:"hidden",children:v},h),o=vs(o,h,s,null),v.return=n,o.return=n,v.sibling=o,n.child=v,o=n.child,o.memoizedState=Df(s),o.childLanes=Nf(e,g,s),n.memoizedState=If,Go(null,o)):(Tr(n),Of(n,v))}var C=e.memoizedState;if(C!==null&&(v=C.dehydrated,v!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=Vf(e,n,s)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),v=o.fallback,h=n.mode,o=ju({mode:"visible",children:o.children},h),v=vs(v,h,s,null),v.flags|=2,o.return=n,v.return=n,o.sibling=v,n.child=o,Rs(n,e.child,null,s),o=n.child,o.memoizedState=Df(s),o.childLanes=Nf(e,g,s),n.memoizedState=If,n=Go(null,o));else if(Tr(n),fd(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,xo({value:o,source:null,stack:null}),n=Vf(e,n,s)}else if(Se||ga(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(o=fo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,_s(e,o),un(g,e,o),Cf;hd(v)||Ju(),n=Vf(e,n,s)}else hd(v)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,te=Mn(v.nextSibling),Be=n,Ut=!0,pr=null,On=!1,e!==null&&Og(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(Sr(),v=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=xi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?v=xi(z,v):(v=vs(v,h,s,null),v.flags|=2),v.return=n,o.return=n,o.sibling=v,n.child=o,Go(null,o),o=n.child,v=e.child.memoizedState,v===null?v=Df(s):(h=v.cachePool,h!==null?(C=Ee._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Lg(),v={baseLanes:v.baseLanes|s,cachePool:h}),o.memoizedState=v,o.childLanes=Nf(e,g,s),n.memoizedState=If,Go(e.child,o)):(Tr(n),s=e.child,e=s.sibling,s=xi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Vf(e,n,s){return Rs(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Gh(e.return,n,s)}function Mf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Zp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),qe(e,n,o,s),o=Ut?Mo:0,!v&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,s,n);else if(e.tag===19)Jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Du(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=xi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=xi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function f0(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Ar(n,Ee,e.memoizedState.cache),Es();break;case 27:case 5:es(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xp(e,n,s):(Tr(n),e=Bi(e,n,s),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ga(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Zp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,Hp(e,n,s,n.pendingProps);case 24:Ar(n,Ee,e.memoizedState.cache)}return Bi(e,n,s)}function Wp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!xf(e,s)&&(n.flags&128)===0)return Se=!1,f0(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Ut&&(n.flags&1048576)!==0&&Ng(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ws(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=Ds(e,o),n.tag=1,n=Kp(null,n,e,o,s)):(n.tag=0,n=Rf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Bp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=jp(null,n,e,o,s);break t}}throw n=Yt(e)||e,Error(a(306,n,""))}}return n;case 0:return Rf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ds(o,n.pendingProps),Kp(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,$h(e,n),jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ar(n,Ee,o),o!==f.cache&&Kh(n,[Ee],s,!0),Bo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yp(e,n,o,s);break t}else if(o!==h){h=In(Error(a(424)),n),xo(h),n=Yp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Mn(e.firstChild),Be=n,Ut=!0,pr=null,On=!0,s=Hg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Es(),o===h){n=Bi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Bu(e,n),e===null?(s=uA(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=ic(bt.current).createElement(s),o[Ae]=n,o[Me]=e,He(o,s,e),_e(o),n.stateNode=o):n.memoizedState=uA(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return es(n),e===null&&Ut&&(o=n.stateNode=aA(n.type,n.pendingProps,bt.current),Be=n,On=!0,h=te,Or(n.type)?(dd=h,te=Mn(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,s),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=te)&&(o=q0(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,te=Mn(o.firstChild),On=!1,h=!0):h=!1),h||yr(n)),es(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,i0,null,null,s),ol._currentValue=h),Bu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=te)&&(s=H0(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,te=null,e=!0):e=!1),e||yr(n)),null;case 13:return Xp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Bp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ss(n),h=je(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return jp(e,n,n.type,n.pendingProps,s);case 15:return qp(e,n,n.type,n.pendingProps,s);case 19:return Zp(e,n,s);case 31:return h0(e,n,s);case 22:return Hp(e,n,s,n.pendingProps);case 24:return Ss(n),o=je(Ee),e===null?(h=Jh(),h===null&&(h=$t,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Wh(n),Ar(n,Ee,h)):((e.lanes&s)!==0&&($h(e,n),jo(n,null,null,s),Bo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,Ee,o)):(o=f.cache,Ar(n,Ee,o),o!==h.cache&&Kh(n,[Ee],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function Uf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw Cs=wu,Zh}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mA(n))if(wy())e.flags|=8192;else throw Cs=wu,Zh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yl():536870912,e.lanes|=n,Ra|=n)}function Ko(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function d0(e,n,s){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ee(n),$p(n,f)):(ee(n),Uf(n,h,null,o,s))):f?f!==e.memoizedState?(ji(n),ee(n),$p(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ee(n),Uf(n,h,e,o,s)),null;case 27:if(Gs(n),s=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=st.current,ma(n)?Vg(n):(e=aA(h,o,s),n.stateNode=e,ji(n))}return ee(n),null;case 5:if(Gs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=st.current,ma(n))Vg(n);else{var g=ic(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ee(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Xy(e.nodeValue,s)),e||yr(n,!0)}else e=ic(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),qu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&id(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(G(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Du(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Rg(s,e),s=s.sibling;return nt(de,de.current&1|2),Ut&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Ku&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Du(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ee(n),null}else 2*$e()-o.renderingStartTime>Ku&&s!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=de.current,nt(de,h?s&1|2:s&1),Ut&&Ui(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return yn(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&G(bs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function m0(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gs(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(de),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),rf(),e!==null&&G(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function ty(e,n){switch(qh(n),n.tag){case 3:Li(Ee),re();break;case 26:case 27:case 5:Gs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:G(de);break;case 10:Li(n.type);break;case 22:case 23:yn(n),rf(),e!==null&&G(bs);break;case 24:Li(Ee)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(v){Kt(n,n.return,v)}}function br(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,h=n;var C=s,z=v;try{z()}catch(H){Kt(h,C,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function ey(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qg(n,s)}catch(o){Kt(e,e.return,o)}}}function ny(e,n,s){s.props=Ds(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function iy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function kf(e,n,s){try{var o=e.stateNode;k0(o,e.type,s,n),o[Me]=n}catch(h){Kt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Or(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Hu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hu(e,n,s),e=e.sibling;e!==null;)Hu(e,n,s),e=e.sibling}function sy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[Ae]=e,n[Me]=s}catch(f){Kt(e,e.return,f)}}var qi=!1,be=!1,zf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function g0(e,n){if(e=e.containerInfo,ad=cc,e=Ag(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,v=-1,C=-1,z=0,H=0,K=e,B=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(v=g+h),K!==f||o!==0&&K.nodeType!==3||(C=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)B=K,K=q;for(;;){if(K===e)break e;if(B===s&&++z===h&&(v=g),B===f&&++H===o&&(C=g),(q=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=q}s=v===-1||C===-1?null:{start:v,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(od={focusedElem:e,selectionRange:s},cc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Ds(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Kt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function oy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),o&4&&Yo(5,s);break;case 1:if(Fi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=Ds(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&ey(s),o&512&&Xo(s,s.return);break;case 3:if(Fi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&sy(s);case 26:case 5:Fi(e,s),n===null&&o&4&&iy(s),o&512&&Xo(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),o&4&&cy(e,s);break;case 13:Fi(e,s),o&4&&hy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=b0.bind(null,s),F0(e,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||be,h=qi;var f=be;qi=o,(be=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),qi=h,be=f}break;case 30:break;default:Fi(e,s)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Hi(e,n,s){for(s=s.child;s!==null;)uy(e,n,s),s=s.sibling}function uy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:be||_i(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||_i(s,n);var o=ae,h=sn;Or(s.type)&&(ae=s.stateNode,sn=!1),Hi(e,n,s),rl(s.stateNode),ae=o,sn=h;break;case 5:be||_i(s,n);case 6:if(o=ae,h=sn,ae=null,Hi(e,n,s),ae=o,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:ae!==null&&(sn?(e=ae,eA(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):eA(ae,s.stateNode));break;case 4:o=ae,h=sn,ae=s.stateNode.containerInfo,sn=!0,Hi(e,n,s),ae=o,sn=h;break;case 0:case 11:case 14:case 15:br(2,s,n),be||br(4,s,n),Hi(e,n,s);break;case 1:be||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ny(s,n,o)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Hi(e,n,s),be=o;break;default:Hi(e,n,s)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Kt(n,n.return,s)}}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Kt(n,n.return,s)}}function p0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(a(435,e.tag))}}function Fu(e,n){var s=p0(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=w0.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(Or(v.type)){ae=v.stateNode,sn=!1;break t}break;case 5:ae=v.stateNode,sn=!1;break t;case 3:case 4:ae=v.stateNode.containerInfo,sn=!0;break t}v=v.return}if(ae===null)throw Error(a(160));uy(f,g,h),ae=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,e),n=n.sibling}var Kn=null;function fy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(br(3,e,e.return),Yo(3,e),br(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[Ae]=e,_e(f),o=f;break t;case"link":var g=fA("link","href",h).get(o+(s.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(v,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=fA("meta","content",h).get(o+(s.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(v,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,_e(f),o=f}e.stateNode=o}else dA(h,e.type,e.stateNode);else e.stateNode=hA(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?dA(h,e.type,e.stateNode):hA(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),s!==null&&o&4&&kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(ac=null,h=Kn,Kn=rc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(at){Kt(e,e.return,at)}zf&&(zf=!1,dy(e));break;case 4:o=Kn,Kn=rc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=qi,H=be;if(qi=z||h,be=H||C,an(n,e),be=H,qi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||qi||be||Ns(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=C.stateNode;var K=C.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;v.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Kt(C,C.return,at)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){Kt(C,C.return,at)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?nA(q,!0):nA(C.stateNode,!1)}catch(at){Kt(C,C.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Fu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Hu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var v=Lf(e);Hu(e,v,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Lf(e);Pf(e,z,C);break;default:throw Error(a(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Ns(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),Ns(n);break;case 27:rl(n.stateNode);case 26:case 5:_i(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),Yo(4,f);break;case 1:if(Qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var v=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Fg(C[h],v)}catch(z){Kt(o,o.return,z)}}s&&g&64&&ey(f),Xo(f,f.return);break;case 27:sy(f);case 26:case 5:Qi(h,f,s),s&&o===null&&g&4&&iy(f),Xo(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&g&4&&cy(h,f);break;case 13:Qi(h,f,s),s&&g&4&&hy(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),Xo(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function Bf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Uo(s))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(e,n,s,o),n=n.sibling}function my(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),h&2048&&Yo(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Kt(n,n.return,C)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):Jo(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(g,n);break;case 24:Yn(e,n,s,o),h&2048&&jf(n.alternate,n);break;default:Yn(e,n,s,o)}}function ba(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,v=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,v,C,h),Yo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ba(f,g,v,C,h):Jo(f,g):(H._visibility|=2,ba(f,g,v,C,h)),h&&z&2048&&Bf(g.alternate,g);break;case 24:ba(f,g,v,C,h),h&&z&2048&&jf(g.alternate,g);break;default:ba(f,g,v,C,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(s,o),h&2048&&Bf(o.alternate,o);break;case 24:Jo(s,o),h&2048&&jf(o.alternate,o);break;default:Jo(s,o)}n=n.sibling}}var Zo=8192;function wa(e,n,s){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&Zo&&e.memoizedState!==null&&nS(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var o=Kn;Kn=rc(e.stateNode.containerInfo),wa(e,n,s),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,wa(e,n,s),Zo=o):wa(e,n,s));break;default:wa(e,n,s)}}function py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ay(o,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&br(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Wo(e);break;default:Wo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ay(o,e)}py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),Qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function Ay(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:br(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(ly(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var y0={getCacheForType:function(e){var n=je(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return je(Ee).controller.signal}},A0=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,Rt=null,Dt=0,Gt=0,An=null,wr=!1,Ca=!1,qf=!1,Gi=0,ce=0,Cr=0,Os=0,Hf=0,_n=0,Ra=0,$o=null,ln=null,Ff=!1,Gu=0,_y=0,Ku=1/0,Yu=null,Rr=null,Ne=0,Ir=null,Ia=null,Ki=0,Qf=0,Gf=null,vy=null,tl=0,Kf=null;function vn(){return(jt&2)!==0&&Dt!==0?Dt&-Dt:L.T!==null?$f():Xl()}function Ey(){if(_n===0)if((Dt&536870912)===0||Ut){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===$t&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Dr(e,Dt,_n,!1)),ss(e,s),((jt&2)===0||e!==$t)&&(e===$t&&((jt&2)===0&&(Os|=s),ce===4&&Dr(e,Dt,_n,!1)),vi(e))}function Ty(e,n,s){if((jt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?E0(e,n):Xf(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Dr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_0(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var v=e;h=$o;var C=v.current.memoizedState.isDehydrated;if(C&&(Da(v,g).flags|=256),g=Xf(v,g,!1),g!==2){if(qf&&!C){v.errorRecoveryDisabledLanes|=f,Os|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,_n,!wr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gu+300-$e(),10<h)){if(Dr(o,n,_n,!wr),ni(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=$y(Sy.bind(null,o,s,ln,Yu,Ff,n,_n,Os,Ra,wr,f,"Throttled",-0,0),h);break t}Sy(o,s,ln,Yu,Ff,n,_n,Os,Ra,wr,f,null,-0,0)}}break}while(!0);vi(e)}function Sy(e,n,s,o,h,f,g,v,C,z,H,K,B,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},gy(n,f,K);var at=(f&62914560)===f?Gu-$e():(f&4194048)===f?_y-$e():0;if(at=iS(K,at),at!==null){Ki=f,e.cancelPendingCommit=at(Oy.bind(null,e,n,f,s,o,h,g,v,C,H,K,null,B,q)),Dr(e,f,g,!z);return}}Oy(e,n,f,s,o,h,g,v,C)}function _0(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n,s,o){n&=~Hf,n&=~Os,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&as(e,s,n)}function Xu(){return(jt&6)===0?(el(0),!1):!0}function Yf(){if(Rt!==null){if(Gt===0)var e=Rt.return;else e=Rt,ki=Ts=null,cf(e),_a=null,Lo=0,e=Rt;for(;e!==null;)ty(e.alternate,e),e=e.return;Rt=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,z0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,Yf(),$t=e,Rt=s=xi(e.current,null),Dt=n,Gt=0,An=null,wr=!1,Ca=Pn(e,n),qf=!1,Ra=_n=Hf=Os=Cr=ce=0,ln=$o=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,pu(),s}function by(e,n){St=null,L.H=Qo,n===Aa||n===bu?(n=Bg(),Gt=3):n===Zh?(n=Bg(),Gt=4):Gt=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Rt===null&&(ce=1,Pu(e,In(n,e.current)))}function wy(){var e=pn.current;return e===null?!0:(Dt&4194048)===Dt?Vn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Vn:!1}function Cy(){var e=L.H;return L.H=Qo,e===null?Qo:e}function Ry(){var e=L.A;return L.A=y0,e}function Ju(){ce=4,wr||(Dt&4194048)!==Dt&&pn.current!==null||(Ca=!0),(Cr&134217727)===0&&(Os&134217727)===0||$t===null||Dr($t,Dt,_n,!1)}function Xf(e,n,s){var o=jt;jt|=2;var h=Cy(),f=Ry();($t!==e||Dt!==n)&&(Yu=null,Da(e,n)),n=!1;var g=ce;t:do try{if(Gt!==0&&Rt!==null){var v=Rt,C=An;switch(Gt){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var z=Gt;if(Gt=0,An=null,Na(e,v,C,z),s&&Ca){g=0;break t}break;default:z=Gt,Gt=0,An=null,Na(e,v,C,z)}}v0(),g=ce;break}catch(H){by(e,H)}while(!0);return n&&e.shellSuspendCounter++,ki=Ts=null,jt=o,L.H=h,L.A=f,Rt===null&&($t=null,Dt=0,pu()),g}function v0(){for(;Rt!==null;)Iy(Rt)}function E0(e,n){var s=jt;jt|=2;var o=Cy(),h=Ry();$t!==e||Dt!==n?(Yu=null,Ku=$e()+500,Da(e,n)):Ca=Pn(e,n);t:do try{if(Gt!==0&&Rt!==null){n=Rt;var f=An;e:switch(Gt){case 1:Gt=0,An=null,Na(e,n,f,1);break;case 2:case 9:if(Pg(f)){Gt=0,An=null,Dy(n);break}n=function(){Gt!==2&&Gt!==9||$t!==e||(Gt=7),vi(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Pg(f)?(Gt=0,An=null,Dy(n)):(Gt=0,An=null,Na(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var v=Rt;if(g?mA(g):v.stateNode.complete){Gt=0,An=null;var C=v.sibling;if(C!==null)Rt=C;else{var z=v.return;z!==null?(Rt=z,Zu(z)):Rt=null}break e}}Gt=0,An=null,Na(e,n,f,5);break;case 6:Gt=0,An=null,Na(e,n,f,6);break;case 8:Yf(),ce=6;break t;default:throw Error(a(462))}}T0();break}catch(H){by(e,H)}while(!0);return ki=Ts=null,L.H=o,L.A=h,jt=s,Rt!==null?0:($t=null,Dt=0,pu(),ce)}function T0(){for(;Rt!==null&&!bh();)Iy(Rt)}function Iy(e){var n=Wp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Zu(e):Rt=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Gp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Gp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:cf(n);default:ty(s,n),n=Rt=Rg(n,Gi),n=Wp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Zu(e):Rt=n}function Na(e,n,s,o){ki=Ts=null,cf(n),_a=null,Lo=0;var h=n.return;try{if(c0(e,h,n,s,Dt)){ce=1,Pu(e,In(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Pu(e,In(s,e.current)),Rt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ca||(Dt&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ny(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){Ny(n,wr);return}e=n.return;var s=d0(n.alternate,n,Gi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function Ny(e,n){do{var s=m0(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ce=6,Rt=null}function Oy(e,n,s,o,h,f,g,v,C){e.cancelPendingCommit=null;do Wu();while(Ne!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Rh(e,s,f,g,v,C),e===$t&&(Rt=$t=null,Dt=0),Ia=n,Ir=e,Ki=s,Qf=f,Gf=h,vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C0(sr,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=Z.p,Z.p=2,g=jt,jt|=4;try{g0(e,n,s)}finally{jt=g,Z.p=h,L.T=o}}Ne=1,Vy(),My(),xy()}}function Vy(){if(Ne===1){Ne=0;var e=Ir,n=Ia,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var o=Z.p;Z.p=2;var h=jt;jt|=4;try{fy(n,e);var f=od,g=Ag(e.containerInfo),v=f.focusedElem,C=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&yg(v.ownerDocument.documentElement,v)){if(C!==null&&Oh(v)){var z=C.start,H=C.end;if(H===void 0&&(H=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(H,v.value.length);else{var K=v.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var q=B.getSelection(),at=v.textContent.length,ft=Math.min(C.start,at),Wt=C.end===void 0?ft:Math.min(C.end,at);!q.extend&&ft>Wt&&(g=Wt,Wt=ft,ft=g);var x=pg(v,ft),N=pg(v,Wt);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=K.createRange();P.setStart(x.node,x.offset),q.removeAllRanges(),ft>Wt?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(K=[],q=v;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<K.length;v++){var Q=K[v];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}cc=!!ad,od=ad=null}finally{jt=h,Z.p=o,L.T=s}}e.current=n,Ne=2}}function My(){if(Ne===2){Ne=0;var e=Ir,n=Ia,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var o=Z.p;Z.p=2;var h=jt;jt|=4;try{oy(e,n.alternate,n)}finally{jt=h,Z.p=o,L.T=s}}Ne=3}}function xy(){if(Ne===4||Ne===3){Ne=0,ql();var e=Ir,n=Ia,s=Ki,o=vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ia=Ir=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),Ni(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,h=Z.p,Z.p=2,L.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var v=o[g];f(v.value,{componentStack:v.stack})}}finally{L.T=n,Z.p=h}}(Ki&3)!==0&&Wu(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Kf?tl++:(tl=0,Kf=e):tl=0,el(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function Wu(){return Vy(),My(),xy(),ky()}function ky(){if(Ne!==5)return!1;var e=Ir,n=Qf;Qf=0;var s=Ni(Ki),o=L.T,h=Z.p;try{Z.p=32>s?32:s,L.T=null,s=Gf,Gf=null;var f=Ir,g=Ki;if(Ne=0,Ia=Ir=null,Ki=0,(jt&6)!==0)throw Error(a(331));var v=jt;if(jt|=4,yy(f.current),my(f,f.current,g,s),jt=v,el(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{Z.p=h,L.T=o,Uy(e,n)}}function Ly(e,n,s){n=In(s,n),n=wf(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(ss(e,2),vi(e))}function Kt(e,n,s){if(e.tag===3)Ly(e,e,s);else for(;n!==null;){if(n.tag===3){Ly(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=In(s,e),s=Pp(2),o=Er(n,s,2),o!==null&&(zp(s,o,n,e),ss(o,2),vi(o));break}}n=n.return}}function Jf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new A0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(qf=!0,h.add(s),e=S0.bind(null,e,n,s),n.then(e,e))}function S0(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Dt&s)===s&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>$e()-Gu?(jt&2)===0&&Da(e,0):Hf|=s,Ra===Dt&&(Ra=0)),vi(e)}function Py(e,n){n===0&&(n=Yl()),e=_s(e,n),e!==null&&(ss(e,n),vi(e))}function b0(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Py(e,s)}function w0(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(e,s)}function C0(e,n){return De(e,n)}var $u=null,Oa=null,Zf=!1,tc=!1,Wf=!1,Nr=0;function vi(e){e!==Oa&&e.next===null&&(Oa===null?$u=Oa=e:Oa=Oa.next=e),tc=!0,Zf||(Zf=!0,I0())}function el(e,n){if(!Wf&&tc){Wf=!0;do for(var s=!1,o=$u;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(o,f))}else f=Dt,f=ni(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(s=!0,qy(o,f));o=o.next}while(s);Wf=!1}}function R0(){zy()}function zy(){tc=Zf=!1;var e=0;Nr!==0&&P0()&&(e=Nr);for(var n=$e(),s=null,o=$u;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,s===null?$u=h:s.next=h,h===null&&(Oa=s)):(s=o,(e!==0||(f&3)!==0)&&(tc=!0)),o=h}Ne!==0&&Ne!==5||el(e),Nr!==0&&(Nr=0)}function By(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),v=1<<g,C=h[g];C===-1?((v&s)===0||(v&o)!==0)&&(h[g]=Ch(v,n)):C<=n&&(e.expiredLanes|=v),f&=~v}if(n=$t,s=Dt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&rr(o),Ni(s)){case 2:case 8:s=co;break;case 32:s=sr;break;case 268435456:s=Hl;break;default:s=sr}return o=jy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&rr(o),e.callbackPriority=2,e.callbackNode=null,2}function jy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wu()&&e.callbackNode!==s)return null;var o=Dt;return o=ni(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ty(e,o,n),By(e,$e()),e.callbackNode!=null&&e.callbackNode===s?jy.bind(null,e):null)}function qy(e,n){if(Wu())return null;Ty(e,n,!0)}function I0(){B0(function(){(jt&6)!==0?De(uo,R0):zy()})}function $f(){if(Nr===0){var e=pa;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Nr=e}return Nr}function Hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function D0(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Hy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Hy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var v=new di("action","action",null,o,h);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var C=g?Fy(h,g):new FormData(h);_f(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(v.preventDefault(),C=g?Fy(h,g):new FormData(h),_f(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var td=0;td<Uh.length;td++){var ed=Uh[td],N0=ed.toLowerCase(),O0=ed[0].toUpperCase()+ed.slice(1);Gn(N0,"on"+O0)}Gn(Eg,"onAnimationEnd"),Gn(Tg,"onAnimationIteration"),Gn(Sg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(KT,"onTransitionRun"),Gn(YT,"onTransitionStart"),Gn(XT,"onTransitionCancel"),Gn(bg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var v=o[g],C=v.instance,z=v.currentTarget;if(v=v.listener,C!==f&&h.isPropagationStopped())break t;f=v,h.currentTarget=z;try{f(h)}catch(H){gu(H)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(v=o[g],C=v.instance,z=v.currentTarget,v=v.listener,C!==f&&h.isPropagationStopped())break t;f=v,h.currentTarget=z;try{f(h)}catch(H){gu(H)}h.currentTarget=null,f=C}}}}function It(e,n){var s=n[Js];s===void 0&&(s=n[Js]=new Set);var o=e+"__bubble";s.has(o)||(Gy(n,e,2,!1),s.add(o))}function nd(e,n,s){var o=0;n&&(o|=4),Gy(s,e,o,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ec]){e[ec]=!0,mo.forEach(function(s){s!=="selectionchange"&&(V0.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ec]||(n[ec]=!0,nd("selectionchange",!1,n))}}function Gy(e,n,s,o){switch(EA(n)){case 2:var h=aS;break;case 8:h=oS;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function rd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;v!==null;){if(g=ai(v),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}v=v.parentNode}}o=o.return}hr(function(){var z=f,H=bn(s),K=[];t:{var B=wg.get(e);if(B!==void 0){var q=di,at=e;switch(e){case"keypress":if(ds(s)===0)break t;case"keydown":case"keyup":q=fu;break;case"focusin":at="focus",q=gs;break;case"focusout":at="blur",q=gs;break;case"beforeblur":case"afterblur":q=gs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Eg:case Tg:case Sg:q=su;break;case bg:q=E;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,Wt=!ft&&(e==="scroll"||e==="scrollend"),x=ft?B!==null?B+"Capture":null:B;ft=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||x===null||(Q=qn(N,x),Q!=null&&ft.push(il(N,Q,P))),Wt)break;N=N.return}0<ft.length&&(B=new q(B,at,null,s,H),K.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&s!==So&&(at=s.relatedTarget||s.fromElement)&&(ai(at)||at[ri]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=z,at=at?ai(at):null,at!==null&&(Wt=c(at),ft=at.tag,at!==Wt||ft!==5&&ft!==27&&ft!==6)&&(at=null)):(q=null,at=z),q!==at)){if(ft=Ro,Q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Mi,Q="onPointerLeave",x="onPointerEnter",N="pointer"),Wt=q==null?B:fn(q),P=at==null?B:fn(at),B=new ft(Q,N+"leave",q,s,H),B.target=Wt,B.relatedTarget=P,Q=null,ai(H)===z&&(ft=new ft(x,N+"enter",at,s,H),ft.target=P,ft.relatedTarget=Wt,Q=ft),Wt=Q,q&&at)e:{for(ft=M0,x=q,N=at,P=0,Q=x;Q;Q=ft(Q))P++;Q=0;for(var ut=N;ut;ut=ft(ut))Q++;for(;0<P-Q;)x=ft(x),P--;for(;0<Q-P;)N=ft(N),Q--;for(;P--;){if(x===N||N!==null&&x===N.alternate){ft=x;break e}x=ft(x),N=ft(N)}ft=null}else ft=null;q!==null&&Ky(K,B,q,ft,!1),at!==null&&Wt!==null&&Ky(K,Wt,at,ft,!0)}}t:{if(B=z?fn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Pt=cg;else if(lg(B))if(hg)Pt=FT;else{Pt=qT;var lt=jT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ta(z.elementType)&&(Pt=cg):Pt=HT;if(Pt&&(Pt=Pt(e,z))){ug(K,Pt,s,H);break t}lt&&lt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&vo(B,"number",B.value)}switch(lt=z?fn(z):window,e){case"focusin":(lg(lt)||lt.contentEditable==="true")&&(la=lt,Vh=z,Vo=null);break;case"focusout":Vo=Vh=la=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,_g(K,s,H);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":_g(K,s,H)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else oa?ps(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(pi&&s.locale!=="ko"&&(oa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&oa&&(wt=wo()):(fi=H,bo="value"in fi?fi.value:fi.textContent,oa=!0)),lt=nc(z,Nt),0<lt.length&&(Nt=new gi(Nt,e,null,s,H),K.push({event:Nt,listeners:lt}),wt?Nt.data=wt:(wt=aa(s),wt!==null&&(Nt.data=wt)))),(wt=Cn?LT(e,s):PT(e,s))&&(Nt=nc(z,"onBeforeInput"),0<Nt.length&&(lt=new gi("onBeforeInput","beforeinput",null,s,H),K.push({event:lt,listeners:Nt}),lt.data=wt)),D0(K,e,z,s,H)}Qy(K,n)})}function il(e,n,s){return{instance:e,listener:n,currentTarget:s}}function nc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,s),h!=null&&o.unshift(il(e,h,f)),h=qn(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function M0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var v=s,C=v.alternate,z=v.stateNode;if(v=v.tag,C!==null&&C===o)break;v!==5&&v!==26&&v!==27||z===null||(C=z,h?(z=qn(s,f),z!=null&&g.unshift(il(s,z,C))):h||(z=qn(s,f),z!=null&&g.push(il(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var x0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(x0,`
`).replace(U0,"")}function Xy(e,n){return n=Yy(n),Yy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Ws(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ws(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=nu.get(s)||s,Ws(e,s,o))}}function sd(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Ws(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var v=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Zt(e,n,o,H,s,null)}}$l(e,f,v,C,z,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(v=s[h],v!=null))switch(h){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Zt(e,n,h,v,s,null)}n=f,s=g,e.multiple=!!o,n!=null?or(e,!!o,n,!1):s!=null&&or(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(v=s[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":h=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Zt(e,n,g,v,s,null)}lr(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,C,o,s,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)It(nl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,o,s,null)}return;default:if(ta(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&sd(e,n,H,o,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(o=s[v],o!=null&&Zt(e,n,v,o,s,null))}function k0(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,v=null,C=null,z=null,H=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var B in o){var q=o[B];if(K=s[B],o.hasOwnProperty(B)&&(q!=null||K!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Zt(e,n,B,q,o,K)}}$s(e,g,v,C,z,H,f,h);return;case"select":q=g=v=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==C&&Zt(e,n,h,f,o,C)}n=v,s=g,o=q,B!=null?or(e,!!s,B,!1):!!o!=!!s&&(n!=null?or(e,!!s,n,!0):or(e,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(v in s)if(h=s[v],s.hasOwnProperty(v)&&h!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Zt(e,n,v,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}tu(e,B,q);return;case"option":for(var at in s)if(B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,n,at,null,o,B)}for(C in o)if(B=o[C],q=s[C],o.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(e,n,C,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)B=s[ft],s.hasOwnProperty(ft)&&B!=null&&!o.hasOwnProperty(ft)&&Zt(e,n,ft,null,o,B);for(z in o)if(B=o[z],q=s[z],o.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Zt(e,n,z,B,o,q)}return;default:if(ta(n)){for(var Wt in s)B=s[Wt],s.hasOwnProperty(Wt)&&B!==void 0&&!o.hasOwnProperty(Wt)&&sd(e,n,Wt,void 0,o,B);for(H in o)B=o[H],q=s[H],!o.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||sd(e,n,H,B,o,q);return}}for(var x in s)B=s[x],s.hasOwnProperty(x)&&B!=null&&!o.hasOwnProperty(x)&&Zt(e,n,x,null,o,B);for(K in o)B=o[K],q=s[K],!o.hasOwnProperty(K)||B===q||B==null&&q==null||Zt(e,n,K,B,o,q)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,v=h.duration;if(f&&v&&Jy(g)){for(g=0,v=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>v)break;var H=C.transferSize,K=C.initiatorType;H&&Jy(K)&&(C=C.responseEnd,g+=H*(C<v?1:(v-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function P0(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,tA=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof tA<"u"?function(e){return tA.resolve(null).then(e).catch(j0)}:$y;function j0(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function eA(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")rl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,rl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,v=f.nodeName;f[si]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&rl(e.ownerDocument.body);s=h}while(s);Ua(n)}function nA(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),Zs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function q0(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function H0(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function iA(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F0(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function rA(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function sA(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function aA(e,n,s){switch(n=ic(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zs(e)}var xn=new Map,oA=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=Z.d;Z.d={f:Q0,r:G0,D:K0,C:Y0,L:X0,m:J0,X:W0,S:Z0,M:$0};function Q0(){var e=Yi.f(),n=Xu();return e||n}function G0(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?bp(n):Yi.r(e)}var Va=typeof document>"u"?null:document;function lA(e,n,s){var o=Va;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),oA.has(h)||(oA.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function K0(e){Yi.D(e),lA("dns-prefetch",e,null)}function Y0(e,n){Yi.C(e,n),lA("preconnect",e,n)}function X0(e,n,s){Yi.L(e,n,s);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=xa(e)}xn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function J0(e,n){Yi.m(e,n);var s=Va;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(e)}if(!xn.has(f)&&(e=S({rel:"modulepreload",href:e},n),xn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),He(o,"link",e),_e(o),s.head.appendChild(o)}}}function Z0(e,n,s){Yi.S(e,n,s);var o=Va;if(o&&e){var h=oi(o).hoistableStyles,f=Ma(e);n=n||"default";var g=h.get(f);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(sl(f)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=xn.get(f))&&md(e,s);var C=g=o.createElement("link");_e(C),He(C,"link",e),C._p=new Promise(function(z,H){C.onload=z,C.onerror=H}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:v},h.set(f,g)}}}function W0(e,n){Yi.X(e,n);var s=Va;if(s&&e){var o=oi(s).hoistableScripts,h=xa(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0},n),(n=xn.get(h))&&gd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $0(e,n){Yi.M(e,n);var s=Va;if(s&&e){var o=oi(s).hoistableScripts,h=xa(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=xn.get(h))&&gd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uA(e,n,s,o){var h=(h=bt.current)?rc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(e,s),f||tS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function cA(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function tS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),_e(n),e.head.appendChild(n))}function xa(e){return'[src="'+nn(e)+'"]'}function al(e){return"script[async]"+e}function hA(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),He(o,"style",h),sc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ma(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=cA(s),(h=xn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),He(f,"link",o),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=xa(s.src),(h=e.querySelector(al(f)))?(n.instance=h,_e(h),h):(o=s,(h=xn.get(f))&&(o=S({},s),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,s.precedence,e));return n.instance}function sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===n)f=v;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function fA(e,n,s){if(ac===null){var o=new Map,h=ac=new Map;h.set(s,o)}else h=ac,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var v=o.get(g);v?v.push(f):o.set(g,[f])}}return o}function dA(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function eS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mA(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ma(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=cA(o),(h=xn.get(h))&&md(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=oc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function iS(e,n){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*L0());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(rS,e),lc=null,oc.call(e))}function rS(e,n){if(!(n.state.loading&4)){var s=lc.get(e);if(s)var o=s.get(null);else{s=new Map,lc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:dt,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function sS(e,n,s,o,h,f,g,v,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function gA(e,n,s,o,h,f,g,v,C,z,H,K){return e=new sS(e,n,s,g,C,z,H,K,v),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Wh(f),e}function pA(e){return e?(e=ha,e):ha}function yA(e,n,s,o,h,f){h=pA(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Er(e,o,n),s!==null&&(un(s,e,n),zo(s,e,n))}function AA(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){AA(e,n),(e=e.alternate)&&AA(e,n)}function _A(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&un(n,e,67108864),yd(e,67108864)}}function vA(e){if(e.tag===13||e.tag===31){var n=vn();n=os(n);var s=_s(e,n);s!==null&&un(s,e,n),yd(e,n)}}var cc=!0;function aS(e,n,s,o){var h=L.T;L.T=null;var f=Z.p;try{Z.p=2,Ad(e,n,s,o)}finally{Z.p=f,L.T=h}}function oS(e,n,s,o){var h=L.T;L.T=null;var f=Z.p;try{Z.p=8,Ad(e,n,s,o)}finally{Z.p=f,L.T=h}}function Ad(e,n,s,o){if(cc){var h=_d(o);if(h===null)rd(e,n,o,hc,s),TA(e,o);else if(uS(h,e,n,s,o))o.stopPropagation();else if(TA(e,o),n&4&&-1<lS.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var C=1<<31-he(g);v.entanglements[1]|=C,g&=~C}vi(f),(jt&6)===0&&(Ku=$e()+500,el(0))}}break;case 31:case 13:v=_s(f,2),v!==null&&un(v,f,2),Xu(),yd(f,2)}if(f=_d(o),f===null&&rd(e,n,o,hc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,s)}}function _d(e){return e=bn(e),vd(e)}var hc=null;function vd(e){if(hc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hc=e,null}function EA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case uo:return 2;case co:return 8;case sr:case wh:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var Ed=!1,Vr=null,Mr=null,xr=null,ll=new Map,ul=new Map,Ur=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TA(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&_A(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function uS(e,n,s,o,h){switch(n){case"focusin":return Vr=cl(Vr,e,n,s,o,h),!0;case"dragenter":return Mr=cl(Mr,e,n,s,o,h),!0;case"mouseover":return xr=cl(xr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,s,o,h)),!0}return!1}function SA(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){vA(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,zn(e.priority,function(){vA(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=_d(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);So=o,s.target.dispatchEvent(o),So=null}else return n=Sn(s),n!==null&&_A(n),e.blockedOn=s,!1;n.shift()}return!0}function bA(e,n,s){fc(e)&&s.delete(n)}function cS(){Ed=!1,Vr!==null&&fc(Vr)&&(Vr=null),Mr!==null&&fc(Mr)&&(Mr=null),xr!==null&&fc(xr)&&(xr=null),ll.forEach(bA),ul.forEach(bA)}function dc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cS)))}var mc=null;function wA(e){mc!==e&&(mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(vd(o||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ua(e){function n(C){return dc(C,e)}Vr!==null&&dc(Vr,e),Mr!==null&&dc(Mr,e),xr!==null&&dc(xr,e),ll.forEach(n),ul.forEach(n);for(var s=0;s<Ur.length;s++){var o=Ur[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(s=Ur[0],s.blockedOn===null);)SA(s),s.blockedOn===null&&Ur.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||wA(s);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)v=g.formAction;else if(vd(h)!==null)continue}else v=g.action;typeof v=="function"?s[o+1]=v:(s.splice(o,3),o-=3),wA(s)}}}function CA(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(e){this._internalRoot=e}gc.prototype.render=Td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();yA(s,o,e,n,null,null)},gc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yA(e.current,2,null,e,null,null),Xu(),n[ri]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ur.length&&n!==0&&n<Ur[s].priority;s++);Ur.splice(s,0,e),s===0&&SA(e)}};var RA=t.version;if(RA!=="19.2.0")throw Error(a(527,RA,"19.2.0"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=A(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var hS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Ln=pc.inject(hS),Pe=pc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=xp,f=Up,g=kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=gA(e,1,!1,null,null,s,o,null,h,f,g,CA),e[ri]=n.current,id(e),new Td(n)},fl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=xp,g=Up,v=kp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=gA(e,1,!0,n,s??null,o,h,C,f,g,v,CA),n.context=pA(null),s=n.current,o=vn(),o=os(o),h=vr(o),h.callback=null,Er(s,h,o),s=o,n.current.lanes=s,ss(n,s),vi(n),e[ri]=n.current,id(e),new gc(n)},fl.version="19.2.0",fl}var LA;function SS(){if(LA)return wd.exports;LA=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=TS(),wd.exports}var bS=SS();const wS="/Animadex/assets/bird-BvLi2qlo.png",CS="/Animadex/assets/mammal-CMZoFO2F.png",RS="/Animadex/assets/reptile-1O1k4ai_.png",IS="/Animadex/assets/amphibian-b5hmJM36.png",DS="/Animadex/assets/insect-WxDJ9n0i.png",NS="/Animadex/assets/fish-BrBGDmn4.png",OS="/Animadex/assets/other-BA1xVXi_.png",VS="/Animadex/assets/observation-B6Kpdla1.png",MS="/Animadex/assets/photo-DYzDim8L.png",xS="/Animadex/assets/tracks-THaJaPSN.png",US="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAbaSURBVHic5ZtbiFVVGMd/3xlzvFVqiDgq4yUMVDAiEdIHRyiCbEx890F8KREFpfTJ56j0LZ97kYoS7/QyOmSkoBOijijkjZoRjBzzgo7ZfD2stZ11vrPP2Wufi4Nz/rCZOd/+7nutvb512aKqNBIiMglYBcwD2lIuAfpTrmvAcVW931D/GpEAEZkJfAh04oJvrVLVE+AEcBA4pKp99fEwgKrW5QImANuBM8AQoA24znobE+rmdx0CbwE2An05Arntn27y+4mnxcr3eZstI5oAYDXQm+HsOeBrYBOwEpjmZW8EPDc8bZrn2eRlzmXo7gVWP/cEAO1Ad8STGgJml9FRkoAUntmR3akbaH8uCQBWVGiuf5jfpyvoyUyA5zudYSPsVivyxlMgB0RkA9Dlm2qIK8B7wElD/yGP/jKwOk56W1cMfRrQ5X2MR+RTbwF2U5r1h8BOYCwwBhgw9+fWoQXMNToHvK2x3vbDFL92E/mCjA3+QIqRS2GAQIe535OhNyoBnrfH6O4wCbqU4t+BmCTEdIEvgDWGdhJYrqrXA1qn4alH8y+n65kt78NySrvfGpzvlZGR+Q2UZvZ7oDWF96rhW1DHFrDA6L6awtPqfbP+bqiqC+De9oNG2e/AnBTehYbvfETXik6A5z9vbCxM4ZnjfQz5BqkwOqR2ARFpB/bjXjQh5gPXRKRLRNaLyERPt83/xzS9NcLq7AQQkYnely7cBGq+4RsL7PcxlaJMtrvJLj4UeAB8A1w09EUNaAGLjI2L3vaDSF+7o7oArrwNBe8BR4GnkYb+AdYCbwKTa00AMNnrWut1x/jw1Pt8z9BLymZrrIXS2n6LvzcD+JT0IafSNQD8hutSXwGbfZJvBTy3PG2z59nvZWxdkXVd8j7O8D5vMfd7MUOjTcBGI9BjBTzfMmBvFQ424hrwvixL8bOF0hpiY2oCcPP5cEr7H7A0o1+OA46NYPDHgHEZPi71sSQyfQTrCWMYxie4JaoER1T1DBWgqo9FJBxJhoB1uNniXNywlPx9pZKuFNzDvSeuB39v4kaDxGZBVR9n+HhGRI4wPFK14WL9MmFIMnWW4ux2VMpsIHchkOmvwDcVeMsnaBtwN5C762nrPM/UCnr6A7kLkT7aMv1MURcAZhqGczGKveydQO5sDrkbgVzmMFjmQd3JIRcurgwBM1WHCyFbyOyt1KwSiMh4YEpAqv+iZSlCG1O8DzEIYxLcou2zBNjJztFIpTPN7/5IuVpgbVgfysHG1AlQEJGXcX0kwUVV/TNSqTX+vFtAmg+p8DFdDEirRGRSAbduH9b8P+Vw5kVqAVAcWyuwqoDbsQnxSw6FI5GAqlqAh41tXoHisR/cdDIWI9EFamkBNrY2mwDFTSlj8aJ1gWu4GBOUJOCWqj7KoXBW8P9jVf07h2xV8DbC6m9WOd4U2Ue4iVeCNsEtLy/whH/J9xTbgJf8/0O4NftYzMJNVsDV6rEjD7gNk2QIr8XnKwLcByblUDCacL9AcZ9oNsgYXPN5wxOarQv0AxwnmCvHTi78BONUIPsop+wNqpgMedlHgeypnLLhmseJgsnejByTCyh+auNE5LUcslXB2xhXxocs2fG4pb0E/TYBQmllWAm28LFFVSNgbeQpvubhYkxQkgCA13MorKUsrRa1JMDG1l+gtPJbkUPhSLSAWspvG9u1Au4lOBgQ38+h8EXrAmFsT4DjBVV9gEtCgsUiEltejkQXqKoF+JgWB6QTqno/GUsPGf4PIp15kVqAjekgDBcThymuCD+O0egnFwMB6Xm3gIEckzcb0yFwR01Q1T4R6QHe9jeXiEiHqp6IUNzH8MJo2RYgIlMp3ieYHNyeLCLbCPYBVPVOGVWhjdjm3wEsCUg96k+dhhsj3zGcAICtuGOqWehjuG9NF5GPyL8x8irJRsWw0+U2RqYb2zHYan5/++y/oERsyq0xy9y8m6OBQPNuj3uh5j0gERjtjjQ0+o7IeGPtlD8PPIQ7LrsemOj5dxieXQ1IwC5jY4enT/S+dFH+YPVtyhymrmSwKY7JZRlt3oOSgeK0Q9I/A1MM3x7Ds7OOCdhpdO8x96d4n6yfuzPji0jAqD4snZmAIAnNeVzeOLOB0hejApeBd4F9hr69DgnYbnTu87Yup/gxSEafrykB3qFR9clM7gR4p9oZJR9NhdPhaKjqTWCliKwGPsfVAWkQ4LCI/Iqrw3uBXlX9K5VZZBqu4kuudyhexra4BHymqkeqiQOorgWYp9S8H06aRCSfztoDl/W6hnCf5db109lGfjzdiTt+10HphxexGMStWB8CDmsDPp5uSAKKDLhjeJU+n1cqfz7/oJH+/Q+JZjICBR75XQAAAABJRU5ErkJggg==",kS="/Animadex/assets/uk-D2-lxbMb.png",LS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADoxJREFUeJzt3X+s3XV9x/HX53v5USngHJvBqATjBsxsfxB/TJaNlYKtBSSScJ2bm2QL4k90G/PHtiy7W0I2mclAEJXCFsAtwIU5aUuBsVLcH5I5Z7JIEI0oETYzxSlC+VF6PvuDFgu09Me95xzs+/H4p7nnfO/3+0rT5Dx7z833JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALDva9O8+IoVn3zxE9n/mFHLUUP6kaPksJa+NGlLkxw6zW08v7zhpFfe+4H3/PLLp70DdmXJH//lfcM37jli2jt4XnkwLQ9n1B9Oaw+k92+l5e6M2lfb+vnvTmvUfpO82LIVnz5myHBChizvPb++OfnZpKcl6dlWI1NtEp6nlhw484Ukx017B+xK27TpjiSvn/YOnmd6krb19W3bn0PST5393/R2e1o25Il+W7tp/u5JTRp7ACxbtfplGfW3tbTfS3JUT578iwCA6npenPTZ9MxmJumnzt6dtKvTt1zZ1l1/zzgvPbYAOOGNl65M2ocyyrKkDeO6DgDsM3qOTvqfJ8Of9VNmb8vQz29rrrtlHJda5ADobfkbV7+5p/1Jel6zuOcGgDKGJCdm1E7sJ89+Menn5cbrbmiL+DP0RQuAE954+dHpl13ceztpsc4JAOW1vDZp/5xTZv+tZ3hPW3fNVxbjtAsOgBUrrlz6RHvsL3ofvT/J/ouwCQB4tl9LRv/ZT529IO3RubZmzaaFnGxB780ff9LqX9jcHrujJ+fGiz8AjNv+6flgRku+1E+e/aWFnGivA+CElavfPjOTLyb5xYUMAAD22DFp+fd+6uwH9vYEexEAvS1fufpjSa5IsnRvLwwALMiS9FzQT3nLx/vc3B6/nu/RN8zOXnvACSsv+4etP/IHAKaun5P/uPOq/uqz9+it+N0OgFWrPn7g9x784Q1JfnOPtwEA49PzW3nJ/32ur1p14O5+y24FwNzc3PDo6AVXJVm51+MAgPHpWZV28NV9dnZmdw7frQC4/Y6XXpBkdkHDAIDxanlzHu4X786huwyA5Ssu+6P0nLPwVQDA2LX2rn7KGb+/q8OeMwCWr7zsdb318xZvFQAwfu38fsoZv/JcR+w0AH71lEte1JNrkhyw6LsAgHHaP71d3U8//bCdHbDTADhg8wGXJP3IscwCAMar5eV5fP8Ld/b0DgNg2cpLT+qtv3V8qwCA8etv66tml+/omWcFwOzstQe0tIvGPwoAGLshF+3oJkHPCoDvPvjDc5IcM5FRAMC4vSqHf/+9z3zwaQGwbNnfL2lu8wsA+5j24T47+4LtH3laAAwHbjkryUsmugkAGLfD80g7c/sHngqAZcvm9uvpH5z8JgBg7Hr/8Pa3CX4qANqBL1uZ5IipjAIAxu3IbGonbftiu7cA+u9MYw0AMDFPvdYPSbJq1WcOTc9p09sDAIxfP72fdtohydYAeGTLpjel5QXP/U0AwE+4gzI68ORkawC0lh3eJQgA2Mf0J1/zt/4OwCAAAKCGJwPg+BWrX+FDfwCgjJ/rb5o9YpgZcuy0lwAAE7SlHzsk7ehp7wAAJmjI0UPSBQAAVNJz9JCen5/2DgBgktpRQ5LDpj0DAJiow4Ykh0x7BQAwUYcIAACo55AhydJprwAAJurgIU/7REAAoIAZL/4AUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFDQkGTLtEcAABO1ZUiyadorAICJemhI8qNprwAAJupHAgAA6nlwSMv3pr0CAJioB4bW29envQIAmKivDen97mmvAAAmqOfuIYMAAIBSWu4eRtny5WnvAAAmaL+ZLw8bb3r3t5J8c9pbAICJ+Hr73NXffvJWwD0bpjwGAJiItiHZ9lkArQkAAKhg63/6hyRZMixZG7cEBoB93cNZ2m9MtgbA+vW//WDr7YbpbgIAxqrln9r8/EPJdh8H3Id+1fQWAQBjN8pTr/U/DoBH778lyb1TGQQAjNs3s/THv/T/VABs3Dj3RFo/fzqbAIAx++s2P79l2xfD9s8saY9enuS/Jz4JABin+zJ66IrtH3haAKxf//7H0tvHJrsJABivfn5bv/6x7R8ZnnnIz7zw0E+05K7JjQIAxujOfOenP/XMB58VAPPzb3k8vb0rSZ/ILABgXHpaf1/70qWbn/nEswIgSTbcctbn0/KP498FAIxNb1e1tddt3NFTOwyAJOmP7ve++JAgAPhJdW+29D/Y2ZM7DYCNG3/3B0Prv5Hk8bHMAgDGZXNGw1vbzfPf39kBOw2AJPnXm87+Ynr7yOLvAgDGp5/b1l9zx3Md8ZwBkCS33XLW3/bkgsUbBQCMT7ukrbvuol0dtcsASJJlx91/bpJrF7wJABijdnVe+6pzdufI3QqAubm50ZLhkbf3tPULGwYAjMm6HNTPbHNzo905eLcCINl6l8DH7jst6X+399sAgMXXP5PvvOj0Nj+/27+4v9+enH7jxrknkn7WCSsv/0HS/3DPBwIAi6rlb7L2ug+3PbyB327/BGC7K/Xbbj7r3CRnJnl4z78fAFgEj6T3d7S18x/a0xf/ZK8C4Em33fyOK3sfvSbJf+3tOQCAvXJXMryu3XjdZXt7gr0OgCTZeMs7v3rwAaPjWtpHkzzrPsMAwKJ6PL39VQ7Kq9u6a76ykBPt0e8A7MiaNe/clOQjx7/hU5fPzAwXp7cVCz0nAPAMPbdnZvTetub6OxfjdAsOgG0+/y/v+nqSlctWXHpqS/vTtLx+sc4NAIV9Icl57cb5dYt50kULgG023nL22iRrl6289KSkfaglJ2aBbzUAQDGj9Nyano+29fMbxnGBRQ+AbTbefPatSW5dfuonXzraPHPGkHZmT44d1/UAYB9wV1q7Nq1f0dbMj/UTeccWANtsWPvu+5NcmOTC5as+/cqM2vL0YXlvfVmSw8d9fQB4HvufpG9Mz4a0vqGtu/6eSV147AGwvQ3r3/mNJN9IsjpJTjzxisP6zGNH9wzH9OQVaaOfaq0dkt4OTvoLJ7mN57fHN4/uTfLQtHfArvSDDvp282+V7bX8MD0/SvJQWvtBMronaV/N/k98rX32sw9Mex4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADsy/4fnvsrs5e+TxsAAAAASUVORK5CYII=",PS="/Animadex/assets/jp-hy7EEbcb.png",th=[{id:"bird",label:"Bird",icon:wS,color:"#436b85ff"},{id:"mammal",label:"Mammal",icon:CS,color:"#9e2424ff"},{id:"reptile",label:"Reptile",icon:RS,color:"#1d7970ff"},{id:"amphibian",label:"Amphibian",icon:IS,color:"#569153ff"},{id:"insect",label:"Insect",icon:DS,color:"#798727ff"},{id:"fish",label:"Fish",icon:NS,color:"#113c80ff"},{id:"other",label:"Other",icon:OS,color:"#9e9e9eff"}],eh=[{id:"observation",label:"observation",icon:VS},{id:"photo",label:"photo",icon:MS},{id:"tracks",label:"tracks",icon:xS}],zS=[{id:"japan",label:"Japan",flagIcon:"../assets/flags/jp.png"},{id:"singapore",label:"Singapore",flagIcon:"../assets/flags/sg.png"}],qd=[{id:"latin",label:"Scientific name",flagIcon:US},{id:"english",label:"English",flagIcon:kS},{id:"french",label:"French",flagIcon:LS},{id:"japanese",label:"Local",flagIcon:PS}];function BS({query:r,setQuery:t,categoryFilter:i,setCategoryFilter:a,captureFilter:l,setCaptureFilter:c,selectedLanguage:d,setLanguage:p}){return Y.jsx("div",{children:Y.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"center"},children:[Y.jsx("input",{type:"text",placeholder:"Search names or locations",value:r,onChange:y=>t(y.target.value),style:{flex:1,minWidth:"160px",maxWidth:"60px",padding:"8px",borderRadius:"6px",border:"1px solid #ccc"}}),Y.jsxs("select",{style:{padding:"8px",borderRadius:"6px",border:"1px solid #ccc"},children:[Y.jsx("option",{value:"",children:"Any country"}),zS.map(y=>Y.jsx("option",{value:y.id,children:y.label},y.id))]}),Y.jsxs("select",{value:i,onChange:y=>a(y.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ccc"},children:[Y.jsx("option",{value:"",children:"All categories"}),th.map(y=>Y.jsx("option",{value:y.id,children:y.label},y.id))]}),Y.jsxs("select",{value:l,onChange:y=>c(y.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ccc"},children:[Y.jsx("option",{value:"",children:"All capture levels"}),eh.map(y=>Y.jsx("option",{value:y.id,children:y.label},y.id))]}),Y.jsxs("select",{value:d,onChange:y=>p(y.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ccc"},children:[Y.jsx("option",{value:"latin",children:"Default (Scientific name)"}),qd.map(y=>Y.jsx("option",{value:y.id,children:y.label},y.id))]})]})})}function jS({categoryCounts:r}){return Y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center",fontSize:"14px"},children:th.map(t=>Y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",opacity:.8},children:[Y.jsx("img",{src:t.icon,width:20,height:20,alt:t.label}),Y.jsx("span",{children:r[t.id]||0})]},t.id))})}function qS({captureCounts:r}){return Y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center"},children:eh.map(t=>Y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",opacity:.8},children:[Y.jsx("img",{src:t.icon,width:20,height:20,alt:t.label}),Y.jsx("span",{children:r[t.id]||0})]},t.id))})}function HS({openAddForm:r,setIsBannerVisible:t}){return Y.jsxs("div",{style:{display:"flex",gap:"16px"},children:[Y.jsx("button",{onClick:r,style:{padding:"8px 16px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:"+ Add"}),Y.jsx("button",{onClick:()=>t(!1),style:{padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:"Hide Banner"})]})}function FS({query:r,setQuery:t,categoryFilter:i,setCategoryFilter:a,captureFilter:l,setCaptureFilter:c,openAddForm:d,categoryCounts:p={},captureCounts:y={},setIsBannerVisible:A,selectedLanguage:T,setLanguage:S}){return Y.jsxs("div",{style:{backgroundColor:"#5a1a1aff",width:"100%",padding:"5px 12px 12px 12px",borderRadius:"12px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)",marginBottom:"0px",display:"flex",flexDirection:"column",gap:"8px"},children:[Y.jsx(BS,{query:r,setQuery:t,categoryFilter:i,setCategoryFilter:a,captureFilter:l,setCaptureFilter:c,selectedLanguage:T,setLanguage:S}),Y.jsx(jS,{categoryCounts:p}),Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"16px",alignItems:"center",fontSize:"14px"},children:[Y.jsx(qS,{captureCounts:y}),Y.jsx(HS,{openAddForm:d,setIsBannerVisible:A})]})]})}function QS(r,t=20){let i=r.replace("#","");i.length===8&&(i=i.slice(0,6));const a=parseInt(i,16);let l=(a>>16)-t,c=(a>>8&255)-t,d=(a&255)-t;return l=Math.max(0,l),c=Math.max(0,c),d=Math.max(0,d),`#${((1<<24)+(l<<16)+(c<<8)+d).toString(16).slice(1)}ff`}function GS(r,t=20){let i=r.replace("#","");i.length===8&&(i=i.slice(0,6));const a=parseInt(i,16);let l=Math.min(255,(a>>16)+t),c=Math.min(255,(a>>8&255)+t),d=Math.min(255,(a&255)+t);return`#${((1<<24)+(l<<16)+(c<<8)+d).toString(16).slice(1)}ff`}const KS="/Animadex/assets/location-CnwObzL2.png",yc="/Animadex/assets/question-j-jc3eFS.png",YS="/Animadex/assets/edit-Cb_IW_6S.png",XS="/Animadex/assets/delete-DCZtocnW.png";function JS({entry:r,onEdit:t,onDelete:i,selectedLanguage:a}){const l=th.find(W=>W.id===r.category),c=l?.color||"#c91f1fff",d=l?.icon,p=QS(c,30),y=GS(c,30),A=eh.find(W=>W.label===r.capture)?.icon,T=qd.find(W=>W.id==="latin"),S=qd.filter(W=>W.id!=="latin"),V=S.filter(W=>W.id!==a),F=a==="french"?r.french:a==="english"?r.english:a==="local"?r.japanese:r.latin;let $;return a==="latin"?$=S:$=[T,...V],Y.jsxs("div",{style:{borderRadius:"20px",border:"4px solid",borderColor:p,padding:"16px",backgroundColor:c,width:"100%",boxSizing:"border-box",boxShadow:"0 4px 10px rgba(0,0,0,0.15)",margin:"0 auto 32px",display:"flex",flexDirection:"column"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",borderRadius:"12px",backgroundColor:y},children:[Y.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",marginLeft:"10px"},children:F}),Y.jsx("img",{src:d||yc,width:32,height:32,style:{borderRadius:"6px",marginRight:"10px"}})]}),Y.jsxs("div",{style:{position:"relative",width:"100%",aspectRatio:"1 / 1",overflow:"hidden",borderRadius:"12px",marginBottom:"12px"},children:[Y.jsx("img",{src:r.image||yc,style:{width:"100%",height:"100%",objectFit:"cover"}}),Y.jsx("img",{src:A||yc,width:40,height:40,style:{position:"absolute",bottom:"8px",right:"8px",background:"rgba(255,255,255,0.85)",padding:"4px",borderRadius:"6px",boxShadow:"0 2px 6px rgba(0,0,0,0.25)"}})]}),Y.jsx("div",{style:{backgroundColor:y,borderRadius:"10px",padding:"8px 12px",marginBottom:"12px",display:"flex",flexDirection:"column",gap:"4px",fontSize:"14px"},children:$.map(W=>Y.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[Y.jsx("img",{src:W.flagIcon,width:20,height:20,style:{marginRight:"8px"}}),Y.jsx("span",{children:r[W.id]})]},W.id))}),Y.jsxs("div",{style:{marginTop:"8px",marginBottom:"12px",fontSize:"14px",display:"flex",alignItems:"center",backgroundColor:y,padding:"4px 8px",borderRadius:"8px"},children:[Y.jsx("img",{src:KS,width:18,height:18,style:{marginRight:"8px"}}),Y.jsx("span",{children:r.locations.join(", ")})]}),Y.jsx("div",{style:{marginTop:"10px",padding:"10px",borderRadius:"10px",backgroundColor:p,fontSize:"14px",lineHeight:"1.4"},children:r.notes}),Y.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"16px",justifyContent:"center",paddingTop:"12px"},children:[Y.jsx("button",{onClick:()=>t(r),style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#f7d438",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:Y.jsx("img",{src:YS,width:24,height:24,alt:"Edit"})}),Y.jsx("button",{onClick:()=>i(r.id),style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#e63939",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:Y.jsx("img",{src:XS,width:24,height:24,alt:"Delete"})}),Y.jsx("button",{onClick:()=>{r.infoLink&&window.open(r.infoLink,"_blank")},style:{width:"48px",height:"48px",borderRadius:"12px",border:"3px solid #3b0a0a",backgroundColor:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",padding:"6px"},children:Y.jsx("img",{src:yc,width:24,height:24,alt:"Info"})})]})]})}function PA({editing:r,setEditing:t,onSubmit:i,onCancel:a,handleImageUpload:l}){const c=ke.useRef();return Y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:Y.jsxs("form",{onSubmit:i,className:"bg-white p-6 rounded shadow w-full max-w-xl space-y-3",children:[Y.jsx("h2",{className:"text-xl font-bold",children:r.id?"Edit entry":"Add entry"}),Y.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Scientific name",value:r.latin,onChange:d=>t({...r,latin:d.target.value}),required:!0}),Y.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"English name",value:r.english,onChange:d=>t({...r,english:d.target.value}),required:!0}),Y.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"French name",value:r.french,onChange:d=>t({...r,french:d.target.value}),required:!0}),Y.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Japanese name",value:r.japanese,onChange:d=>t({...r,japanese:d.target.value}),required:!0}),Y.jsx("select",{className:"border p-2 rounded w-full",value:r.category,onChange:d=>t({...r,category:d.target.value}),children:th.map(d=>Y.jsx("option",{value:d.id,children:d.label},d.id))}),Y.jsx("select",{className:"border p-2 rounded w-full",value:r.capture,onChange:d=>t({...r,capture:d.target.value}),children:eh.map(d=>Y.jsx("option",{value:d.id,children:d.label},d.id))}),Y.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Locations (comma-separated)",value:r.locations.join(", "),onChange:d=>t({...r,locations:d.target.value.split(",").map(p=>p.trim()).filter(p=>p)})}),Y.jsx("input",{type:"date",className:"border p-2 rounded w-full",value:r.date,onChange:d=>t({...r,date:d.target.value})}),Y.jsx("textarea",{className:"border p-2 rounded w-full",placeholder:"Notes",value:r.notes,onChange:d=>t({...r,notes:d.target.value})}),Y.jsx("input",{type:"file",className:"border p-2 rounded w-full",accept:"image/*",ref:c,onChange:d=>l(d.target.files[0])}),Y.jsx("input",{type:"url",className:"border p-2 rounded w-full",placeholder:"Info link (https://example.com)",value:r.infoLink||"",onChange:d=>t({...r,infoLink:d.target.value})}),Y.jsxs("div",{className:"flex gap-2 pt-2 justify-end",children:[Y.jsx("button",{type:"button",className:"px-3 py-2 bg-gray-300 rounded",onClick:a,children:"Cancel"}),Y.jsx("button",{type:"submit",className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})}function ZS({uploading:r,uploaded:t,total:i}){return r?Y.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:Y.jsxs("div",{style:{backgroundColor:"#1e5882ff",padding:"24px",borderRadius:"12px",width:"400px",boxSizing:"border-box",textAlign:"center"},children:[Y.jsx("h2",{style:{marginBottom:"16px"},children:"Uploading Backup"}),Y.jsx("div",{style:{width:"100%",height:"20px",backgroundColor:"#fcfcfcff",borderRadius:"10px",overflow:"hidden",marginBottom:"8px"},children:Y.jsx("div",{style:{width:`${t/i*100}%`,height:"100%",backgroundColor:"#2563eb",transition:"width 0.2s"}})}),Y.jsxs("div",{style:{fontWeight:"bold"},children:[t," / ",i," entries uploaded"]})]})}):null}const WS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARLSURBVHic7ZtdaBRXFIC/qFFjG6OIVhHbiNGiYFJLabFapKlgEaqSgNjXCsEHf2Kpbe1LoX2t0EKLIFYEIbGERPogiiEP/uBTRQsRUfCHtKJF2xiVpCbdbB/OjJmk+zP37LmzC90PDgyzc3535s69Z2agTJn/NZM92V0AvA/UAfeAZ0o7NcAGYCXwF/DUJDqPvAd0ASNAOpABoElhqynQDe2MAJ3AuyaRGrMOOM9YsBPlH2Cbg70PA51s9s4Ba41iL4gFQBvZA43KCPA5UJnDXiXwBePPoFzSBswzzik2Tch1GSfQqFwD9gH1QDUwM9j+NPjN1d6fQLPnXP/DN4pAfcoocACY4jPpkB0JJ+ciR/2lPcaVIiTmIm+4JDPJNXtgvkInSd5yOVhTgKsKnSTpdzlYU4AehU6SXHQ5WFOA8wqdpLgJ3HFR0BTgkUInKe66KmgKMFWhkxRpVwVNAV5X6CTFclcFTQG2KHSSYh6ydPZGPTLtLPZkJ5cc9pX8i0BvCSSYT1LAeuvk5wJnSyC5uHIfeM0i8WlAC/CbUWBDQDuwFagFqoAXgFeRJshPSPvMwtcTZOGWq/+QkRXAl8AZ5J5v9a90AIti+F+CtL6s/N4GvgU2AtPzOd8ODBs6TyPX5K4YiU/kk0DX+tLI2lN8xUPyaWCnIvmQfR7i6SfLirbVg7OOApIPOeEhrt2ZHB02djIMLDYowGLsBsZQfgyNR2eCywyCjdKJDECFchv42cBOlLpwI1qAl42ddBnasi7A81yjBag2dnLJ0NYvhrYgkmtFZOczbJe6VcDfRraqgcdGtkDGp2kw/gyoyHysmrShrZShLZAFHTC+AIPGThYa2rLuRA+EG9ECWJ5iAG+WqC2IdI6jBegzdrLZ0Jbm8XouboUbkzLtNKKZeIuffNRiW0yAG+FGtACnjZ1UIquwQjmAfSP2Qqadk5EiWM+7WwsIdK+HeC4T3AIzMQXYg3R/Bo0cppRF2Itt/3EEmZ3GvqNUAu8g01CLQLqIN92uDY61SHoQ+B74AJgVN/FMbEFaTIUGNAwcR9pfdci1XRNsbwt+s1r5nURe4TFjDX4aJj7kCJ5eAdxfAsnlk8vE6P1pmYG8lFTsJHOJ+TOBiRwqgSSzyXUcF3WaZ4O/KnSS4iJSiNhoCnBfoZMUd1wVNAWYo9BJiipXBU0B6hU6SbHUt4MK4HeKP9hlkwEcF06uZ0ADtp0ea2YCq1wUXAtgOrX0xGyXg10L0It9g9KSYeRVXq98R/Gv9WzytWsymgVDNzIlXo2+lT6KdGW6A7mFnI0vKe2lkHcavlLqq9gEPMDtHxoFfiB7X6AB965UH9BonVxc5gLH8gQYyiDyJVkcPo5hLwUcREb+orOG3C9RpXD/rOWzHPZOUaITskaknRX94msI+EhprwVZe4RnUDuOH0Tkw/p5YMhC4G2kr9gD/FGArXBwfIg0NsuUKWPHvwcFVe6QGLqDAAAAAElFTkSuQmCC";function $S({downloadEntries:r,loadBackup:t}){const[i,a]=ke.useState(!1),l=ke.useRef(),c=()=>{l.current.click()};return Y.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[Y.jsx("button",{onClick:()=>a(d=>!d),style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",cursor:"pointer"},title:"Admin actions",children:Y.jsx("img",{src:WS,alt:"Admin menu",width:24,height:24})}),i&&Y.jsxs("div",{style:{position:"absolute",top:"calc(100% + 8px)",right:0,backgroundColor:"#f9f9f9",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)",zIndex:1e3,padding:"8px",display:"flex",flexDirection:"column",gap:"8px"},children:[Y.jsx("button",{onClick:r,style:{padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",backgroundColor:"#4b4b4bff",color:"white",fontWeight:"bold"},children:"Download Backup"}),Y.jsx("button",{onClick:c,style:{padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",backgroundColor:"#f59e0b",color:"white",fontWeight:"bold"},children:"Upload Backup"}),Y.jsx("input",{type:"file",accept:"application/json",ref:l,style:{display:"none"},onChange:t})]})]})}const zA=[{id:"1",image:"",latin:"",english:"Great Egret",french:"Grande aigrette",japanese:"",category:"bird",locations:["Hyogo, Rokko"],capture:"photo",date:"2025-11-16",notes:"Seen near the port."}],tb=()=>{};var BA={};const hv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},eb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,A=y?r[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|A>>6,F=A&63;y||(F=64,d||(V=64)),a.push(i[T],i[S],i[V],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(hv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):eb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const A=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||A==null||S==null)throw new nb;const V=c<<2|p>>4;if(a.push(V),A!==64){const F=p<<4&240|A>>2;if(a.push(F),S!==64){const $=A<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ib=function(r){const t=hv(r);return fv.encodeByteArray(t,!0)},xc=function(r){return ib(r).replace(/\./g,"")},dv=function(r){try{return fv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sb=()=>rb().__FIREBASE_DEFAULTS__,ab=()=>{if(typeof process>"u"||typeof BA>"u")return;const r=BA.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ob=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&dv(r[1]);return t&&JSON.parse(t)},nh=()=>{try{return tb()||sb()||ab()||ob()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mv=r=>nh()?.emulatorHosts?.[r],lb=r=>{const t=mv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},gv=()=>nh()?.config,pv=r=>nh()?.[`_${r}`];class ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function $a(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yv(r){return(await fetch(r,{credentials:"include"})).ok}function cb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const yl={};function hb(){const r={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?r.emulator.push(t):r.prod.push(t);return r}function fb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let jA=!1;function Av(r,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||yl[r]===t||yl[r]||jA)return;yl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=hb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function A(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{jA=!0,d()},V}function T(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=fb(a),F=i("text"),$=document.getElementById(F)||document.createElement("span"),W=i("learnmore"),tt=document.getElementById(W)||document.createElement("a"),ht=i("preprendIcon"),At=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),T(tt,W);const qt=A();y(At,ht),dt.append(At,$,tt,qt),document.body.appendChild(dt)}c?($.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function mb(){const r=nh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ab(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _b(){return!mb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vb(){try{return typeof indexedDB=="object"}catch{return!1}}function Eb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Tb="FirebaseError";class ir extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Tb,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Sb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,a)}}function Sb(r,t){return r.replace(bb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const bb=/\{\$([^}]+)}/g;function wb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ls(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(qA(c)&&qA(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function qA(r){return r!==null&&typeof r=="object"}function Vl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Cb(r,t){const i=new Rb(r,t);return i.subscribe.bind(i)}class Rb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Ib(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ib(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Dd(){}function We(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class Db{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ub;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ob(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Nb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nb(r){return r===Vs?void 0:r}function Ob(r){return r.instantiationMode==="EAGER"}class Vb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Db(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Mb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},xb=Ot.INFO,Ub={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},kb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Ub[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=xb,this._logHandler=kb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const Lb=(r,t)=>t.some(i=>r instanceof i);let HA,FA;function Pb(){return HA||(HA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return FA||(FA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,Hd=new WeakMap,vv=new WeakMap,Nd=new WeakMap,pm=new WeakMap;function Bb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_v.set(i,r)}).catch(()=>{}),pm.set(t,r),t}function jb(r){if(Hd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Hd.set(r,t)}let Fd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Hd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||vv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function qb(r){Fd=r(Fd)}function Hb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Od(this),t,...i);return vv.set(a,t.sort?t.sort():[t]),qr(a)}:zb().includes(r)?function(...t){return r.apply(Od(this),t),qr(_v.get(this))}:function(...t){return qr(r.apply(Od(this),t))}}function Fb(r){return typeof r=="function"?Hb(r):(r instanceof IDBTransaction&&jb(r),Lb(r,Pb())?new Proxy(r,Fd):r)}function qr(r){if(r instanceof IDBRequest)return Bb(r);if(Nd.has(r))return Nd.get(r);const t=Fb(r);return t!==r&&(Nd.set(r,t),pm.set(t,r)),t}const Od=r=>pm.get(r);function Qb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=qr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(qr(d.result),y.oldVersion,y.newVersion,qr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",A=>l(A.oldVersion,A.newVersion,A))}).catch(()=>{}),p}const Gb=["get","getKey","getAll","getAllKeys","count"],Kb=["put","add","delete","clear"],Vd=new Map;function QA(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Kb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Gb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let A=y.store;return a&&(A=A.index(p.shift())),(await Promise.all([A[i](...p),l&&y.done]))[0]};return Vd.set(t,c),c}qb(r=>({...r,get:(t,i,a)=>QA(t,i)||r.get(t,i,a),has:(t,i)=>!!QA(t,i)||r.has(t,i)}));class Yb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Xb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Xb(r){return r.getComponent()?.type==="VERSION"}const Qd="@firebase/app",GA="0.14.6";const $i=new gm("@firebase/app"),Jb="@firebase/app-compat",Zb="@firebase/analytics-compat",Wb="@firebase/analytics",$b="@firebase/app-check-compat",t1="@firebase/app-check",e1="@firebase/auth",n1="@firebase/auth-compat",i1="@firebase/database",r1="@firebase/data-connect",s1="@firebase/database-compat",a1="@firebase/functions",o1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",f1="@firebase/performance",d1="@firebase/performance-compat",m1="@firebase/remote-config",g1="@firebase/remote-config-compat",p1="@firebase/storage",y1="@firebase/storage-compat",A1="@firebase/firestore",_1="@firebase/ai",v1="@firebase/firestore-compat",E1="firebase",T1="12.6.0";const Gd="[DEFAULT]",S1={[Qd]:"fire-core",[Jb]:"fire-core-compat",[Wb]:"fire-analytics",[Zb]:"fire-analytics-compat",[t1]:"fire-app-check",[$b]:"fire-app-check-compat",[e1]:"fire-auth",[n1]:"fire-auth-compat",[i1]:"fire-rtdb",[r1]:"fire-data-connect",[s1]:"fire-rtdb-compat",[a1]:"fire-fn",[o1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[f1]:"fire-perf",[d1]:"fire-perf-compat",[m1]:"fire-rc",[g1]:"fire-rc-compat",[p1]:"fire-gcs",[y1]:"fire-gcs-compat",[A1]:"fire-fst",[v1]:"fire-fst-compat",[_1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};const Uc=new Map,b1=new Map,Kd=new Map;function KA(r,t){try{r.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(Kd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,r);for(const i of Uc.values())KA(i,r);for(const i of b1.values())KA(i,r);return!0}function ym(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}const w1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Ol("app","Firebase",w1);class C1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const to=T1;function Ev(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Gd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=gv()),!i)throw Hr.create("no-options");const c=Uc.get(l);if(c){if(Ls(i,c.options)&&Ls(a,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new Vb(l);for(const y of Kd.values())d.addComponent(y);const p=new C1(i,a,d);return Uc.set(l,p),p}function Tv(r=Gd){const t=Uc.get(r);if(!t&&r===Gd&&gv())return Ev();if(!t)throw Hr.create("no-app",{appName:r});return t}function Fr(r,t,i){let a=S1[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Qa(new Ps(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const R1="firebase-heartbeat-database",I1=1,Sl="firebase-heartbeat-store";let Md=null;function Sv(){return Md||(Md=Qb(R1,I1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Sl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),Md}async function D1(r){try{const i=(await Sv()).transaction(Sl),a=await i.objectStore(Sl).get(bv(r));return await i.done,a}catch(t){if(t instanceof ir)$i.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function YA(r,t){try{const a=(await Sv()).transaction(Sl,"readwrite");await a.objectStore(Sl).put(t,bv(r)),await a.done}catch(i){if(i instanceof ir)$i.warn(i.message);else{const a=Hr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function bv(r){return`${r.name}!${r.options.appId}`}const N1=1024,O1=30;class V1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new x1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=XA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>O1){const l=U1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=XA(),{heartbeatsToSend:i,unsentEntries:a}=M1(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function XA(){return new Date().toISOString().substring(0,10)}function M1(r,t=N1){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),JA(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),JA(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class x1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vb()?Eb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await D1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return YA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return YA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function JA(r){return xc(JSON.stringify({version:2,heartbeats:r})).length}function U1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function k1(r){Qa(new Ps("platform-logger",t=>new Yb(t),"PRIVATE")),Qa(new Ps("heartbeat",t=>new V1(t),"PRIVATE")),Fr(Qd,GA,r),Fr(Qd,GA,"esm2020"),Fr("fire-js","")}k1("");var L1="firebase",P1="12.6.0";Fr(L1,P1,"app");var ZA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,wv;(function(){var r;function t(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,D,U){for(var w=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)w[Yt-2]=arguments[Yt];return b.prototype[D].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)M[D]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],D=I.g[2];let U=I.g[3],w;w=b+(U^R&(D^U))+M[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(D^b&(R^D))+M[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(R^U&(b^R))+M[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(b^D&(U^b))+M[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(U^R&(D^U))+M[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(D^b&(R^D))+M[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(R^U&(b^R))+M[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(b^D&(U^b))+M[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(U^R&(D^U))+M[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(D^b&(R^D))+M[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(R^U&(b^R))+M[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(b^D&(U^b))+M[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(U^R&(D^U))+M[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(D^b&(R^D))+M[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(R^U&(b^R))+M[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(b^D&(U^b))+M[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=b+(D^U&(R^D))+M[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(b^R))+M[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(U^b))+M[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(D^U))+M[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(R^D))+M[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(b^R))+M[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(U^b))+M[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(D^U))+M[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(R^D))+M[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(b^R))+M[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(U^b))+M[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(D^U))+M[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(R^D))+M[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(b^R))+M[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^R&(U^b))+M[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(D^U))+M[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=b+(R^D^U)+M[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^D)+M[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^R)+M[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^b)+M[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(R^D^U)+M[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^D)+M[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^R)+M[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^b)+M[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(R^D^U)+M[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^D)+M[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^R)+M[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^b)+M[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(R^D^U)+M[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^D)+M[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^R)+M[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^b)+M[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=b+(D^(R|~U))+M[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~D))+M[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~R))+M[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~b))+M[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=b+(D^(R|~U))+M[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~D))+M[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~R))+M[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~b))+M[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=b+(D^(R|~U))+M[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~D))+M[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~R))+M[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~b))+M[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=b+(D^(R|~U))+M[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~D))+M[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~R))+M[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<b;){if(D==0)for(;U<=R;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(M[D++]=I.charCodeAt(U++),D==this.blockSize){l(this,M),D=0;break}}else for(;U<b;)if(M[D++]=I[U++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[b++]=this.g[R]>>>M&255;return I};function c(I,b){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function d(I,b){this.h=b;const R=[];let M=!0;for(let D=I.length-1;D>=0;D--){const U=I[D]|0;M&&U==b||(R[D]=U,M=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function A(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return tt(A(-I));const b=[];let R=1;for(let M=0;I>=R;M++)b[M]=I/R|0,R*=4294967296;return new d(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return tt(T(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=A(Math.pow(b,8));let M=S;for(let U=0;U<I.length;U+=8){var D=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+D),b);D<8?(D=A(Math.pow(b,D)),M=M.j(D).add(A(w))):(M=M.j(R),M=M.add(A(w)))}return M}var S=y(0),V=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-tt(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(W(this))return"-"+tt(this).toString(I);const b=A(Math.pow(I,6));var R=this;let M="";for(;;){const D=qt(R,b).g;R=ht(R,D.j(b));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,$(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=ht(this,I),W(I)?-1:$(I)?0:1};function tt(I){const b=I.g.length,R=[];for(let M=0;M<b;M++)R[M]=~I.g[M];return new d(R,~I.h).add(V)}r.abs=function(){return W(this)?tt(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let D=0;D<=b;D++){let U=M+(this.i(D)&65535)+(I.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=w>>>16,U&=65535,w&=65535,R[D]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ht(I,b){return I.add(tt(b))}r.j=function(I){if($(this)||$(I))return S;if(W(this))return W(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(W(I))return tt(this.j(tt(I)));if(this.l(F)<0&&I.l(F)<0)return A(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const U=this.i(M)>>>16,w=this.i(M)&65535,Yt=I.i(D)>>>16,oe=I.i(D)&65535;R[2*M+2*D]+=w*oe,At(R,2*M+2*D),R[2*M+2*D+1]+=U*oe,At(R,2*M+2*D+1),R[2*M+2*D+1]+=w*Yt,At(R,2*M+2*D+1),R[2*M+2*D+2]+=U*Yt,At(R,2*M+2*D+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new d(R,0)};function At(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function dt(I,b){this.g=I,this.h=b}function qt(I,b){if($(b))throw Error("division by zero");if($(I))return new dt(S,S);if(W(I))return b=qt(tt(I),b),new dt(tt(b.g),tt(b.h));if(W(b))return b=qt(I,tt(b)),new dt(tt(b.g),b.h);if(I.g.length>30){if(W(I)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=b;M.l(I)<=0;)R=Ht(R),M=Ht(M);var D=xt(R,1),U=xt(M,1);for(M=xt(M,2),R=xt(R,2);!$(M);){var w=U.add(M);w.l(I)<=0&&(D=D.add(R),U=w),M=xt(M,1),R=xt(R,1)}return b=ht(I,D.j(b)),new dt(D,b)}for(D=S;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=A(R),w=U.j(b);W(w)||w.l(I)>0;)R-=M,U=A(R),w=U.j(b);$(U)&&(U=V),D=D.add(U),I=ht(I,w)}return new dt(D,I)}r.B=function(I){return qt(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&I.i(M);return new d(R,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|I.i(M);return new d(R,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^I.i(M);return new d(R,this.h^I.h)};function Ht(I){const b=I.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(R,I.h)}function xt(I,b){const R=b>>5;b%=32;const M=I.g.length-R,D=[];for(let U=0;U<M;U++)D[U]=b>0?I.i(U+R)>>>b|I.i(U+R+1)<<32-b:I.i(U+R);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,wv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=A,d.fromString=T,Qr=d}).apply(typeof ZA<"u"?ZA:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cv,dl,Rv,bc,Yd,Iv,Dv,Nv;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var k=u[E];if(!(k in _))break t;_=_[k]}u=u[u.length-1],E=_[u],m=m(E),m!=E&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&_.push([E,m[E]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function A(u,m,_){return A=y,A.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(E,k,j){for(var et=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)et[Tt-2]=arguments[Tt];return m.prototype[k].apply(E,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let E=0;E<m;E++)_[E]=u[E];return _}return[]}function $(u,m){for(let E=1;E<arguments.length;E++){const k=arguments[E];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=u.length||0;const j=k.length||0;u.length=_+j;for(let et=0;et<j;et++)u[_+et]=k[et]}else u.push(k)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,_){const E=dt.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var dt=new W(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,xt=!1,I=new At,b=()=>{const u=Promise.resolve(void 0);Ht=()=>{u.then(R)}};function R(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){tt(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Yt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Yt,D),Yt.prototype.init=function(u,m){const _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),L=0;function Z(u,m,_,E,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=k,this.key=++L,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gt(u,m,_){for(const E in u)m.call(_,u[E],E,u)}function Ct(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,E;for(let k=1;k<arguments.length;k++){E=arguments[k];for(_ in E)u[_]=E[_];for(let j=0;j<G.length;j++)_=G[j],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,E,k){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const et=bt(u,m,E,k);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new Z(m,this.src,j,!!E,k),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var E=u.g[_],k=Array.prototype.indexOf.call(E,m,void 0),j;(j=k>=0)&&Array.prototype.splice.call(E,k,1),j&&(it(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bt(u,m,_,E){for(let k=0;k<u.length;++k){const j=u[k];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==E)return k}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,_,E,k){if(Array.isArray(m)){for(let j=0;j<m.length;j++)re(u,m[j],_,E,k);return null}return _=lo(_),u&&u[oe]?u.J(m,_,p(E)?!!E.capture:!1,k):es(u,m,_,!1,E,k)}function es(u,m,_,E,k,j){if(!m)throw Error("Invalid event type");const et=p(k)?!!k.capture:!!k;let Tt=ns(u);if(Tt||(u[kt]=Tt=new st(u)),_=Tt.add(m,_,E,et,j),_.proxy)return _;if(E=Gs(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)U||(k=et),k===void 0&&(k=!1),u.addEventListener(m.toString(),E,k);else if(u.attachEvent)u.attachEvent($n(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gs(){function u(_){return m.call(u.src,u.listener,_)}const m=ao;return u}function Ks(u,m,_,E,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)Ks(u,m[j],_,E,k);else E=p(E)?!!E.capture:!!E,_=lo(_),u&&u[oe]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=bt(m,_,E,k),_>-1&&(it(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,_,E,k)),(_=u>-1?m[u]:null)&&Ys(_))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])yt(m.i,u);else{var _=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(_,E,u.capture):m.detachEvent?m.detachEvent($n(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=ns(m))?(yt(_,u),_.h==0&&(_.src=null,m[kt]=null)):it(u)}}}function $n(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ao(u,m){if(u.da)u=!0;else{m=new Yt(m,this);const _=u.listener,E=u.ha||u.src;u.fa&&Ys(u),u=_.call(E,m)}return u}function ns(u){return u=u[kt],u instanceof st?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function pe(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(pe,M),pe.prototype[oe]=!0,pe.prototype.removeEventListener=function(u,m,_,E){Ks(this,u,m,_,E)};function De(u,m){var _,E=u.G;if(E)for(_=[];E;E=E.G)_.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var k=m;m=new D(E,u),nt(m,k)}k=!0;let j,et;if(_)for(et=_.length-1;et>=0;et--)j=m.g=_[et],k=rr(j,E,!0,m)&&k;if(j=m.g=u,k=rr(j,E,!0,m)&&k,k=rr(j,E,!1,m)&&k,_)for(et=0;et<_.length;et++)j=m.g=_[et],k=rr(j,E,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let E=0;E<_.length;E++)it(_[E]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,E){return this.i.add(String(u),m,!1,_,E)},pe.prototype.K=function(u,m,_,E){return this.i.add(String(u),m,!0,_,E)};function rr(u,m,_,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let j=0;j<m.length;++j){const et=m[j];if(et&&!et.da&&et.capture==_){const Tt=et.listener,fe=et.ha||et.src;et.fa&&yt(u.i,et),k=Tt.call(fe,E)!==!1&&k}}return k&&!E.defaultPrevented}function bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ql(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){M.call(this),this.h=u,this.g={}}S(is,M);var uo=[];function co(u){gt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ys(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),co(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,wh=d.JSON.parse,Hl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}S(Pe,D);function Tn(){D.call(this,"c")}S(Tn,D);var he={},Gl=null;function Xs(){return Gl=Gl||new pe}he.Ia="serverreachability";function Kl(u){D.call(this,he.Ia,u)}S(Kl,D);function ti(u){const m=Xs();De(m,new Kl(m))}he.STAT_EVENT="statevent";function rs(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}S(rs,D);function ye(u){const m=Xs();De(m,new rs(m,u))}he.Ja="timingevent";function ei(u,m){D.call(this,he.Ja,u),this.size=m}S(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ch(u,m,_,E,k,j){u.info(function(){if(u.g)if(j){var et="",Tt=j.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var fe=Tt[Bt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Cn=se.split("_");et=Cn.length>=2&&Cn[1]=="type"?et+(se+"="+fe+"&"):et+(se+"=redacted&")}}}else et=null;else et=j;return"XMLHTTP REQ ("+E+") [attempt "+k+"]: "+m+`
`+_+`
`+et})}function Yl(u,m,_,E,k,j,et){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+k+"]: "+m+`
`+_+`
`+j+" "+et})}function ii(u,m,_,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Rh(u,_)+(E?" "+E:"")})}function ss(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Rh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var E=_[1];if(Array.isArray(E)&&!(E.length<1)){var k=E[0];if(k!="noop"&&k!="stop"&&k!="close")for(let et=1;et<E.length;et++)E[et]=""}}}}return sr(j)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function os(){}S(os,Fl),os.prototype.g=function(){return new XMLHttpRequest},fo=new os;function Ni(u){return encodeURIComponent(String(u))}function Xl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function zn(u,m,_,E){this.j=u,this.i=m,this.l=_,this.S=E||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ae={},Me={};function ri(u,m,_){u.M=1,u.A=ls(ve(m)),u.u=_,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),si(u),u.B=ve(u.A);var _=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),ta(_.i,"t",E),u.C=0,_=u.j.L,u.h=new Bn,u.g=cu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(A(u.Y,u,u.g),u.P)),m=u.V,_=u.g,E=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(uo[0]=k.toString()),k=uo);for(let j=0;j<k.length;j++){const et=re(_,k[j],E||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Ch(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||fe==7||(fe==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var _=Ih(this);if(this.o=m==200,Yl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,k=this.g;if((E=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var j=E;break e}}j=null}if(u=j)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<_.length;)if(se=Zl(this,_),se==Me){Tt==4&&(this.m=4,ye(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(se==Ae){this.m=4,ye(15),ii(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,se,null),oi(this,se);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Io(et),et.P=!0,ye(11))}}else ii(this.i,this.l,_,null),oi(this,_);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?au(this.j,this):(this.o=!1,si(this)))}else Vi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),Sn(this)}}}catch{}finally{}};function Ih(u){if(!Jl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const E=m.length,k=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<E;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(k&&j==E-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var _=u.C,E=m.indexOf(`
`,_);return E==-1?Me:(_=Number(m.substring(_,E)),isNaN(_)?Ae:(E+=1,E+_>m.length?Me:(m=m.slice(E,E+_),u.C=E+_,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,Zs(u,u.H)}function Zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(A(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&(ti(),ye(17)),fn(this),this.m=2,Sn(this)):Zs(this,this.T-u)};function Sn(u){u.j.I==0||u.K||au(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ui(_.h,u))){if(!u.L&&ui(_.h,u)&&_.I==3){try{var E=_.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var k=E;if(k[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)sa(_),dr(_);else break t;gs(_),ye(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ni(A(_.Va,_),6e3));li(_.h)<=1&&_.ta&&(_.ta=void 0)}else gi(_,11)}else if((u.L||_.g==u)&&sa(_),!w(m))for(k=_.Ba.g.parse(m),m=0;m<k.length;m++){let Bt=k[m];const se=Bt[0];if(!(se<=_.K))if(_.K=se,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const pi=Bt[4];pi!=null&&(_.za=pi,_.j.info("SVER="+_.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(E=1.5*Fn,_.O=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Qn=u.g;if(Qn){const ps=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var j=E.h;j.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(po(j,j.h),j.h=null))}if(E.G){const aa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(E.wa=aa,Qt(E.J,E.G,aa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),E=_;var et=u;if(E.na=uu(E,E.L?E.ba:null,E.W),et.L){yo(E.h,et);var Tt=et,fe=E.O;fe&&(Tt.H=fe),Tt.D&&(ai(Tt),si(Tt)),E.g=et}else ru(E);_.i.length>0&&mi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(_,7):Co(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}ti(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const E=u[_].indexOf("=");let k,j=null;E>=0?(k=u[_].substring(0,E),j=u[_].substring(E+1)):k=u[_],m(k,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,_o(this,nu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),ar(this,m[4]),this.h=ci(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(us(m,$s,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(us(m,$s,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(us(_,_.charAt(0)=="/"?vo:$l,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",us(_,tu)),u.join("")},dn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?xe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var E=u.h;if(_)ar(m,u.u);else if(_=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var k=m.h.lastIndexOf("/");k!=-1&&(E=m.h.slice(0,k+1)+E)}if(k=E,k==".."||k==".")E="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){E=k.lastIndexOf("/",0)==0,k=k.split("/");const j=[];for(let et=0;et<k.length;){const Tt=k[et++];Tt=="."?E&&et==k.length&&j.push(""):Tt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),E&&et==k.length&&j.push("")):(j.push(Tt),E=!0)}E=j.join("/")}else E=k}return _?m.h=E:_=u.i.toString()!=="",_?_o(m,nu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new dn(u)}function xe(u,m,_){u.j=_?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,_){m instanceof lr?(u.i=m,ea(u.i,u.l)):(_||(m=us(m,or)),u.i=new lr(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function ls(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function us(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,$l=/[#\?:]/g,vo=/[#\?]/g,or=/[#\?@]/g,tu=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=lr.prototype,r.add=function(u,m){rn(this),this.i=null,u=ur(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function eu(u,m){rn(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return rn(u),m=ur(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,E){_.forEach(function(k){u.call(m,k,E,this)},this)},this)};function To(u,m){rn(u);let _=[];if(typeof m=="string")Eo(u,m)&&(_=_.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=ur(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,_){eu(u,m),_.length>0&&(u.i=null,u.g.set(ur(u,m),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var _=m[E];const k=Ni(_);_=To(this,_);for(let j=0;j<_.length;j++){let et=k;_[j]!==""&&(et+="="+Ni(_[j])),u.push(et)}}return this.i=u.join("&")};function nu(u){const m=new lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,E){const k=E.toLowerCase();E!=k&&(eu(this,E),ta(this,k,_))},u)),u.j=m}function jn(u,m){const _=new Pn;if(d.Image){const E=new Image;E.onload=T(bn,_,"TestLoadImage: loaded",!0,m,E),E.onerror=T(bn,_,"TestLoadImage: error",!1,m,E),E.onabort=T(bn,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=T(bn,_,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function So(u,m){const _=new Pn,E=new AbortController,k=setTimeout(()=>{E.abort(),bn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(j=>{clearTimeout(k),j.ok?bn(_,"TestPingServer: ok",!0,m):bn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),bn(_,"TestPingServer: error",!1,m)})}function bn(u,m,_,E,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),E(_)}catch{}}function cr(){this.g=new Hl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(hi,Fl),hi.prototype.g=function(){return new cs(this.i,this.h)};function cs(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cs,pe),r=cs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):qn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},r.Na=function(u){this.g&&(this.response=u,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return gt(u,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function hs(u,m,_){t:{for(E in _){var E=!1;break t}E=!0}E||(_=wn(_),typeof u=="string"?_!=null&&Ni(_):Qt(u,m,_))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,pe);var fi=/^https?$/i,bo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=V(A(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){fs(this,j);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var k in E)_.set(k,E[k]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())_.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||E||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,et]of _)this.g.setRequestHeader(j,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){fs(this,j)}};function fs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Oi(u)}function wo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},r.Xa=function(){ds(this)};function ds(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var E;if(E=j===0){let et=String(u.D).match(Wl)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),E=!fi.test(et?et.toLowerCase():"")}_=E}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var k=Hn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",wo(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var _=Xl(u[E]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[k]||[];m[k]=j,j.push(_)}Ct(m,function(E){return E.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,E){ye(0),this.W=u,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.J=uu(this,null,this.W),mi(this)};function Co(u){if(ia(u),u.I==3){var m=u.V++,_=ve(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),ms(u,_),m=new zn(u,u.j,m),m.M=2,m.A=ls(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}lu(u)}function dr(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ia(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ht||b(),xt||(Ht(),xt=!0),I.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(A(u.Ea,u,m),ou(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new zn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(k.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=iu(this,k,m),_=ve(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),ms(this,_),j&&(this.R?m="headers="+Ni(wn(j))+"&"+m:this.u&&hs(_,this.u,j)),po(this.h,k),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),k.U=!0,ri(k,_,null)):ri(k,_,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||go(this.h)||Ro(this))};function Ro(u,m){var _;m?_=m.l:_=u.V++;const E=ve(u.J);Qt(E,"SID",u.M),Qt(E,"RID",_),Qt(E,"AID",u.K),ms(u,E),u.u&&u.o&&hs(E,u.u,u.o),_=new zn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=iu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,_),ri(_,E,m)}function ms(u,m){u.H&&gt(u.H,function(_,E){Qt(m,E,_)}),u.l&&gt({},function(_,E){Qt(m,E,_)})}function iu(u,m,_){_=Math.min(u.i.length,_);const E=u.l?A(u.l.Ka,u.l,u):null;t:{var k=u.i;let Tt=-1;for(;;){const fe=["count="+_];Tt==-1?_>0?(Tt=k[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let Bt=!0;for(let se=0;se<_;se++){var j=k[se].g;const Cn=k[se].map;if(j-=Tt,j<0)Tt=Math.max(0,k[se].g-100),Bt=!1;else try{j="req"+j+"_"||"";try{var et=Cn instanceof Map?Cn:Object.entries(Cn);for(const[pi,Fn]of et){let Qn=Fn;p(Fn)&&(Qn=sr(Fn)),fe.push(j+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw fe.push(j+"type="+encodeURIComponent("_badmap")),pi}}catch{E&&E(Cn)}}if(Bt){et=fe.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ht||b(),xt||(Ht(),xt=!0),I.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(A(u.Da,u),ou(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(A(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),dr(this),su(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),ms(u,m),u.u&&u.o&&hs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ls(ve(m)),_.u=null,_.R=!0,Js(_,u)}r.Va=function(){this.C!=null&&(this.C=null,dr(this),gs(this),ye(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function au(u,m){var _=null;if(u.g==m){sa(u),Io(u),u.g=null;var E=2}else if(ui(u.h,m))_=m.G,yo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;E=Xs(),De(E,new ei(E,_)),mi(u)}else ru(u);else if(k=m.m,k==3||k==0&&m.X>0||!(E==1&&ra(u,m)||E==2&&gs(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),k){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function ou(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var _=A(u.bb,u),E=u.Ua;const k=!E;E=new dn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(E,"https"),ls(E),k?jn(E.toString(),_):So(E.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),lu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function uu(u,m,_){var E=_ instanceof dn?ve(_):new dn(_);if(E.g!="")m&&(E.g=m+"."+E.g),ar(E,E.u);else{var k=d.location;E=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const j=new dn(null);E&&xe(j,E),m&&(j.g=m),k&&ar(j,k),_&&(j.h=_),E=j}return _=u.G,m=u.wa,_&&m&&Qt(E,_,m),Qt(E,"VER",u.ka),ms(u,E),E}function cu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new hi({ab:_})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}r=hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Co(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=sr(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,tn.Z.N.call(this)};function fu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(fu,Pe);function du(){Tn.call(this),this.status=1}S(du,Tn);function Mi(u){this.g=u}S(Mi,hu),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new fu(u))},Mi.prototype.pa=function(u){De(this.g,new du)},Mi.prototype.oa=function(){De(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Nv=function(){return new mr},Dv=function(){return Xs()},Iv=he,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,bc=as,ho.COMPLETE="complete",Rv=ho,Ql.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,dl=Ql,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,Cv=Xt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const WA="@firebase/firestore",$A="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let eo="12.3.0";const zs=new gm("@firebase/firestore");function ka(){return zs.logLevel}function rt(r,...t){if(zs.logLevel<=Ot.DEBUG){const i=t.map(Am);zs.debug(`Firestore (${eo}): ${r}`,...i)}}function tr(r,...t){if(zs.logLevel<=Ot.ERROR){const i=t.map(Am);zs.error(`Firestore (${eo}): ${r}`,...i)}}function Ga(r,...t){if(zs.logLevel<=Ot.WARN){const i=t.map(Am);zs.warn(`Firestore (${eo}): ${r}`,...i)}}function Am(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Ov(r,a,i)}function Ov(r,t,i){let a=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw tr(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Ov(t,l,a)}function Et(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Vv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class B1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class j1{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new Vv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class q1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new q1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Q1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class _m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Q1(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function Xd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return xd(l)===xd(c)?Vt(l,c):xd(l)?1:-1}return Vt(r.length,t.length)}const G1=55296,K1=57343;function xd(r){const t=r.charCodeAt(0);return t>=G1&&t<=K1}function Ka(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const e_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Xd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class ne extends Ei{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const Y1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return Y1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new Qe([e_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ne.fromString(t))}static fromName(t){return new ct(ne.fromString(t).popFirst(5))}static empty(){return new ct(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ne(t.slice()))}}function Mv(r,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function X1(r,t,i,a){if(t===!0&&a===!0)throw new ot(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function n_(r){if(!ct.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function i_(r){if(ct.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function Wn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vm(r);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ml(r,t){if(!xv(r))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const r_=-62135596800,s_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*s_);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<r_)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ml(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-r_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bl=-1;function J1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Kr(l,ct.empty(),t)}function Z1(r){return new Kr(r.readTime,r.key,bl)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(_t.min(),ct.empty(),bl)}static max(){return new Kr(_t.max(),ct.empty(),bl)}}function W1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const $1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==$1)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const A=y;i(t[A]).next((T=>{d[A]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function ew(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(r){return r.name==="IndexedDbTransactionError"}class ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ih.ce=-1;const Em=-1;function rh(r){return r==null}function kc(r){return r===0&&1/r==-1/0}function nw(r){return typeof r=="number"&&Number.isInteger(r)&&!kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Uv="";function iw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=a_(t)),t=rw(r.get(i),t);return a_(t)}function rw(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Uv:i+="";break;default:i+=c}}return i}function a_(r){return r+Uv+""}function o_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function $r(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function kv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(t){return new l_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class l_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new En([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Lv("Invalid base64 string: "+c):c}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=sw.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}const Pv="server_timestamp",zv="__type__",Bv="__previous_value__",jv="__local_write_time__";function Tm(r){return(r?.mapValue?.fields||{})[zv]?.stringValue===Pv}function sh(r){const t=r.mapValue.fields[Bv];return Tm(t)?sh(t):t}function wl(r){const t=Yr(r.mapValue.fields[jv].timestampValue);return new ie(t.seconds,t.nanos)}class aw{constructor(t,i,a,l,c,d,p,y,A,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=A,this.isUsingEmulator=T}}const Lc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const qv="__type__",ow="__max__",vc={mapValue:{}},Hv="__vector__",Pc="value";function Jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tm(r)?4:uw(r)?9007199254740991:lw(r)?10:11:mt(28295,{value:r})}function Ri(r,t){if(r===t)return!0;const i=Jr(r);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wl(r).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),p=Yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?kc(d)===kc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(o_(d)!==o_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ri(d[y],p[y])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function Rl(r,t){return(r.values||[]).find((i=>Ri(i,t)))!==void 0}function Ya(r,t){if(r===t)return 0;const i=Jr(r),a=Jr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return u_(r.timestampValue,t.timestampValue);case 4:return u_(wl(r),wl(t));case 5:return Xd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xr(c),y=Xr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let A=0;A<p.length&&A<y.length;A++){const T=Vt(p[A],y[A]);if(T!==0)return T}return Vt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ge(c.latitude),ge(d.latitude));return p!==0?p:Vt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return c_(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},A=p[Pc]?.arrayValue,T=y[Pc]?.arrayValue,S=Vt(A?.values?.length||0,T?.values?.length||0);return S!==0?S:c_(A,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),A=d.fields||{},T=Object.keys(A);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const V=Xd(y[S],T[S]);if(V!==0)return V;const F=Ya(p[y[S]],A[T[S]]);if(F!==0)return F}return Vt(y.length,T.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function u_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=Yr(r),a=Yr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function c_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ya(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function Xa(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Xr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Jd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function wc(r){switch(Jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(r);return t?16+wc(t):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+wc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return $r(a.fields,((c,d)=>{l+=c.length+wc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function Zd(r){return!!r&&"integerValue"in r}function Sm(r){return!!r&&"arrayValue"in r}function h_(r){return!!r&&"nullValue"in r}function f_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cc(r){return!!r&&"mapValue"in r}function lw(r){return(r?.mapValue?.fields||{})[qv]?.stringValue===Hv}function Al(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return $r(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(r.arrayValue.values[i]);return t}return{...r}}function uw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ow}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){$r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Al(this.value))}}function Fv(r){const t=[];return $r(r.fields,((i,a)=>{const l=new Qe([i]);if(Cc(a)){const c=Fv(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new En(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(t,i){this.position=t,this.inclusive=i}}function d_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function m_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],t.position[i]))return!1;return!0}class Bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function cw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class Qv{}class Oe extends Qv{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new fw(t,i,a):i==="array-contains"?new gw(t,a):i==="in"?new pw(t,a):i==="not-in"?new yw(t,a):i==="array-contains-any"?new Aw(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new dw(t,a):new mw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends Qv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return Gv(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gv(r){return r.op==="and"}function Kv(r){return hw(r)&&Gv(r)}function hw(r){for(const t of r.filters)if(t instanceof Ii)return!1;return!0}function Wd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(Kv(r))return r.filters.map((t=>Wd(t))).join(",");{const t=r.filters.map((i=>Wd(i))).join(",");return`${r.op}(${t})`}}function Yv(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(r,t):r instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&Yv(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function Xv(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(r):r instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(Xv).join(" ,")+"}"})(r):"Filter"}class fw extends Oe{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class dw extends Oe{constructor(t,i){super(t,"in",i),this.keys=Jv("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class mw extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=Jv("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Jv(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class gw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Sm(i)&&Rl(i.arrayValue,this.value)}}class pw extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Rl(this.value.arrayValue,i)}}class yw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Rl(this.value.arrayValue,i)}}class Aw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Rl(this.value.arrayValue,a)))}}class _w{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function g_(r,t=null,i=[],a=[],l=null,c=null,d=null){return new _w(r,t,i,a,l,c,d)}function bm(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Wd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Xa(a))).join(",")),t.Te=i}return t.Te}function wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!cw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Yv(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!m_(r.startAt,t.startAt)&&m_(r.endAt,t.endAt)}function $d(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ah{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vw(r,t,i,a,l,c,d,p){return new ah(r,t,i,a,l,c,d,p)}function Cm(r){return new ah(r)}function p_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ew(r){return r.collectionGroup!==null}function _l(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((A=>{A.isInequality()&&(p=p.add(A.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Bc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Bc(Qe.keyField(),a))}return t.Ie}function Ti(r){const t=Et(r);return t.Ee||(t.Ee=Tw(t,_l(r))),t.Ee}function Tw(r,t){if(r.limitType==="F")return g_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bc(l.field,c)}));const i=r.endAt?new zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new zc(r.startAt.position,r.startAt.inclusive):null;return g_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function tm(r,t,i){return new ah(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function oh(r,t){return wm(Ti(r),Ti(t))&&r.limitType===t.limitType}function Zv(r){return`${bm(Ti(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Xv(l))).join(", ")}]`),rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Xa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Xa(l))).join(",")),`Target(${a})`})(Ti(r))}; limitType=${r.limitType})`}function lh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of _l(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const A=d_(d,p,y);return d.inclusive?A<=0:A<0})(a.startAt,_l(a),l)||a.endAt&&!(function(d,p,y){const A=d_(d,p,y);return d.inclusive?A>=0:A>0})(a.endAt,_l(a),l))})(r,t)}function Sw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Wv(r){return(t,i)=>{let a=!1;for(const l of _l(r)){const c=bw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function bw(r,t,i){const a=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),A=p.data.field(c);return y!==null&&A!==null?Ya(y,A):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return kv(this.inner)}size(){return this.innerSize}}const ww=new le(ct.comparator);function er(){return ww}const $v=new le(ct.comparator);function ml(...r){let t=$v;for(const i of r)t=t.insert(i.key,i);return t}function tE(r){let t=$v;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ms(){return vl()}function eE(){return vl()}function vl(){return new Hs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Cw=new le(ct.comparator),Rw=new Ve(ct.comparator);function Mt(...r){let t=Rw;for(const i of r)t=t.add(i);return t}const Iw=new Ve(Vt);function Dw(){return Iw}function Rm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function nE(r){return{integerValue:""+r}}function Nw(r,t){return nw(t)?nE(t):Rm(r,t)}class uh{constructor(){this._=void 0}}function Ow(r,t,i){return r instanceof jc?(function(l,c){const d={fields:{[zv]:{stringValue:Pv},[jv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tm(c)&&(c=sh(c)),c&&(d.fields[Bv]=c),{mapValue:d}})(i,t):r instanceof Il?rE(r,t):r instanceof Dl?sE(r,t):(function(l,c){const d=iE(l,c),p=y_(d)+y_(l.Ae);return Zd(d)&&Zd(l.Ae)?nE(p):Rm(l.serializer,p)})(r,t)}function Vw(r,t,i){return r instanceof Il?rE(r,t):r instanceof Dl?sE(r,t):i}function iE(r,t){return r instanceof qc?(function(a){return Zd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class jc extends uh{}class Il extends uh{constructor(t){super(),this.elements=t}}function rE(r,t){const i=aE(t);for(const a of r.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Dl extends uh{constructor(t){super(),this.elements=t}}function sE(r,t){let i=aE(t);for(const a of r.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class qc extends uh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function y_(r){return ge(r.integerValue||r.doubleValue)}function aE(r){return Sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Mw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof Dl&&l instanceof Dl?Ka(a.elements,l.elements,Ri):a instanceof qc&&l instanceof qc?Ri(a.Ae,l.Ae):a instanceof jc&&l instanceof jc})(r.transform,t.transform)}class xw{constructor(t,i){this.version=t,this.transformResults=i}}class kn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new kn}static exists(t){return new kn(void 0,t)}static updateTime(t){return new kn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ch{}function oE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Im(r.key,kn.none()):new xl(r.key,r.data,kn.none());{const i=r.data,a=hn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ts(r.key,a,new En(l.toArray()),kn.none())}}function Uw(r,t,i){r instanceof xl?(function(l,c,d){const p=l.value.clone(),y=__(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ts?(function(l,c,d){if(!Rc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=__(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(lE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(r,t,i,a){return r instanceof xl?(function(c,d,p,y){if(!Rc(c.precondition,d))return p;const A=c.value.clone(),T=v_(c.fieldTransforms,y,d);return A.setAll(T),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),null})(r,t,i,a):r instanceof ts?(function(c,d,p,y){if(!Rc(c.precondition,d))return p;const A=v_(c.fieldTransforms,y,d),T=d.data;return T.setAll(lE(c)),T.setAll(A),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function kw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=iE(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function A_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ka(a,l,((c,d)=>Mw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends ch{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ts extends ch{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function __(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Vw(d,p,i[l]))}return a}function v_(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Ow(c,d,t))}return a}class Im extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lw extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Uw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=eE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=oE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,a)=>A_(i,a)))&&Ka(this.baseMutations,t.baseMutations,((i,a)=>A_(i,a)))}}class Dm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Cw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Dm(t,i,a,l)}}class zw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Lt;function jw(r){switch(r){case J.OK:return mt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function uE(r){if(r===void 0)return tr("GRPC error has no .code"),J.UNKNOWN;switch(r){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return mt(39323,{code:r})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function qw(){return new TextEncoder}const Hw=new Qr([4294967295,4294967295],0);function E_(r){const t=qw().encode(r),i=new wv;return i.update(t),new Uint8Array(i.digest())}function T_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qr([i,a],0),new Qr([l,c],0)]}class Nm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qr.fromNumber(a)));return l.compare(Hw)===1&&(l=new Qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=E_(t),[a,l]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Nm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=E_(t),[a,l]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new hh(_t.min(),l,new le(Vt),er(),Mt())}}class Ul{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ul(a,i,Mt(),Mt(),Mt())}}class Ic{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class cE{constructor(t,i){this.targetId=t,this.Ce=i}}class hE{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class S_{constructor(){this.ve=0,this.Fe=b_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new Ul(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=b_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fw{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.Je=Ec(),this.He=Ec(),this.Ye=new le(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if($d(c))if(a===0){const d=new ct(c.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const A=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,A)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xr(a).toUint8Array()}catch(y){if(y instanceof Lv)return Ga("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Nm(d,l,c)}catch(y){return Ga(y instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&$d(p.target)){const y=new ct(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const A=this.ot(y);return!A||A.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new hh(t,i,this.Ye,this.je,a);return this.je=er(),this.Je=Ec(),this.He=Ec(),this.Ye=new le(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new S_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new S_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new le(ct.comparator)}function b_(){return new le(ct.comparator)}const Qw={asc:"ASCENDING",desc:"DESCENDING"},Gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kw={and:"AND",or:"OR"};class Yw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(r,t){return r.useProto3Json||rh(t)?t:{value:t}}function Hc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Xw(r,t){return Hc(r,t.toTimestamp())}function Si(r){return Ft(!!r,49232),_t.fromTimestamp((function(i){const a=Yr(i);return new ie(a.seconds,a.nanos)})(r))}function Om(r,t){return nm(r,t).canonicalString()}function nm(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function dE(r){const t=ne.fromString(r);return Ft(AE(t),10190,{key:t.toString()}),t}function im(r,t){return Om(r.databaseId,t.path)}function Ud(r,t){const i=dE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(gE(i))}function mE(r,t){return Om(r.databaseId,t)}function Jw(r){const t=dE(r);return t.length===4?ne.emptyPath():gE(t)}function rm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function w_(r,t,i){return{name:im(r,t),fields:i.value.mapValue.fields}}function Zw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:mt(39313,{state:A})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(A,T){return A.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ge.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ge.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(A){const T=A.code===void 0?J.UNKNOWN:uE(A.code);return new ot(T,A.message||"")})(d);i=new hE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ud(r,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):_t.min(),p=new hn({mapValue:{fields:a.document.fields}}),y=Je.newFoundDocument(l,c,d,p),A=a.targetIds||[],T=a.removedTargetIds||[];i=new Ic(A,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ud(r,a.document),c=a.readTime?Si(a.readTime):_t.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Ic([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ud(r,a.document),c=a.removedTargetIds||[];i=new Ic([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Bw(l,c),p=a.targetId;i=new cE(p,d)}}return i}function Ww(r,t){let i;if(t instanceof xl)i={update:w_(r,t.key,t.value)};else if(t instanceof Im)i={delete:im(r,t.key)};else if(t instanceof ts)i={update:w_(r,t.key,t.data),updateMask:oC(t.fieldMask)};else{if(!(t instanceof Lw))return mt(16599,{Vt:t.type});i={verify:im(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof qc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Xw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function $w(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(_t.min())&&(d=Si(c)),new xw(d,l.transformResults||[])})(i,t)))):[]}function tC(r,t){return{documents:[mE(r,t.path)]}}function eC(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=mE(r,l);const c=(function(A){if(A.length!==0)return yE(Ii.create(A,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(A){if(A.length!==0)return A.map((T=>(function(V){return{field:Pa(V.field),direction:rC(V.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=em(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(A){return{before:A.inclusive,values:A.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(A){return{before:!A.inclusive,values:A.position}})(t.endAt)),{ft:i,parent:l}}function nC(r){let t=Jw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const V=pE(S);return V instanceof Ii&&Kv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function($){return new Bc(za($.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,rh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,F=S.values||[];return new zc(F,V)})(i.startAt));let A=null;return i.endAt&&(A=(function(S){const V=!S.before,F=S.values||[];return new zc(F,V)})(i.endAt)),vw(t,l,d,c,p,"F",y,A)}function iC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function pE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>pE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function rC(r){return Qw[r]}function sC(r){return Gw[r]}function aC(r){return Kw[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function za(r){return Qe.fromServerFormat(r.fieldPath)}function yE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(f_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(h_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(f_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(h_(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:sC(i.op),value:i.value}}})(r):r instanceof Ii?(function(i){const a=i.getFilters().map((l=>yE(l)));return a.length===1?a[0]:{compositeFilter:{op:aC(i.op),filters:a}}})(r):mt(54877,{filter:r})}function oC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class jr{constructor(t,i,a,l,c=_t.min(),d=_t.min(),p=Ge.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lC{constructor(t){this.yt=t}}function uC(r){const t=nC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tm(t,t.limit,"L"):t}class cC{constructor(){this.Cn=new hC}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Kr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class hC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(_E,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const R_="LruGarbageCollector",fC=1048576;function I_([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class dC{constructor(t){this.Ir=t,this.buffer=new Ve(I_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();I_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(R_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?rt(R_,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class gC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ih.ce);const a=new dC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(C_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,A;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(A=Date.now(),ka()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(A-y)+`ms
Total Duration: ${A-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function pC(r,t){return new gC(r,t)}class yC{constructor(){this.changes=new Hs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class _C{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&El(a.mutation,l,En.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Ms();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ml();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ms();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=er();const d=vl(),p=(function(){return vl()})();return i.forEach(((y,A)=>{const T=a.get(A.key);l.has(A.key)&&(T===void 0||T.mutation instanceof ts)?c=c.insert(A.key,A):T!==void 0?(d.set(A.key,T.mutation.getFieldMask()),El(T.mutation,A,T.mutation.getFieldMask(),ie.now())):d.set(A.key,En.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((A,T)=>d.set(A,T))),i.forEach(((A,T)=>p.set(A,new AC(T,d.get(A)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=vl();let l=new le(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const A=i.get(y);if(A===null)return;let T=a.get(y)||En.empty();T=p.applyToLocalView(A,T),a.set(y,T);const S=(l.get(p.batchId)||Mt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),A=y.key,T=y.value,S=eE();T.forEach((V=>{if(!c.has(V)){const F=oE(i.get(V),a.get(V));F!==null&&S.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,A,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Ew(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Ms());let p=bl,y=c;return d.next((A=>X.forEach(A,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((V=>{y=y.insert(T,V)}))))).next((()=>this.populateOverlays(t,A,c))).next((()=>this.computeViews(t,y,A,Mt()))).next((T=>({batchId:p,changes:tE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const A=(function(S,V){return new ah(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,A,a,l).next((T=>{T.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,A)=>{const T=A.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let p=ml();return d.forEach(((y,A)=>{const T=c.get(y);T!==void 0&&El(T.mutation,A,En.empty(),ie.now()),lh(i,A)&&(p=p.insert(y,A))})),p}))}}class vC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:uC(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}class EC{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ms();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Ms(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,A=y.getKey();if(!i.isPrefixOf(A.path))break;A.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((A,T)=>A-T));const d=this.overlays.getIterator();for(;d.hasNext();){const A=d.getNext().value;if(A.getKey().getCollectionGroup()===i&&A.largestBatchId>a){let T=c.get(A.largestBatchId);T===null&&(T=Ms(),c=c.insert(A.largestBatchId,T)),T.set(A.getKey(),A)}}const p=Ms(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((A,T)=>p.set(A,T))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new zw(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class TC{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Vm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ct(new ne([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ne([])),a=new Le(i,t),l=new Le(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class SC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Pw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Em:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ct(c),0);let p=new Ve(Vt);return this.Zr.forEachWhile((y=>{const A=y.key.path;return!!a.isPrefixOf(A)&&(A.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bC{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=er();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=er();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:A,value:{document:T}}=y.getNext();if(!d.isPrefixOf(A.path))break;A.path.length>d.length+1||W1(Z1(T),a)<=0||(l.has(T.key)||lh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new wC(this)}getSize(t){return X.resolve(this.size)}}class wC extends yC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class CC{constructor(t){this.persistence=t,this.si=new Hs((i=>bm(i)),wm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Vm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class vE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ih(0),this.li=!1,this.li=!0,this.hi=new TC,this.referenceDelegate=t(this),this.Pi=new CC(this),this.indexManager=new cC,this.remoteDocumentCache=(function(l){return new bC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new lC(i),this.Ii=new vC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new EC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new SC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new RC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class RC extends tw{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Vm,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ct.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Fc{constructor(t,i){this.persistence=t,this.pi=new Hs((a=>iw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=pC(this,i)}static mi(t,i){return new Fc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=wc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new xm(t,i.fromCache,a,l)}}class IC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class DC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _b()?8:ew(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new IC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ka()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ka()<=Ot.DEBUG&&rt("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ka()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):X.resolve())}ys(t,i){if(p_(i))return X.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=tm(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const A=this.Ds(i,p);return this.Cs(i,A,d,y.readTime)?this.ys(t,tm(i,null,"F")):this.vs(t,A,i,y)}))))})))))}ws(t,i,a,l){return p_(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ka()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(t,d,i,J1(l,bl)).next((p=>p)))}))}Ds(t,i){let a=new Ve(Wv(t));return i.forEach(((l,c)=>{lh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ka()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Kr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",NC=3e8;class OC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Vt),this.xs=new Hs((c=>bm(c)),wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _C(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function VC(r,t,i,a){return new OC(r,t,i,a)}async function EE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Mt();for(const A of l){d.push(A.batchId);for(const T of A.mutations)y=y.add(T.key)}for(const A of c){p.push(A.batchId);for(const T of A.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next((A=>({Ls:A,removedBatchIds:d,addedBatchIds:p})))}))}))}function MC(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,A,T){const S=A.batch,V=S.keys();let F=X.resolve();return V.forEach(($=>{F=F.next((()=>T.getEntry(y,$))).next((W=>{const tt=A.docVersions.get($);Ft(tt!==null,48541),W.version.compareTo(tt)<0&&(S.applyToRemoteDocument(W,A),W.isValidDocument()&&(W.setReadTime(A.commitVersion),T.addEntry(W)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Mt();for(let A=0;A<p.mutationResults.length;++A)p.mutationResults[A].transformResults.length>0&&(y=y.add(p.batch.mutations[A].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function xC(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ge.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,a)),l=l.insert(S,F),(function(W,tt,ht){return W.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=NC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,F,T)&&p.push(i.Pi.updateTargetData(c,F))}));let y=er(),A=Mt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(UC(c,d,t.documentUpdates).next((T=>{y=T.ks,A=T.qs}))),!a.isEqual(_t.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,A))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function UC(r,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=er();return i.forEach(((p,y)=>{const A=c.get(p);y.isFoundDocument()!==A.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!A.isValidDocument()||y.version.compareTo(A.version)>0||y.version.compareTo(A.version)===0&&A.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Um,"Ignoring outdated watch update for ",p,". Current version:",A.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function kC(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function LC(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new jr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function sm(r,t,i){const a=Et(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;rt(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function D_(r,t,i){const a=Et(r);let l=_t.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,A,T){const S=Et(y),V=S.xs.get(T);return V!==void 0?X.resolve(S.Ms.get(V)):S.Pi.getTargetData(A,T)})(a,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Mt()))).next((p=>(PC(a,Sw(t),p),{documents:p,Qs:c})))))}function PC(r,t,i){let a=r.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class N_{constructor(){this.activeTargetIds=Dw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zC{constructor(){this.Mo=new N_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new N_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class BC{Oo(t){}shutdown(){}}const O_="ConnectivityMonitor";class V_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(O_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(O_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function am(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const kd="RestConnection",jC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Lc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=am(),p=this.zo(t,i.toUriEncodedString());rt(kd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:A}=new URL(p),T=$a(A);return this.Jo(t,p,y,a,T).then((S=>(rt(kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ga(kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=jC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class HC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class FC extends qC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=am();return new Promise(((p,y)=>{const A=new Cv;A.setWithCredentials(!0),A.listenOnce(Rv.COMPLETE,(()=>{try{switch(A.getLastErrorCode()){case bc.NO_ERROR:const S=A.getResponseJson();rt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case bc.TIMEOUT:rt(Ye,`RPC '${t}' ${d} timed out`),y(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const V=A.getStatus();if(rt(Ye,`RPC '${t}' ${d} failed with status:`,V,"response text:",A.getResponseText()),V>0){let F=A.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const W=(function(ht){const At=ht.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(At)>=0?At:J.UNKNOWN})($.status);y(new ot(W,$.message))}else y(new ot(J.UNKNOWN,"Server responded with status "+A.getStatus()))}else y(new ot(J.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:A.getLastErrorCode(),P_:A.getLastError()})}}finally{rt(Ye,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt(Ye,`RPC '${t}' ${d} sending request:`,l),A.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Nv(),p=Dv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;A!==void 0&&(y.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=c.join("");rt(Ye,`Creating RPC '${t}' stream ${l}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let V=!1,F=!1;const $=new HC({Yo:tt=>{F?rt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(V||(rt(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),rt(Ye,`RPC '${t}' stream ${l} sending:`,tt),S.send(tt))},Zo:()=>S.close()}),W=(tt,ht,At)=>{tt.listen(ht,(dt=>{try{At(dt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return W(S,dl.EventType.OPEN,(()=>{F||(rt(Ye,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),W(S,dl.EventType.CLOSE,(()=>{F||(F=!0,rt(Ye,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(S))})),W(S,dl.EventType.ERROR,(tt=>{F||(F=!0,Ga(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),$.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),W(S,dl.EventType.MESSAGE,(tt=>{if(!F){const ht=tt.data[0];Ft(!!ht,16349);const At=ht,dt=At?.error||At[0]?.error;if(dt){rt(Ye,`RPC '${t}' stream ${l} received error:`,dt);const qt=dt.status;let Ht=(function(b){const R=we[b];if(R!==void 0)return uE(R)})(qt),xt=dt.message;Ht===void 0&&(Ht=J.INTERNAL,xt="Unknown error status: "+qt+" with message "+dt.message),F=!0,$.a_(new ot(Ht,xt)),S.close()}else rt(Ye,`RPC '${t}' stream ${l} received:`,ht),$.u_(ht)}})),W(p,Iv.STAT_EVENT,(tt=>{tt.stat===Yd.PROXY?rt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===Yd.NOPROXY&&rt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ld(){return typeof document<"u"?document:null}function fh(r){return new Yw(r,!0)}class SE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M_="PersistentStream";class bE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(M_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QC extends bE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Zw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=rm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=$d(y)?{documents:tC(c,y)}:{query:eC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=fE(c,d.resumeToken);const A=em(c,d.expectedCount);A!==null&&(p.expectedCount=A)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Hc(c,d.snapshotVersion.toTimestamp());const A=em(c,d.expectedCount);A!==null&&(p.expectedCount=A)}return p})(this.serializer,t);const a=iC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=rm(this.serializer),i.removeTarget=t,this.q_(i)}}class GC extends bE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=$w(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=rm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Ww(this.serializer,a)))};this.q_(i)}}class KC{}class YC extends KC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,nm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,nm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class JC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fs(this)&&(rt(Bs,"Restarting streams for network reachability change."),await(async function(y){const A=Et(y);A.Ea.add(4),await kl(A),A.Ra.set("Unknown"),A.Ea.delete(4),await dh(A)})(this))}))})),this.Ra=new XC(a,l)}}async function dh(r){if(Fs(r))for(const t of r.da)await t(!0)}async function kl(r){for(const t of r.da)await t(!1)}function wE(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zm(i)?Pm(i):ro(i).O_()&&Lm(i,t))}function km(r,t){const i=Et(r),a=ro(i);i.Ia.delete(t),a.O_()&&CE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fs(i)&&i.Ra.set("Unknown"))}function Lm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(r).Y_(t)}function CE(r,t){r.Va.Ue(t),ro(r).Z_(t)}function Pm(r){r.Va=new Fw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ro(r).start(),r.Ra.ua()}function zm(r){return Fs(r)&&!ro(r).x_()&&r.Ia.size>0}function Fs(r){return Et(r).Ea.size===0}function RE(r){r.Va=void 0}async function ZC(r){r.Ra.set("Online")}async function WC(r){r.Ia.forEach(((t,i)=>{Lm(r,t)}))}async function $C(r,t){RE(r),zm(r)?(r.Ra.ha(t),Pm(r)):r.Ra.set("Unknown")}async function tR(r,t,i){if(r.Ra.set("Online"),t instanceof hE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Qc(r,a)}else if(t instanceof Ic?r.Va.Ze(t):t instanceof cE?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const a=await TE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,A)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(A);T&&c.Ia.set(A,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,A)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Ge.EMPTY_BYTE_STRING,T.snapshotVersion)),CE(c,y);const S=new jr(T.target,y,A,T.sequenceNumber);Lm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Bs,"Failed to raise snapshot:",a),await Qc(r,a)}}async function Qc(r,t,i){if(!io(t))throw t;r.Ea.add(1),await kl(r),r.Ra.set("Offline"),i||(i=()=>TE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Bs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await dh(r)}))}function IE(r,t){return t().catch((i=>Qc(r,i,t)))}async function mh(r){const t=Et(r),i=Zr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Em;for(;eR(t);)try{const l=await kC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,nR(t,l)}catch(l){await Qc(t,l)}DE(t)&&NE(t)}function eR(r){return Fs(r)&&r.Ta.length<10}function nR(r,t){r.Ta.push(t);const i=Zr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function DE(r){return Fs(r)&&!Zr(r).x_()&&r.Ta.length>0}function NE(r){Zr(r).start()}async function iR(r){Zr(r).ra()}async function rR(r){const t=Zr(r);for(const i of r.Ta)t.ea(i.mutations)}async function sR(r,t,i){const a=r.Ta.shift(),l=Dm.from(a,t,i);await IE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await mh(r)}async function aR(r,t){t&&Zr(r).X_&&await(async function(a,l){if((function(d){return jw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Zr(a).B_(),await IE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await mh(a)}})(r,t),DE(r)&&NE(r)}async function x_(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),rt(Bs,"RemoteStore received new credentials");const a=Fs(i);i.Ea.add(3),await kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await dh(i)}async function oR(r,t){const i=Et(r);t?(i.Ea.delete(2),await dh(i)):t||(i.Ea.add(2),await kl(i),i.Ra.set("Unknown"))}function ro(r){return r.ma||(r.ma=(function(i,a,l){const c=Et(i);return c.sa(),new QC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:ZC.bind(null,r),t_:WC.bind(null,r),r_:$C.bind(null,r),H_:tR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),zm(r)?Pm(r):r.Ra.set("Unknown")):(await r.ma.stop(),RE(r))}))),r.ma}function Zr(r){return r.fa||(r.fa=(function(i,a,l){const c=Et(i);return c.sa(),new GC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:iR.bind(null,r),r_:aR.bind(null,r),ta:rR.bind(null,r),na:sR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await mh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Bs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Bm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(r,t){if(tr("AsyncQueue",`${t}: ${r}`),io(r))return new ot(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ba;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class U_{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Za{constructor(t,i,a,l,c,d,p,y,A){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=A}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Za(t,i,Ba.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class lR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class uR{constructor(){this.queries=k_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=k_(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function k_(){return new Hs((r=>Zv(r)),oh)}async function OE(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new lR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=jm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&qm(i)}async function VE(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cR(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&qm(i)}function hR(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function qm(r){r.Ca.forEach((t=>{t.next()}))}var om,L_;(L_=om||(om={})).Ma="default",L_.Cache="cache";class ME{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Za(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class xE{constructor(t){this.key=t}}class UE{constructor(t){this.key=t}}class fR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Wv(t),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new U_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,A=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const V=l.get(T),F=lh(this.query,S)?S:null,$=!!V&&this.mutatedKeys.has(V.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let tt=!1;V&&F?V.data.isEqual(F.data)?$!==W&&(a.track({type:3,doc:F}),tt=!0):this.su(V,F)||(a.track({type:2,doc:F}),tt=!0,(y&&this.eu(F,y)>0||A&&this.eu(F,A)<0)&&(p=!0)):!V&&F?(a.track({type:0,doc:F}),tt=!0):V&&!F&&(a.track({type:1,doc:V}),tt=!0,(y||A)&&(p=!0)),tt&&(F?(d=d.add(F),c=W?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(F,$){const W=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:tt})}};return W(F)-W($)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,A=y!==this.Za;return this.Za=y,d.length!==0||A?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,y===0,A,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new UE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new xE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hm="SyncEngine";class dR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class mR{constructor(t){this.key=t,this.hu=!1}}class gR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs((p=>Zv(p)),oh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new Vm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pR(r,t,i=!0){const a=jE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kE(a,t,i,!0),l}async function yR(r,t){const i=jE(r);await kE(i,t,!0,!1)}async function kE(r,t,i,a){const l=await LC(r.localStore,Ti(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await AR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&wE(r.remoteStore,l),p}async function AR(r,t,i,a,l){r.pu=(S,V,F)=>(async function(W,tt,ht,At){let dt=tt.view.ru(ht);dt.Cs&&(dt=await D_(W.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,dt))));const qt=At&&At.targetChanges.get(tt.targetId),Ht=At&&At.targetMismatches.get(tt.targetId)!=null,xt=tt.view.applyChanges(dt,W.isPrimaryClient,qt,Ht);return z_(W,tt.targetId,xt.au),xt.snapshot})(r,S,V,F);const c=await D_(r.localStore,t,!0),d=new fR(t,c.Qs),p=d.ru(c.documents),y=Ul.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),A=d.applyChanges(p,r.isPrimaryClient,y);z_(r,i,A.au);const T=new dR(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),A.snapshot}async function _R(r,t,i){const a=Et(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!oh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await sm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&km(a.remoteStore,l.targetId),lm(a,l.targetId)})).catch(no)):(lm(a,l.targetId),await sm(a.localStore,l.targetId,!0))}async function vR(r,t){const i=Et(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),km(i.remoteStore,a.targetId))}async function ER(r,t,i){const a=IR(r);try{const l=await(function(d,p){const y=Et(d),A=ie.now(),T=p.reduce(((F,$)=>F.add($.key)),Mt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=er(),W=Mt();return y.Ns.getEntries(F,T).next((tt=>{$=tt,$.forEach(((ht,At)=>{At.isValidDocument()||(W=W.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,$))).next((tt=>{S=tt;const ht=[];for(const At of p){const dt=kw(At,S.get(At.key).overlayedDocument);dt!=null&&ht.push(new ts(At.key,dt,Fv(dt.value.mapValue),kn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,A,ht,p)})).next((tt=>{V=tt;const ht=tt.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(F,tt.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:tE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let A=d.Vu[d.currentUser.toKey()];A||(A=new le(Vt)),A=A.insert(p,y),d.Vu[d.currentUser.toKey()]=A})(a,l.batchId,i),await Ll(a,l.changes),await mh(a.remoteStore)}catch(l){const c=jm(l,"Failed to persist write");i.reject(c)}}async function LE(r,t){const i=Et(r);try{const a=await xC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Ll(i,a,t)}catch(a){await no(a)}}function P_(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Et(d);y.onlineState=p;let A=!1;y.queries.forEach(((T,S)=>{for(const V of S.Sa)V.va(p)&&(A=!0)})),A&&qm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function TR(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const p=Mt().add(c),y=new hh(_t.min(),new Map,new le(Vt),d,p);await LE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Fm(a)}else await sm(a.localStore,t,!1).then((()=>lm(a,t,i))).catch(no)}async function SR(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await MC(i.localStore,t);zE(i,a,null),PE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ll(i,l)}catch(l){await no(l)}}async function bR(r,t,i){const a=Et(r);try{const l=await(function(d,p){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(A=>{let T;return y.mutationQueue.lookupMutationBatch(A,p).next((S=>(Ft(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(A,S)))).next((()=>y.mutationQueue.performConsistencyCheck(A))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(A,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,T))).next((()=>y.localDocuments.getDocuments(A,T)))}))})(a.localStore,t);zE(a,t,i),PE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ll(a,l)}catch(l){await no(l)}}function PE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function zE(r,t,i){const a=Et(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function lm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||BE(r,a)}))}function BE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(km(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Fm(r))}function z_(r,t,i){for(const a of i)a instanceof xE?(r.Ru.addReference(a.key,t),wR(r,a)):a instanceof UE?(rt(Hm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||BE(r,a.key)):mt(19791,{wu:a})}function wR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(Hm,"New document in limbo: "+i),r.Eu.add(a),Fm(r))}function Fm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(ne.fromString(t)),a=r.fu.next();r.Au.set(a,new mR(i)),r.du=r.du.insert(i,a),wE(r.remoteStore,new jr(Ti(Cm(i.path)),a,"TargetPurposeLimboResolution",ih.ce))}}async function Ll(r,t,i){const a=Et(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((A=>{if((A||i)&&a.isPrimaryClient){const T=A?!A.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(A){l.push(A);const T=xm.As(y.targetId,A);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,A){const T=Et(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(A,(V=>X.forEach(V.Es,(F=>T.persistence.referenceDelegate.addReference(S,V.targetId,F))).next((()=>X.forEach(V.ds,(F=>T.persistence.referenceDelegate.removeReference(S,V.targetId,F)))))))))}catch(S){if(!io(S))throw S;rt(Um,"Failed to update sequence numbers: "+S)}for(const S of A){const V=S.targetId;if(!S.fromCache){const F=T.Ms.get(V),$=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion($);T.Ms=T.Ms.insert(V,W)}}})(a.localStore,c))}async function CR(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){rt(Hm,"User change. New user:",t.toKey());const a=await EE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ot(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ll(i,a.Ls)}}function RR(r,t){const i=Et(r),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function jE(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=LE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TR.bind(null,t),t.Pu.H_=cR.bind(null,t.eventManager),t.Pu.yu=hR.bind(null,t.eventManager),t}function IR(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bR.bind(null,t),t}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return VC(this.persistence,new DC,t.initialUser,this.serializer)}Cu(t){return new vE(Mm.mi,this.serializer)}Du(t){return new zC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class DR extends Gc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Fc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new mC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new vE((a=>Fc.mi(a,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>P_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=CR.bind(null,this.syncEngine),await oR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uR})()}createDatastore(t){const i=fh(t.databaseInfo.databaseId),a=(function(c){return new FC(c)})(t.databaseInfo);return(function(c,d,p,y){return new YC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new JC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>P_(this.syncEngine,i,0)),(function(){return V_.v()?new V_:new BC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,A,T){const S=new gR(l,c,d,p,y,A);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);rt(Bs,"RemoteStore shutting down."),a.Ea.add(5),await kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class qE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Wr="FirestoreClient";class NR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Pd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(Wr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await EE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function B_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await OR(r);rt(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>x_(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>x_(t.remoteStore,l))),r._onlineComponents=t}async function OR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Wr,"Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Pd(r,new Gc)}}else rt(Wr,"Using default OfflineComponentProvider"),await Pd(r,new DR(void 0));return r._offlineComponents}async function HE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Wr,"Using user provided OnlineComponentProvider"),await B_(r,r._uninitializedComponentsProvider._online)):(rt(Wr,"Using default OnlineComponentProvider"),await B_(r,new um))),r._onlineComponents}function VR(r){return HE(r).then((t=>t.syncEngine))}async function FE(r){const t=await HE(r),i=t.eventManager;return i.onListen=pR.bind(null,t.syncEngine),i.onUnlisten=_R.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=yR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vR.bind(null,t.syncEngine),i}function MR(r,t,i={}){const a=new Wi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,A){const T=new qE({next:V=>{T.Nu(),d.enqueueAndForget((()=>VE(c,S)));const F=V.docs.has(p);!F&&V.fromCache?A.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&V.fromCache&&y&&y.source==="server"?A.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(V)},error:V=>A.reject(V)}),S=new ME(Cm(p.path),T,{includeMetadataChanges:!0,qa:!0});return OE(c,S)})(await FE(r),r.asyncQueue,t,i,a))),a.promise}function xR(r,t,i={}){const a=new Wi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,A){const T=new qE({next:V=>{T.Nu(),d.enqueueAndForget((()=>VE(c,S))),V.fromCache&&y.source==="server"?A.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(V)},error:V=>A.reject(V)}),S=new ME(p,T,{includeMetadataChanges:!0,qa:!0});return OE(c,S)})(await FE(r),r.asyncQueue,t,i,a))),a.promise}function QE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const j_=new Map;const GE="firestore.googleapis.com",q_=!0;class H_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GE,this.ssl=q_}else this.host=t.host,this.ssl=t.ssl??q_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fC)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}X1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new z1;switch(a.type){case"firstParty":return new H1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=j_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),j_.delete(i),a.terminate())})(this),Promise.resolve()}}function UR(r,t,i,a={}){r=Wn(r,gh);const l=$a(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(yv(`https://${p}`),Av("Firestore",!0)),c.host!==GE&&c.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Ls(y,d)&&(r._setSettings(y),a.mockUserToken)){let A,T;if(typeof a.mockUserToken=="string")A=a.mockUserToken,T=Xe.MOCK_USER;else{A=cb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xe(S)}r._authCredentials=new B1(new Vv(A,T))}}class ph{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ph(this.firestore,t,this._query)}}class Re{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ml(i,Re._jsonSchema))return new Re(t,a||null,new ct(ne.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:Ce("string",Re._jsonSchemaVersion),referencePath:Ce("string")};class Gr extends ph{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ct(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Qm(r,t,...i){if(r=We(r),Mv("collection","path",t),r instanceof gh){const a=ne.fromString(t,...i);return i_(a),new Gr(r,null,a)}{if(!(r instanceof Re||r instanceof Gr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return i_(a),new Gr(r.firestore,null,a)}}function Pl(r,t,...i){if(r=We(r),arguments.length===1&&(t=_m.newId()),Mv("doc","path",t),r instanceof gh){const a=ne.fromString(t,...i);return n_(a),new Re(r,null,new ct(a))}{if(!(r instanceof Re||r instanceof Gr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return n_(a),new Re(r.firestore,r instanceof Gr?r.converter:null,new ct(a))}}const F_="AsyncQueue";class Q_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SE(this,"async_queue_retry"),this._c=()=>{const a=Ld();a&&rt(F_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;rt(F_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",G_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:G_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function G_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Qs extends gh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Q_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q_(t),this._firestoreClient=void 0,await t}}}function kR(r,t){const i=typeof r=="object"?r:Tv(),a=typeof r=="string"?r:Lc,l=ym(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=lb("firestore");c&&UR(l,...c)}return l}function Gm(r){if(r._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LR(r),r._firestoreClient}function LR(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new aw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,QE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new NR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ge.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ml(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class yh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Km{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Ml(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ml(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};const PR=/^__.*__$/;class zR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,i,this.fieldTransforms):new xl(t,this.data,i,this.fieldTransforms)}}class KE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ts(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function YE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class Ym{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ym({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(YE(this.Ac)&&PR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||fh(t)}Cc(t,i,a,l=!1){return new Ym({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(r){const t=r._freezeSettings(),i=fh(r._databaseId);return new BR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function XE(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Jm("Data must be an object, but it was:",d,a);const p=JE(a,d);let y,A;if(c.merge)y=new En(d.fieldMask),A=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const V=cm(t,S,i);if(!d.contains(V))throw new ot(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);WE(T,V)||T.push(V)}y=new En(T),A=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,A=d.fieldTransforms;return new zR(new hn(p),y,A)}class Ah extends Km{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function jR(r,t,i,a){const l=r.Cc(1,t,i);Jm("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();$r(a,((y,A)=>{const T=Zm(t,y,i);A=We(A);const S=l.yc(T);if(A instanceof Ah)c.push(T);else{const V=_h(A,S);V!=null&&(c.push(T),d.set(T,V))}}));const p=new En(c);return new KE(d,p,l.fieldTransforms)}function qR(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[cm(t,a,i)],y=[l];if(c.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(cm(t,c[V])),y.push(c[V+1]);const A=[],T=hn.empty();for(let V=p.length-1;V>=0;--V)if(!WE(A,p[V])){const F=p[V];let $=y[V];$=We($);const W=d.yc(F);if($ instanceof Ah)A.push(F);else{const tt=_h($,W);tt!=null&&(A.push(F),T.set(F,tt))}}const S=new En(A);return new KE(T,S,d.fieldTransforms)}function _h(r,t){if(ZE(r=We(r)))return Jm("Unsupported field value:",t,r),JE(r,t);if(r instanceof Km)return(function(a,l){if(!YE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=_h(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Nw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Hc(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:fE(l.serializer,a._byteString)};if(a instanceof Re){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,p){return{mapValue:{fields:{[qv]:{stringValue:Hv},[Pc]:{arrayValue:{values:d.toArray().map((A=>{if(typeof A!="number")throw p.Sc("VectorValues must only contain numeric values.");return Rm(p.serializer,A)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${vm(a)}`)})(r,t)}function JE(r,t){const i={};return kv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(r,((a,l)=>{const c=_h(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ZE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof bi||r instanceof Un||r instanceof Re||r instanceof Km||r instanceof wi)}function Jm(r,t,i){if(!ZE(i)||!xv(i)){const a=vm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function cm(r,t,i){if((t=We(t))instanceof yh)return t._internalPath;if(typeof t=="string")return Zm(r,t);throw Kc("Field path arguments must be of type string or ",r,!1,void 0,i)}const HR=new RegExp("[~\\*/\\[\\]]");function Zm(r,t,i){if(t.search(HR)>=0)throw Kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new yh(...t.split("."))._internalPath}catch{throw Kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Kc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ot(J.INVALID_ARGUMENT,p+r+y)}function WE(r,t){return r.some((i=>i.isEqual(t)))}class $E{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(tT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class FR extends $E{data(){return super.data()}}function tT(r,t){return typeof t=="string"?Zm(r,t):t instanceof yh?t._internalPath:t._delegate._internalPath}function QR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GR{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Pc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=sh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Ft(AE(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function eT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends $E{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(tT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Ce("string",Us._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Dc extends Us{data(t={}){return super.data(t)}}class ja{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Dc(this._firestore,this._userDataWriter,a.key,a,new pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let A=-1,T=-1;return p.type!==0&&(A=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:KR(p.type),doc:y,oldIndex:A,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function KR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}function nT(r){r=Wn(r,Re);const t=Wn(r.firestore,Qs);return MR(Gm(t),r._key).then((i=>ZR(t,r,i)))}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Ce("string",ja._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class iT extends GR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function YR(r){r=Wn(r,ph);const t=Wn(r.firestore,Qs),i=Gm(t),a=new iT(t);return QR(r._query),xR(i,r._query).then((l=>new ja(t,a,r,l)))}function XR(r,t,i){r=Wn(r,Re);const a=Wn(r.firestore,Qs),l=eT(r.converter,t);return vh(a,[XE(Xm(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,kn.none())])}function rT(r,t,i,...a){r=Wn(r,Re);const l=Wn(r.firestore,Qs),c=Xm(l);let d;return d=typeof(t=We(t))=="string"||t instanceof yh?qR(c,"updateDoc",r._key,t,i,a):jR(c,"updateDoc",r._key,t),vh(l,[d.toMutation(r._key,kn.exists(!0))])}function JR(r){return vh(Wn(r.firestore,Qs),[new Im(r._key,kn.none())])}function sT(r,t){const i=Wn(r.firestore,Qs),a=Pl(r),l=eT(r.converter,t);return vh(i,[XE(Xm(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,kn.exists(!1))]).then((()=>a))}function vh(r,t){return(function(a,l){const c=new Wi;return a.asyncQueue.enqueueAndForget((async()=>ER(await VR(a),l,c))),c.promise})(Gm(r),t)}function ZR(r,t,i){const a=i.docs.get(t._key),l=new iT(r);return new Us(r,l,t._key,a,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(to),Qa(new Ps("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Qs(new j1(a.getProvider("auth-internal")),new F1(d,a.getProvider("app-check-internal")),(function(A,T){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(A.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fr(WA,$A,t),Fr(WA,$A,"esm2020")})();function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WR=aT,oT=new Ol("auth","Firebase",aT());const Yc=new gm("@firebase/auth");function $R(r,...t){Yc.logLevel<=Ot.WARN&&Yc.warn(`Auth (${to}): ${r}`,...t)}function Nc(r,...t){Yc.logLevel<=Ot.ERROR&&Yc.error(`Auth (${to}): ${r}`,...t)}function Di(r,...t){throw $m(r,...t)}function Zn(r,...t){return $m(r,...t)}function Wm(r,t,i){const a={...WR(),[t]:i};return new Ol("auth","Firebase",a).create(t,{appName:r.name})}function ks(r){return Wm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tI(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Di(r,"argument-error"),Wm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $m(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return oT.create(r,...t)}function pt(r,t,...i){if(!r)throw $m(t,...i)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function nr(r,t){r||Ji(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function eI(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}function nI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eI()||pb()||"connection"in navigator)?navigator.onLine:!0}function iI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=db()||yb()}get(){return nI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tg(r,t){nr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class lT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aI=new zl(3e4,6e4);function eg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function so(r,t,i,a,l={}){return uT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Vl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const A={method:t,headers:y,...c};return gb()||(A.referrerPolicy="no-referrer"),r.emulatorConfig&&$a(r.emulatorConfig.host)&&(A.credentials="include"),lT.fetch()(await cT(r,r.config.apiHost,i,p),A)})}async function uT(r,t,i){r._canInitEmulator=!1;const a={...rI,...t};try{const l=new lI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,A]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Sc(r,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw Wm(r,T,A);Di(r,T)}}catch(l){if(l instanceof ir)throw l;Di(r,"network-request-failed",{message:String(l)})}}async function oI(r,t,i,a,l={}){const c=await so(r,t,i,a,l);return"mfaPendingCredential"in c&&Di(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function cT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?tg(r.config,l):`${r.config.apiScheme}://${l}`;return sI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class lI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),aI.get())})}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Zn(r,t,a);return l.customData._tokenResponse=i,l}async function uI(r,t){return so(r,"POST","/v1/accounts:delete",t)}async function Xc(r,t){return so(r,"POST","/v1/accounts:lookup",t)}function Tl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cI(r,t=!1){const i=We(r),a=await i.getIdToken(t),l=ng(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Tl(zd(l.auth_time)),issuedAtTime:Tl(zd(l.iat)),expirationTime:Tl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function ng(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=dv(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Y_(r){const t=ng(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ir&&hI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function hI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class fI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const t=r.auth,i=await r.getIdToken(),a=await Nl(r,Xc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?hT(l.providerUserInfo):[],d=mI(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,A=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:A};Object.assign(r,T)}async function dI(r){const t=We(r);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mI(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function hT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function gI(r,t){const i=await uT(r,{},async()=>{const a=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await cT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&$a(r.emulatorConfig.host)&&(y.credentials="include"),lT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function pI(r,t){return so(r,"POST","/v2/accounts:revokeToken",eg(r,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Y_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await gI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Lr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new fI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return cI(this,t)}reload(){return dI(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await Nl(this,uI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,A=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:F,providerData:$,stsTokenManager:W}=i;pt(S&&W,t,"internal-error");const tt=qa.fromJSON(this.name,W);pt(typeof S=="string",t,"internal-error"),Lr(a,t.name),Lr(l,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof F=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(p,t.name),Lr(y,t.name),Lr(A,t.name),Lr(T,t.name);const ht=new Jn({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:A,lastLoginAt:T});return $&&Array.isArray($)&&(ht.providerData=$.map(At=>({...At}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?hT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new qa;p.updateFromIdToken(a);const y=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,A),y}}const X_=new Map;function Zi(r){nr(r instanceof Function,"Expected a class definition");let t=X_.get(r);return t?(nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,X_.set(r,t),t)}class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}fT.type="NONE";const J_=fT;function Oc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Zi(J_),t,a);const l=(await Promise.all(i.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let c=l[0]||Zi(J_);const d=Oc(a,t.config.apiKey,t.name);let p=null;for(const A of i)try{const T=await A._get(d);if(T){let S;if(typeof T=="string"){const V=await Xc(t,{idToken:T}).catch(()=>{});if(!V)break;S=await Jn._fromGetAccountInfoResponse(t,V,T)}else S=Jn._fromJSON(t,T);A!==c&&(p=S),c=A;break}}catch{}const y=l.filter(A=>A._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ha(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async A=>{if(A!==c)try{await A._remove(d)}catch{}})),new Ha(c,t,a))}}function Z_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AT(t))return"Blackberry";if(_T(t))return"Webos";if(mT(t))return"Safari";if((t.includes("chrome/")||gT(t))&&!t.includes("edge/"))return"Chrome";if(yT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function dT(r=Ze()){return/firefox\//i.test(r)}function mT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gT(r=Ze()){return/crios\//i.test(r)}function pT(r=Ze()){return/iemobile/i.test(r)}function yT(r=Ze()){return/android/i.test(r)}function AT(r=Ze()){return/blackberry/i.test(r)}function _T(r=Ze()){return/webos/i.test(r)}function ig(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yI(r=Ze()){return ig(r)&&!!window.navigator?.standalone}function AI(){return Ab()&&document.documentMode===10}function vT(r=Ze()){return ig(r)||yT(r)||_T(r)||AT(r)||/windows phone/i.test(r)||pT(r)}function ET(r,t=[]){let i;switch(r){case"Browser":i=Z_(Ze());break;case"Worker":i=`${Z_(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${a}`}class _I{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function vI(r,t={}){return so(r,"GET","/v2/passwordPolicy",eg(r,t))}const EI=6;class TI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??EI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class SI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(ks(this));const i=t?We(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vI(this),i=new TI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await pI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$R(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Eh(r){return We(r)}class W_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Cb(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bI(r){rg=r}function wI(r){return rg.loadJS(r)}function CI(){return rg.gapiScript}function RI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function II(r,t){const i=ym(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ls(c,t??{}))return l;Di(l,"already-initialized")}return i.initialize({options:t})}function DI(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function NI(r,t,i){const a=Eh(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=TT(t),{host:d,port:p}=OI(t),y=p===null?"":`:${p}`,A={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ls(A,a.config.emulator)&&Ls(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=A,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(yv(`${c}//${d}${y}`),Av("Auth",!0)):VI()}function TT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function OI(r){const t=TT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:$_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:$_(d)}}}function $_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function VI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ST{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Fa(r,t){return oI(r,"POST","/v1/accounts:signInWithIdp",eg(r,t))}const MI="http://localhost";class js extends ST{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new js(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:MI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}class sg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bl extends sg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Bl{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Xi extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return js._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Xi.credential(i,a)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class zr extends Bl{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends Bl{constructor(){super("twitter.com")}static credential(t,i){return js._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Br.credential(i,a)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";class Wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=tv(a);return new Wa({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=tv(a);return new Wa({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function tv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Zc extends ir{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Zc(t,i,a,l)}}function bT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,t,a):c})}async function xI(r,t,i=!1){const a=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Wa._forOperation(r,"link",a)}async function UI(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(ks(a));const l="reauthenticate";try{const c=await Nl(r,bT(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=ng(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(r.uid===p,a,"user-mismatch"),Wa._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Di(a,"user-mismatch"),c}}async function kI(r,t,i=!1){if(Xn(r.app))return Promise.reject(ks(r));const a="signIn",l=await bT(r,a,t),c=await Wa._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function LI(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function PI(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function zI(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}function BI(r){return We(r).signOut()}const Wc="__sak";class wT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jI=1e3,qI=10;class CT extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);AI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,qI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}CT.type="LOCAL";const HI=CT;class RT extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}RT.type="SESSION";const IT=RT;function FI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Th(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async A=>A(i.origin,c)),y=await FI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function ag(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class QI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const A=ag("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===A)switch(V.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:A,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function GI(r){Ci().location.href=r}function DT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function KI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YI(){return navigator?.serviceWorker?.controller||null}function XI(){return DT()?self:null}const NT="firebaseLocalStorageDb",JI=1,$c="firebaseLocalStorage",OT="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function ZI(){const r=indexedDB.deleteDatabase(NT);return new jl(r).toPromise()}function dm(){const r=indexedDB.open(NT,JI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:OT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await ZI(),t(await dm()))})})}async function ev(r,t,i){const a=Sh(r,!0).put({[OT]:t,value:i});return new jl(a).toPromise()}async function WI(r,t){const i=Sh(r,!1).get(t),a=await new jl(i).toPromise();return a===void 0?null:a.value}function nv(r,t){const i=Sh(r,!0).delete(t);return new jl(i).toPromise()}const $I=800,t2=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>t2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(XI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new QI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dm();return await ev(t,Wc,"1"),await nv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ev(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>WI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const e2=VT;new zl(3e4,6e4);function MT(r,t){return t?Zi(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class og extends ST{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function n2(r){return kI(r.auth,new og(r),r.bypassAuthState)}function i2(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),UI(i,new og(r),r.bypassAuthState)}async function r2(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),xI(i,new og(r),r.bypassAuthState)}class xT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(A){this.reject(A)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return n2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return i2;default:Di(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const s2=new zl(2e3,1e4);async function a2(r,t,i){if(Xn(r.app))return Promise.reject(Zn(r,"operation-not-supported-in-this-environment"));const a=Eh(r);tI(r,t,sg);const l=MT(a,i);return new xs(a,"signInViaPopup",t,l).executeNotNull()}class xs extends xT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,s2.get())};t()}}xs.currentPopupAction=null;const o2="pendingRedirect",Vc=new Map;class l2 extends xT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await u2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u2(r,t){const i=f2(t),a=h2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function c2(r,t){Vc.set(r._key(),t)}function h2(r){return Zi(r._redirectPersistence)}function f2(r){return Oc(o2,r.config.apiKey,r.name)}async function d2(r,t,i=!1){if(Xn(r.app))return Promise.reject(ks(r));const a=Eh(r),l=MT(a,t),d=await new l2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const m2=600*1e3;class g2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!p2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!UT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=m2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(t))}saveEventToCache(t){this.cachedEventUids.add(iv(t)),this.lastProcessedEventTime=Date.now()}}function iv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function UT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function p2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(r);default:return!1}}async function y2(r,t={}){return so(r,"GET","/v1/projects",t)}const A2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_2=/^https?/;async function v2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await y2(r);for(const i of t)try{if(E2(i))return}catch{}Di(r,"unauthorized-domain")}function E2(r){const t=hm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!_2.test(i))return!1;if(A2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const T2=new zl(3e4,6e4);function rv(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function S2(r){return new Promise((t,i)=>{function a(){rv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rv(),i(Zn(r,"network-request-failed"))},timeout:T2.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const l=RI("iframefcb");return Ci()[l]=()=>{gapi.load?a():i(Zn(r,"network-request-failed"))},wI(`${CI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function b2(r){return Mc=Mc||S2(r),Mc}const w2=new zl(5e3,15e3),C2="__/auth/iframe",R2="emulator/auth/iframe",I2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N2(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?tg(t,R2):`https://${r.config.authDomain}/${C2}`,a={apiKey:t.apiKey,appName:r.name,v:to},l=D2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Vl(a).slice(1)}`}async function O2(r){const t=await b2(r),i=Ci().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:N2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(r,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},w2.get());function y(){Ci().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M2=500,x2=600,U2="_blank",k2="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(r,t,i,a=M2,l=x2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...V2,width:a.toString(),height:l.toString(),top:c,left:d},A=Ze().toLowerCase();i&&(p=gT(A)?U2:i),dT(A)&&(t=t||k2,y.scrollbars="yes");const T=Object.entries(y).reduce((V,[F,$])=>`${V}${F}=${$},`,"");if(yI(A)&&p!=="_self")return P2(t||"",p),new sv(null);const S=window.open(t||"",p,T);pt(S,r,"popup-blocked");try{S.focus()}catch{}return new sv(S)}function P2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const z2="__/auth/handler",B2="emulator/auth/handler",j2=encodeURIComponent("fac");async function av(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:to,eventId:l};if(t instanceof sg){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",wb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Bl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await r._getAppCheckToken(),A=y?`#${j2}=${encodeURIComponent(y)}`:"";return`${q2(r)}?${Vl(p).slice(1)}${A}`}function q2({config:r}){return r.emulator?tg(r,B2):`https://${r.authDomain}/${z2}`}const Bd="webStorageSupport";class H2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=d2,this._overrideRedirectResult=c2}async _openPopup(t,i,a,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await av(t,i,a,hm(),l);return L2(t,c,ag())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await av(t,i,a,hm(),l);return GI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await O2(t),a=new g2(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),Di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=v2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return vT()||mT()||ig()}}const F2=H2;var ov="@firebase/auth",lv="1.11.1";class Q2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function G2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(r){Qa(new Ps("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(r)},A=new SI(a,l,c,y);return DI(A,i),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Ps("auth-internal",t=>{const i=Eh(t.getProvider("auth").getImmediate());return(a=>new Q2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(ov,lv,G2(r)),Fr(ov,lv,"esm2020")}const Y2=300,X2=pv("authIdTokenMaxAge")||Y2;let uv=null;const J2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>X2)return;const l=i?.token;uv!==l&&(uv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Z2(r=Tv()){const t=ym(r,"auth");if(t.isInitialized())return t.getImmediate();const i=II(r,{popupRedirectResolver:F2,persistence:[e2,HI,IT]}),a=pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=J2(c.toString());PI(i,d,()=>d(i.currentUser)),LI(i,p=>d(p))}}const l=mv("auth");return l&&NI(i,`http://${l}`),i}function W2(){return document.getElementsByTagName("head")?.[0]??document}bI({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Zn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",W2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");const $2={apiKey:"AIzaSyB7o546NGglFSjtUFbKzVdd1T_tXWfGPj8",authDomain:"animadex-2f979.firebaseapp.com",projectId:"animadex-2f979",storageBucket:"animadex-2f979.firebasestorage.app",messagingSenderId:"577072322198",appId:"1:577072322198:web:4b922cb45a849f13add4b7"},kT=Ev($2),qs=kR(kT),jd=Z2(kT);function tD(){const[r,t]=ke.useState(null),[i,a]=ke.useState(!1);return ke.useEffect(()=>zI(jd,async d=>{if(t(d),d){const p=await nT(Pl(qs,"admins",d.uid));a(p.exists())}else a(!1)}),[]),{user:r,isAdmin:i,login:()=>a2(jd,new Xi).catch(console.error),logout:()=>BI(jd).catch(console.error)}}async function cv(){return(await YR(Qm(qs,"entries"))).docs.map(t=>({id:t.id,...t.data()}))}async function eD(r){const{id:t,...i}=r;if(t)return await rT(Pl(qs,"entries",t),i),r;{const a=await sT(Qm(qs,"entries"),i);return{...i,id:a.id}}}async function nD(r){await JR(Pl(qs,"entries",r))}async function iD(r,t){for(let i=0;i<r.length;i++){const a=r[i];if(a.id){const l=Pl(qs,"entries",a.id),c=await nT(l),{id:d,...p}=a;c.exists()?await rT(l,p):await XR(l,p)}else{const{id:l,...c}=a;await sT(Qm(qs,"entries"),c)}t?.(i+1,r.length)}}function rD(){const{user:r,isAdmin:t,login:i,logout:a}=tD(),[l,c]=ke.useState([]),[d,p]=ke.useState(""),[y,A]=ke.useState(""),[T,S]=ke.useState(""),[V,F]=ke.useState(!1),[$,W]=ke.useState(null),[tt,ht]=ke.useState(!0),[At,dt]=ke.useState("latin"),[qt,Ht]=ke.useState({uploading:!1,uploaded:0,total:0});ke.useEffect(()=>{(async()=>{try{const L=await cv();c(L.length?L:zA)}catch(L){console.error("Error loading entries:",L),c(zA)}})()},[]);async function xt(L){if(!r||!t){alert("Only admins can load backups");return}const Z=L.target.files?.[0];if(!Z)return;const it=await Z.text();let gt;try{if(gt=JSON.parse(it),!Array.isArray(gt))throw new Error}catch{alert("Invalid backup file format");return}Ht({uploading:!0,uploaded:0,total:gt.length});try{await iD(gt,(O,G)=>{Ht({uploading:!0,uploaded:O,total:G})});const Ct=await cv();c(Ct),Ht({uploading:!1,uploaded:0,total:0}),alert("Backup loaded successfully!")}catch(Ct){console.error("Failed to load backup:",Ct),Ht({uploading:!1,uploaded:0,total:0}),alert("Failed to load backup. Check console for details.")}}function I(){const L=JSON.stringify(l,null,2),Z=new Blob([L],{type:"application/json"}),it=URL.createObjectURL(Z),gt=document.createElement("a");gt.href=it,gt.download=`entries_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(gt),gt.click(),document.body.removeChild(gt),URL.revokeObjectURL(it)}function b(){if(!r||!t){alert("Only admins can add entries");return}W({id:null,image:"",latin:"",english:"",french:"",japanese:"",category:"bird",locations:[],capture:"photo",date:new Date().toISOString().slice(0,10),notes:"",infoLink:""}),F(!0),window.scrollTo({top:0,behavior:"smooth"})}function R(L){if(!r||!t){alert("Only admins can edit entries");return}W({...L}),F(!0)}async function M(L){if(!r||!t){alert("Only admins can delete entries");return}if(confirm("Delete?"))try{await nD(L),c(Z=>Z.filter(it=>it.id!==L))}catch(Z){console.error("Failed to delete:",Z)}}function D(L){if(!L)return;const Z=new FileReader;Z.onload=()=>W(it=>({...it,image:Z.result})),Z.readAsDataURL(L)}async function U(L){if(L.preventDefault(),!r||!t){alert("Only admins can save entries");return}try{const Z=await eD($);c(it=>it.find(Ct=>Ct.id===Z.id)?it.map(Ct=>Ct.id===Z.id?Z:Ct):[Z,...it]),F(!1),W(null)}catch(Z){console.error("Failed to save entry:",Z)}}const w=l.filter(L=>{const Z=d.toLowerCase(),it=!d||[L.latin,L.english,L.french,L.japanese,...L.locations||[]].join(" ").toLowerCase().includes(Z),gt=!y||L.category===y,Ct=!T||L.capture===T;return it&&gt&&Ct}),Yt={};w.forEach(L=>Yt[L.category]=(Yt[L.category]||0)+1);const oe={};return w.forEach(L=>oe[L.capture]=(oe[L.capture]||0)+1),Y.jsxs("div",{style:{width:"100vw",minHeight:"100vh",boxSizing:"border-box",backgroundColor:"#5a1a1aff"},children:[Y.jsx(ZS,{...qt}),tt&&Y.jsx("div",{style:{position:"sticky",top:0,zIndex:1e3,maxWidth:"1200px",margin:"0 auto",width:"100%",padding:"16px 50px",boxSizing:"border-box"},children:Y.jsx(FS,{query:d,setQuery:p,categoryFilter:y,setCategoryFilter:A,captureFilter:T,setCaptureFilter:S,openAddForm:b,categoryCounts:Yt,captureCounts:oe,setIsBannerVisible:ht,selectedLanguage:At,setLanguage:dt})}),!tt&&Y.jsx("div",{style:{position:"sticky",top:0,zIndex:1e3,width:"100%",padding:"8px",textAlign:"center",boxSizing:"border-box"},children:Y.jsx("button",{onClick:()=>ht(!0),style:{padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",backgroundColor:"#2563eb",color:"white",fontWeight:"bold"},children:"Show Banner"})}),Y.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",width:"100%",padding:"24px",boxSizing:"border-box",textAlign:"center"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",alignItems:"center",marginBottom:"16px"},children:[Y.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold"},children:"Landre's Animadex"}),Y.jsx("div",{children:r?Y.jsxs(Y.Fragment,{children:[Y.jsxs("span",{style:{marginRight:"8px"},children:[r.displayName," ",t&&"(Admin)"]}),t&&Y.jsx($S,{downloadEntries:I,loadBackup:xt}),Y.jsx("button",{onClick:a,style:{padding:"6px 12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Logout"})]}):Y.jsx("button",{onClick:i,style:{padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Login"})})]}),Y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"32px",justifyItems:"center",boxSizing:"border-box",overflowX:"hidden"},children:[$&&$.id===null&&Y.jsx("div",{style:{gridColumn:"1 / -1"},children:Y.jsx(PA,{editing:$,setEditing:W,onSubmit:U,onCancel:()=>W(null),handleImageUpload:D})}),w.map(L=>Y.jsxs(yS.Fragment,{children:[Y.jsx(JS,{entry:L,onEdit:R,onDelete:M,selectedLanguage:At}),$&&$.id===L.id&&Y.jsx("div",{style:{gridColumn:"1 / -1"},children:Y.jsx(PA,{editing:$,setEditing:W,onSubmit:U,onCancel:()=>W(null),handleImageUpload:D})})]},L.id))]}),Y.jsx("footer",{style:{marginTop:"32px",fontSize:"0.85rem",color:"#6b7280"},children:"You reached the end of the animadex: Now please go outside and find new species!"})]})]})}bS.createRoot(document.getElementById("root")).render(Y.jsx(ke.StrictMode,{children:Y.jsx(rD,{})}));
