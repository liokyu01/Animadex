(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var Rf={exports:{}},xl={};var fy;function G0(){if(fy)return xl;fy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:f}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var dy;function Q0(){return dy||(dy=1,Rf.exports=G0()),Rf.exports}var ft=Q0(),Cf={exports:{}},_t={};var my;function F0(){if(my)return _t;my=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function Y(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function gt(I,F,W){this.props=I,this.context=F,this.refs=Z,this.updater=W||tt}gt.prototype.isReactComponent={},gt.prototype.setState=function(I,F){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,F,"setState")},gt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function rt(){}rt.prototype=gt.prototype;function nt(I,F,W){this.props=I,this.context=F,this.refs=Z,this.updater=W||tt}var Et=nt.prototype=new rt;Et.constructor=nt,et(Et,gt.prototype),Et.isPureReactComponent=!0;var Mt=Array.isArray;function Rt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(I,F,W){var at=W.ref;return{$$typeof:r,type:I,key:F,ref:at!==void 0?at:null,props:W}}function O(I,F){return w(I.type,F,I.props)}function N(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function z(I){var F={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return F[W]})}var R=/\/+/g;function ne(I,F){return typeof I=="object"&&I!==null&&I.key!=null?z(""+I.key):F.toString(36)}function Re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Rt,Rt):(I.status="pending",I.then(function(F){I.status==="pending"&&(I.status="fulfilled",I.value=F)},function(F){I.status==="pending"&&(I.status="rejected",I.reason=F)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function k(I,F,W,at,pt){var St=typeof I;(St==="undefined"||St==="boolean")&&(I=null);var xt=!1;if(I===null)xt=!0;else switch(St){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(I.$$typeof){case r:case e:xt=!0;break;case A:return xt=I._init,k(xt(I._payload),F,W,at,pt)}}if(xt)return pt=pt(I),xt=at===""?"."+ne(I,0):at,Mt(pt)?(W="",xt!=null&&(W=xt.replace(R,"$&/")+"/"),k(pt,F,W,"",function(La){return La})):pt!=null&&(N(pt)&&(pt=O(pt,W+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+xt)),F.push(pt)),1;xt=0;var Ce=at===""?".":at+":";if(Mt(I))for(var ie=0;ie<I.length;ie++)at=I[ie],St=Ce+ne(at,ie),xt+=k(at,F,W,St,pt);else if(ie=Y(I),typeof ie=="function")for(I=ie.call(I),ie=0;!(at=I.next()).done;)at=at.value,St=Ce+ne(at,ie++),xt+=k(at,F,W,St,pt);else if(St==="object"){if(typeof I.then=="function")return k(Re(I),F,W,at,pt);throw F=String(I),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return xt}function $(I,F,W){if(I==null)return I;var at=[],pt=0;return k(I,at,"","",function(St){return F.call(W,St,pt++)}),at}function ct(I){if(I._status===-1){var F=I._result;F=F(),F.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=F)}if(I._status===1)return I._result.default;throw I._result}var Lt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},kt={map:$,forEach:function(I,F,W){$(I,function(){F.apply(this,arguments)},W)},count:function(I){var F=0;return $(I,function(){F++}),F},toArray:function(I){return $(I,function(F){return F})||[]},only:function(I){if(!N(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return _t.Activity=b,_t.Children=kt,_t.Component=gt,_t.Fragment=i,_t.Profiler=u,_t.PureComponent=nt,_t.StrictMode=s,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},_t.cache=function(I){return function(){return I.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(I,F,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=et({},I.props),pt=I.key;if(F!=null)for(St in F.key!==void 0&&(pt=""+F.key),F)!S.call(F,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&F.ref===void 0||(at[St]=F[St]);var St=arguments.length-2;if(St===1)at.children=W;else if(1<St){for(var xt=Array(St),Ce=0;Ce<St;Ce++)xt[Ce]=arguments[Ce+2];at.children=xt}return w(I.type,pt,at)},_t.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:f,_context:I},I},_t.createElement=function(I,F,W){var at,pt={},St=null;if(F!=null)for(at in F.key!==void 0&&(St=""+F.key),F)S.call(F,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=F[at]);var xt=arguments.length-2;if(xt===1)pt.children=W;else if(1<xt){for(var Ce=Array(xt),ie=0;ie<xt;ie++)Ce[ie]=arguments[ie+2];pt.children=Ce}if(I&&I.defaultProps)for(at in xt=I.defaultProps,xt)pt[at]===void 0&&(pt[at]=xt[at]);return w(I,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(I){return{$$typeof:y,render:I}},_t.isValidElement=N,_t.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:ct}},_t.memo=function(I,F){return{$$typeof:_,type:I,compare:F===void 0?null:F}},_t.startTransition=function(I){var F=D.T,W={};D.T=W;try{var at=I(),pt=D.S;pt!==null&&pt(W,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Rt,Lt)}catch(St){Lt(St)}finally{F!==null&&W.types!==null&&(F.types=W.types),D.T=F}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(I){return D.H.use(I)},_t.useActionState=function(I,F,W){return D.H.useActionState(I,F,W)},_t.useCallback=function(I,F){return D.H.useCallback(I,F)},_t.useContext=function(I){return D.H.useContext(I)},_t.useDebugValue=function(){},_t.useDeferredValue=function(I,F){return D.H.useDeferredValue(I,F)},_t.useEffect=function(I,F){return D.H.useEffect(I,F)},_t.useEffectEvent=function(I){return D.H.useEffectEvent(I)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(I,F,W){return D.H.useImperativeHandle(I,F,W)},_t.useInsertionEffect=function(I,F){return D.H.useInsertionEffect(I,F)},_t.useLayoutEffect=function(I,F){return D.H.useLayoutEffect(I,F)},_t.useMemo=function(I,F){return D.H.useMemo(I,F)},_t.useOptimistic=function(I,F){return D.H.useOptimistic(I,F)},_t.useReducer=function(I,F,W){return D.H.useReducer(I,F,W)},_t.useRef=function(I){return D.H.useRef(I)},_t.useState=function(I){return D.H.useState(I)},_t.useSyncExternalStore=function(I,F,W){return D.H.useSyncExternalStore(I,F,W)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.0",_t}var gy;function od(){return gy||(gy=1,Cf.exports=F0()),Cf.exports}var ji=od(),wf={exports:{}},zl={},Df={exports:{}},Vf={};var py;function Y0(){return py||(py=1,(function(r){function e(k,$){var ct=k.length;k.push($);t:for(;0<ct;){var Lt=ct-1>>>1,kt=k[Lt];if(0<u(kt,$))k[Lt]=$,k[ct]=kt,ct=Lt;else break t}}function i(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var $=k[0],ct=k.pop();if(ct!==$){k[0]=ct;t:for(var Lt=0,kt=k.length,I=kt>>>1;Lt<I;){var F=2*(Lt+1)-1,W=k[F],at=F+1,pt=k[at];if(0>u(W,ct))at<kt&&0>u(pt,W)?(k[Lt]=pt,k[at]=ct,Lt=at):(k[Lt]=W,k[F]=ct,Lt=F);else if(at<kt&&0>u(pt,ct))k[Lt]=pt,k[at]=ct,Lt=at;else break t}}return $}function u(k,$){var ct=k.sortIndex-$.sortIndex;return ct!==0?ct:k.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,x=3,Y=!1,tt=!1,et=!1,Z=!1,gt=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function Et(k){for(var $=i(_);$!==null;){if($.callback===null)s(_);else if($.startTime<=k)s(_),$.sortIndex=$.expirationTime,e(v,$);else break;$=i(_)}}function Mt(k){if(et=!1,Et(k),!tt)if(i(v)!==null)tt=!0,Rt||(Rt=!0,z());else{var $=i(_);$!==null&&Re(Mt,$.startTime-k)}}var Rt=!1,D=-1,S=5,w=-1;function O(){return Z?!0:!(r.unstable_now()-w<S)}function N(){if(Z=!1,Rt){var k=r.unstable_now();w=k;var $=!0;try{t:{tt=!1,et&&(et=!1,rt(D),D=-1),Y=!0;var ct=x;try{e:{for(Et(k),b=i(v);b!==null&&!(b.expirationTime>k&&O());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,x=b.priorityLevel;var kt=Lt(b.expirationTime<=k);if(k=r.unstable_now(),typeof kt=="function"){b.callback=kt,Et(k),$=!0;break e}b===i(v)&&s(v),Et(k)}else s(v);b=i(v)}if(b!==null)$=!0;else{var I=i(_);I!==null&&Re(Mt,I.startTime-k),$=!1}}break t}finally{b=null,x=ct,Y=!1}$=void 0}}finally{$?z():Rt=!1}}}var z;if(typeof nt=="function")z=function(){nt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=N,z=function(){ne.postMessage(null)}}else z=function(){gt(N,0)};function Re(k,$){D=gt(function(){k(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(k){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var ct=x;x=$;try{return k()}finally{x=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ct=x;x=k;try{return $()}finally{x=ct}},r.unstable_scheduleCallback=function(k,$,ct){var Lt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,k){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=ct+kt,k={id:A++,callback:$,priorityLevel:k,startTime:ct,expirationTime:kt,sortIndex:-1},ct>Lt?(k.sortIndex=ct,e(_,k),i(v)===null&&k===i(_)&&(et?(rt(D),D=-1):et=!0,Re(Mt,ct-Lt))):(k.sortIndex=kt,e(v,k),tt||Y||(tt=!0,Rt||(Rt=!0,z()))),k},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(k){var $=x;return function(){var ct=x;x=$;try{return k.apply(this,arguments)}finally{x=ct}}}})(Vf)),Vf}var yy;function X0(){return yy||(yy=1,Df.exports=Y0()),Df.exports}var Nf={exports:{}},Qe={};var _y;function K0(){if(_y)return Qe;_y=1;var r=od();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:Y}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var vy;function Z0(){if(vy)return Nf.exports;vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nf.exports=K0(),Nf.exports}var Ey;function J0(){if(Ey)return zl;Ey=1;var r=X0(),e=od(),i=Z0();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),Mt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case gt:return"Profiler";case Z:return"StrictMode";case Mt:return"Suspense";case Rt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case nt:return t.displayName||"Context";case rt:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var Re=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],kt=-1;function I(t){return{current:t}}function F(t){0>kt||(t.current=Lt[kt],Lt[kt]=null,kt--)}function W(t,n){kt++,Lt[kt]=t.current,t.current=n}var at=I(null),pt=I(null),St=I(null),xt=I(null);function Ce(t,n){switch(W(St,n),W(pt,t),W(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=zp(n),t=Up(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(at),W(at,t)}function ie(){F(at),F(pt),F(St)}function La(t){t.memoizedState!==null&&W(xt,t);var n=at.current,a=Up(n,t.type);n!==a&&(W(pt,t),W(at,a))}function Ts(t){pt.current===t&&(F(at),F(pt)),xt.current===t&&(F(xt),Nl._currentValue=ct)}var As,Ss;function Qn(t){if(As===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);As=n&&n[1]||"",Ss=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+Ss}var Nr=!1;function Ba(t,n){if(!t||Nr)return"";Nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(P){var j=P}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(P){j=P}t.call(Q.prototype)}}else{try{throw Error()}catch(P){j=P}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(P){if(P&&j&&typeof P.stack=="string")return[P.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var C=g.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var H=`
`+C[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qn(a):""}function Ir(t,n){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return Qn("Activity");default:return""}}function Or(t){try{var n="",a=null;do n+=Ir(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,we=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,Cc=r.unstable_shouldYield,au=r.unstable_requestPaint,Ke=r.unstable_now,ja=r.unstable_getCurrentPriorityLevel,Mr=r.unstable_ImmediatePriority,xr=r.unstable_UserBlockingPriority,Gi=r.unstable_NormalPriority,wc=r.unstable_LowPriority,su=r.unstable_IdlePriority,ru=r.log,lu=r.unstable_setDisableYieldValue,On=null,Ue=null;function _n(t){if(typeof ru=="function"&&lu(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(On,t)}catch{}}var oe=Math.clz32?Math.clz32:ou,uu=Math.log,bs=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(uu(t)/bs|0)|0}var Fn=256,qa=262144,ge=4194304;function Yn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Yn(l):(g&=E,g!==0?c=Yn(g):a||(a=E&~t,a!==0&&(c=Yn(a))))):(E=l&~h,E!==0?c=Yn(E):g!==0?c=Yn(g):a||(a=l&~t,a!==0&&(c=Yn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Kn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Pa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-oe(a),Q=1<<H;E[H]=0,C[H]=-1;var j=B[H];if(j!==null)for(B[H]=null,H=0;H<j.length;H++){var P=j[H];P!==null&&(P.lane&=-536870913)}a&=~Q}l!==0&&Ha(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Ha(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-oe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Ur(t,n){var a=n&-n;return a=(a&42)!==0?1:ka(a),(a&(t.suspendedLanes|n))!==0?0:a}function ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:sy(t.type))}function xn(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var zn=Math.random().toString(36).slice(2),pe="__reactFiber$"+zn,Ie="__reactProps$"+zn,Zn="__reactContainer$"+zn,Rs="__reactEvents$"+zn,Nc="__reactListeners$"+zn,fu="__reactHandles$"+zn,du="__reactResources$"+zn,Jn="__reactMarker$"+zn;function Cs(t){delete t[pe],delete t[Ie],delete t[Rs],delete t[Nc],delete t[fu]}function $n(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Zn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=kp(t);t!==null;){if(a=t[pe])return a;t=kp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[pe]||t[Zn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Wn(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[Jn]=!0}var Lr=new Set,Br={};function ti(t,n){ei(t,n),ei(t+"Capture",n)}function ei(t,n){for(Br[t]=n,t=0;t<n.length;t++)Lr.add(n[t])}var jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},Pr={};function mu(t){return me.call(Pr,t)?!0:me.call(qr,t)?!1:jr.test(t)?Pr[t]=!0:(qr[t]=!0,!1)}function ws(t,n,a){if(mu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function on(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _e(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Qi(t)?"checked":"value";t._valueTracker=Hr(t,n,""+t[n])}}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qa=/[\n"\\]/g;function $e(t){return t.replace(Qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ds(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?kr(t,g,Oe(n)):a!=null?kr(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function gu(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function kr(t,n,a){n==="number"&&ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Yi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function We(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||yu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Qr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Gr(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Gr(t,h,n[h])}function Vs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(t){return Xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Fr=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,ii=null;function Fa(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Ie]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ds(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ie]||null;if(!c)throw Error(s(90));Ds(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ga(l)}break t;case"textarea":pu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Fi(t,!!a.multiple,n,!1)}}}var Is=!1;function Zi(t,n,a){if(Is)return t(n,a);Is=!0;try{var l=t(n);return l}finally{if(Is=!1,(Ki!==null||ii!==null)&&(ho(),Ki&&(n=Ki,t=ii,ii=Ki=null,Fa(n),t)))for(n=0;n<t.length;n++)Fa(t[n])}}function Ln(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ie]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Tn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Ya=!1}var ai=null,Yr=null,Xa=null;function Xr(){if(Xa)return Xa;var t,n=Yr,a=n.length,l,c="value"in ai?ai.value:ai.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return Xa=c.slice(t,1<l?1-l:void 0)}function Ka(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function Bn(){return!1}function Le(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ti:Bn,this.isPropagationStopped=Bn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Le(Ai),Ji=b({},Ai,{view:0,detail:0}),Kr=Le(Ji),$i,Os,ri,Ms=b({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?($i=t.screenX-ri.screenX,Os=t.screenY-ri.screenY):Os=$i=0,ri=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),Zr=Le(Ms),Za=b({},Ms,{dataTransfer:0}),vu=Le(Za),Eu=b({},Ji,{relatedTarget:0}),Ja=Le(Eu),Jr=b({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Le(Jr),xs=b({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Le(xs),Su=b({},Ai,{data:0}),li=Le(Su),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Wi(){return wu}var Ze=b({},Ji,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(t){return t.type==="keypress"?Ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Le(Ze),Vu=b({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=Le(Vu),o=b({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),m=Le(o),p=b({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),U=b({},Ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(U),J=b({},Ai,{newState:0,oldState:0}),Tt=Le(J),ce=[9,13,27,32],qt=Tn&&"CompositionEvent"in window,ae=null;Tn&&"documentMode"in document&&(ae=document.documentMode);var An=Tn&&"TextEvent"in window&&!ae,ui=Tn&&(!qt||ae&&8<ae&&11>=ae),jn=" ",qn=!1;function $a(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function mE(t,n){switch(t){case"compositionend":return zs(n);case"keypress":return n.which!==32?null:(qn=!0,jn);case"textInput":return t=n.data,t===jn&&qn?null:t;default:return null}}function gE(t,n){if(Us)return t==="compositionend"||!qt&&$a(t,n)?(t=Xr(),Xa=Yr=ai=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ui&&n.locale!=="ko"?null:n.data;default:return null}}var pE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!pE[t.type]:n==="textarea"}function Yd(t,n,a,l){Ki?ii?ii.push(l):ii=[l]:Ki=l,n=vo(n,"onChange"),0<n.length&&(a=new si("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var $r=null,Wr=null;function yE(t){Vp(t,0)}function Nu(t){var n=un(t);if(Ga(n))return t}function Xd(t,n){if(t==="change")return n}var Kd=!1;if(Tn){var Ic;if(Tn){var Oc="oninput"in document;if(!Oc){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Oc=typeof Zd.oninput=="function"}Ic=Oc}else Ic=!1;Kd=Ic&&(!document.documentMode||9<document.documentMode)}function Jd(){$r&&($r.detachEvent("onpropertychange",$d),Wr=$r=null)}function $d(t){if(t.propertyName==="value"&&Nu(Wr)){var n=[];Yd(n,Wr,t,En(t)),Zi(yE,n)}}function _E(t,n,a){t==="focusin"?(Jd(),$r=n,Wr=a,$r.attachEvent("onpropertychange",$d)):t==="focusout"&&Jd()}function vE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Wr)}function EE(t,n){if(t==="click")return Nu(n)}function TE(t,n){if(t==="input"||t==="change")return Nu(n)}function AE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:AE;function tl(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!me.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function Wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tm(t,n){var a=Wd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wd(a)}}function em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ni(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ni(t.document)}return n}function Mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var SE=Tn&&"documentMode"in document&&11>=document.documentMode,Ls=null,xc=null,el=null,zc=!1;function im(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zc||Ls==null||Ls!==ni(l)||(l=Ls,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=vo(xc,"onSelect"),0<l.length&&(n=new si("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ls)))}function Wa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Bs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Uc={},am={};Tn&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function ts(t){if(Uc[t])return Uc[t];if(!Bs[t])return t;var n=Bs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in am)return Uc[t]=n[a];return t}var sm=ts("animationend"),rm=ts("animationiteration"),lm=ts("animationstart"),bE=ts("transitionrun"),RE=ts("transitionstart"),CE=ts("transitioncancel"),um=ts("transitionend"),om=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Pn(t,n){om.set(t,n),ti(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],js=0,Bc=0;function Ou(){for(var t=js,n=Bc=js=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var h=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&cm(a,c,h)}}function Mu(t,n,a,l){Sn[js++]=t,Sn[js++]=n,Sn[js++]=a,Sn[js++]=l,Bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jc(t,n,a,l){return Mu(t,n,a,l),xu(t)}function es(t,n){return Mu(t,null,null,n),xu(t)}function cm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-oe(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function xu(t){if(50<Sl)throw Sl=0,Xh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qs={};function wE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new wE(t,n,a,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")qc(t)&&(g=1);else if(typeof t=="string")g=O0(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=hn(31,a,n,c),t.elementType=w,t.lanes=h,t;case et:return ns(a.children,c,h,n);case Z:g=8,c|=24;break;case gt:return t=hn(12,a,n,c|2),t.elementType=gt,t.lanes=h,t;case Mt:return t=hn(13,a,n,c),t.elementType=Mt,t.lanes=h,t;case Rt:return t=hn(19,a,n,c),t.elementType=Rt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:g=10;break t;case rt:g=9;break t;case Et:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=hn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ns(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Pc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function fm(t){var n=hn(18,null,null,0);return n.stateNode=t,n}function Hc(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var dm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=dm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Or(n)},dm.set(t,n),n)}return{value:t,source:n,stack:Or(n)}}var Ps=[],Hs=0,Uu=null,nl=0,Rn=[],Cn=0,ta=null,oi=1,ci="";function Ri(t,n){Ps[Hs++]=nl,Ps[Hs++]=Uu,Uu=t,nl=n}function mm(t,n,a){Rn[Cn++]=oi,Rn[Cn++]=ci,Rn[Cn++]=ta,ta=t;var l=oi;t=ci;var c=32-oe(l)-1;l&=~(1<<c),a+=1;var h=32-oe(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,oi=1<<32-oe(n)+c|a<<c|l,ci=h+t}else oi=1<<h|a<<c|l,ci=t}function kc(t){t.return!==null&&(Ri(t,1),mm(t,1,0))}function Gc(t){for(;t===Uu;)Uu=Ps[--Hs],Ps[Hs]=null,nl=Ps[--Hs],Ps[Hs]=null;for(;t===ta;)ta=Rn[--Cn],Rn[Cn]=null,ci=Rn[--Cn],Rn[Cn]=null,oi=Rn[--Cn],Rn[Cn]=null}function gm(t,n){Rn[Cn++]=oi,Rn[Cn++]=ci,Rn[Cn++]=ta,oi=n.id,ci=n.overflow,ta=t}var Be=null,$t=null,Ot=!1,ea=null,wn=!1,Qc=Error(s(519));function na(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(bn(n,t)),Qc}function pm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Ie]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)wt(Rl[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),gu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Yi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Mp(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||na(t,!0)}function ym(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Be=Be.return}}function ks(t){if(t!==Be)return!1;if(!Ot)return ym(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cf(t.type,t.memoizedProps)),a=!a),a&&$t&&na(t),ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Hp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Hp(t)}else n===27?(n=$t,pa(t.type)?(t=gf,gf=null,$t=t):$t=n):$t=Be?Vn(t.stateNode.nextSibling):null;return!0}function is(){$t=Be=null,Ot=!1}function Fc(){var t=ea;return t!==null&&(an===null?an=t:an.push.apply(an,t),ea=null),t}function il(t){ea===null?ea=[t]:ea.push(t)}var Yc=I(null),as=null,Ci=null;function ia(t,n,a){W(Yc,n._currentValue),n._currentValue=a}function wi(t){t._currentValue=Yc.current,F(Yc)}function Xc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Kc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Xc(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Xc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Gs(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;cn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===xt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Kc(n,t,a,l),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return _m(as,t)}function Bu(t,n){return as===null&&ss(t),_m(t,n)}function _m(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return a}var DE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},VE=r.unstable_scheduleCallback,NE=r.unstable_NormalPriority,ve={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new DE,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&VE(NE,function(){t.controller.abort()})}var sl=null,Jc=0,Qs=0,Fs=null;function IE(t,n){if(sl===null){var a=sl=[];Jc=0,Qs=tf(),Fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jc++,n.then(vm,vm),n}function vm(){if(--Jc===0&&sl!==null){Fs!==null&&(Fs.status="fulfilled");var t=sl;sl=null,Qs=0,Fs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function OE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Em=k.S;k.S=function(t,n){ip=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IE(t,n),Em!==null&&Em(t,n)};var rs=I(null);function $c(){var t=rs.current;return t!==null?t:Jt.pooledCache}function ju(t,n){n===null?W(rs,rs.current):W(rs,n.pool)}function Tm(){var t=$c();return t===null?null:{parent:ve._currentValue,pool:t}}var Ys=Error(s(460)),Wc=Error(s(474)),qu=Error(s(542)),Pu={then:function(){}};function Am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Un,Un),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t;default:if(typeof n.status=="string")n.then(Un,Un);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t}throw us=n,Ys}}function ls(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(us=a,Ys):a}}var us=null;function bm(){if(us===null)throw Error(s(459));var t=us;return us=null,t}function Rm(t){if(t===Ys||t===qu)throw Error(s(483))}var Xs=null,rl=0;function Hu(t){var n=rl;return rl+=1,Xs===null&&(Xs=[]),Sm(Xs,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Cm(t){function n(M,V){if(t){var L=M.deletions;L===null?(M.deletions=[V],M.flags|=16):L.push(V)}}function a(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function c(M,V){return M=bi(M,V),M.index=0,M.sibling=null,M}function h(M,V,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<V?(M.flags|=67108866,V):L):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,V,L,G){return V===null||V.tag!==6?(V=Pc(L,M.mode,G),V.return=M,V):(V=c(V,L),V.return=M,V)}function C(M,V,L,G){var ot=L.type;return ot===et?H(M,V,L.props.children,G,L.key):V!==null&&(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&ls(ot)===V.type)?(V=c(V,L.props),ll(V,L),V.return=M,V):(V=zu(L.type,L.key,L.props,null,M.mode,G),ll(V,L),V.return=M,V)}function B(M,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Hc(L,M.mode,G),V.return=M,V):(V=c(V,L.children||[]),V.return=M,V)}function H(M,V,L,G,ot){return V===null||V.tag!==7?(V=ns(L,M.mode,G,ot),V.return=M,V):(V=c(V,L),V.return=M,V)}function Q(M,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Pc(""+V,M.mode,L),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Y:return L=zu(V.type,V.key,V.props,null,M.mode,L),ll(L,V),L.return=M,L;case tt:return V=Hc(V,M.mode,L),V.return=M,V;case S:return V=ls(V),Q(M,V,L)}if(Re(V)||z(V))return V=ns(V,M.mode,L,null),V.return=M,V;if(typeof V.then=="function")return Q(M,Hu(V),L);if(V.$$typeof===nt)return Q(M,Bu(M,V),L);ku(M,V)}return null}function j(M,V,L,G){var ot=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(M,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ot?C(M,V,L,G):null;case tt:return L.key===ot?B(M,V,L,G):null;case S:return L=ls(L),j(M,V,L,G)}if(Re(L)||z(L))return ot!==null?null:H(M,V,L,G,null);if(typeof L.then=="function")return j(M,V,Hu(L),G);if(L.$$typeof===nt)return j(M,V,Bu(M,L),G);ku(M,L)}return null}function P(M,V,L,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,E(V,M,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:return M=M.get(G.key===null?L:G.key)||null,C(V,M,G,ot);case tt:return M=M.get(G.key===null?L:G.key)||null,B(V,M,G,ot);case S:return G=ls(G),P(M,V,L,G,ot)}if(Re(G)||z(G))return M=M.get(L)||null,H(V,M,G,ot,null);if(typeof G.then=="function")return P(M,V,L,Hu(G),ot);if(G.$$typeof===nt)return P(M,V,L,Bu(V,G),ot);ku(V,G)}return null}function st(M,V,L,G){for(var ot=null,Bt=null,lt=V,bt=V=0,Vt=null;lt!==null&&bt<L.length;bt++){lt.index>bt?(Vt=lt,lt=null):Vt=lt.sibling;var jt=j(M,lt,L[bt],G);if(jt===null){lt===null&&(lt=Vt);break}t&&lt&&jt.alternate===null&&n(M,lt),V=h(jt,V,bt),Bt===null?ot=jt:Bt.sibling=jt,Bt=jt,lt=Vt}if(bt===L.length)return a(M,lt),Ot&&Ri(M,bt),ot;if(lt===null){for(;bt<L.length;bt++)lt=Q(M,L[bt],G),lt!==null&&(V=h(lt,V,bt),Bt===null?ot=lt:Bt.sibling=lt,Bt=lt);return Ot&&Ri(M,bt),ot}for(lt=l(lt);bt<L.length;bt++)Vt=P(lt,M,bt,L[bt],G),Vt!==null&&(t&&Vt.alternate!==null&&lt.delete(Vt.key===null?bt:Vt.key),V=h(Vt,V,bt),Bt===null?ot=Vt:Bt.sibling=Vt,Bt=Vt);return t&&lt.forEach(function(Ta){return n(M,Ta)}),Ot&&Ri(M,bt),ot}function dt(M,V,L,G){if(L==null)throw Error(s(151));for(var ot=null,Bt=null,lt=V,bt=V=0,Vt=null,jt=L.next();lt!==null&&!jt.done;bt++,jt=L.next()){lt.index>bt?(Vt=lt,lt=null):Vt=lt.sibling;var Ta=j(M,lt,jt.value,G);if(Ta===null){lt===null&&(lt=Vt);break}t&&lt&&Ta.alternate===null&&n(M,lt),V=h(Ta,V,bt),Bt===null?ot=Ta:Bt.sibling=Ta,Bt=Ta,lt=Vt}if(jt.done)return a(M,lt),Ot&&Ri(M,bt),ot;if(lt===null){for(;!jt.done;bt++,jt=L.next())jt=Q(M,jt.value,G),jt!==null&&(V=h(jt,V,bt),Bt===null?ot=jt:Bt.sibling=jt,Bt=jt);return Ot&&Ri(M,bt),ot}for(lt=l(lt);!jt.done;bt++,jt=L.next())jt=P(lt,M,bt,jt.value,G),jt!==null&&(t&&jt.alternate!==null&&lt.delete(jt.key===null?bt:jt.key),V=h(jt,V,bt),Bt===null?ot=jt:Bt.sibling=jt,Bt=jt);return t&&lt.forEach(function(k0){return n(M,k0)}),Ot&&Ri(M,bt),ot}function Zt(M,V,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ot=L.key;V!==null;){if(V.key===ot){if(ot=L.type,ot===et){if(V.tag===7){a(M,V.sibling),G=c(V,L.props.children),G.return=M,M=G;break t}}else if(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&ls(ot)===V.type){a(M,V.sibling),G=c(V,L.props),ll(G,L),G.return=M,M=G;break t}a(M,V);break}else n(M,V);V=V.sibling}L.type===et?(G=ns(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=zu(L.type,L.key,L.props,null,M.mode,G),ll(G,L),G.return=M,M=G)}return g(M);case tt:t:{for(ot=L.key;V!==null;){if(V.key===ot)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(M,V.sibling),G=c(V,L.children||[]),G.return=M,M=G;break t}else{a(M,V);break}else n(M,V);V=V.sibling}G=Hc(L,M.mode,G),G.return=M,M=G}return g(M);case S:return L=ls(L),Zt(M,V,L,G)}if(Re(L))return st(M,V,L,G);if(z(L)){if(ot=z(L),typeof ot!="function")throw Error(s(150));return L=ot.call(L),dt(M,V,L,G)}if(typeof L.then=="function")return Zt(M,V,Hu(L),G);if(L.$$typeof===nt)return Zt(M,V,Bu(M,L),G);ku(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(M,V.sibling),G=c(V,L),G.return=M,M=G):(a(M,V),G=Pc(L,M.mode,G),G.return=M,M=G),g(M)):a(M,V)}return function(M,V,L,G){try{rl=0;var ot=Zt(M,V,L,G);return Xs=null,ot}catch(lt){if(lt===Ys||lt===qu)throw lt;var Bt=hn(29,lt,null,M.mode);return Bt.lanes=G,Bt.return=M,Bt}finally{}}}var os=Cm(!0),wm=Cm(!1),aa=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xu(t),cm(t,null,a),n}return Mu(t,l,n,a),xu(t)}function ul(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zr(t,a)}}function nh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ih=!1;function ol(){if(ih){var t=Fs;if(t!==null)throw t}}function cl(t,n,a,l){ih=!1;var c=t.updateQueue;aa=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,g===null?h=B:g.next=B,g=C;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=C))}if(h!==null){var Q=c.baseState;g=0,H=B=C=null,E=h;do{var j=E.lane&-536870913,P=j!==E.lane;if(P?(Dt&j)===j:(l&j)===j){j!==0&&j===Qs&&(ih=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,dt=E;j=n;var Zt=a;switch(dt.tag){case 1:if(st=dt.payload,typeof st=="function"){Q=st.call(Zt,Q,j);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=dt.payload,j=typeof st=="function"?st.call(Zt,Q,j):st,j==null)break t;Q=b({},Q,j);break t;case 2:aa=!0}}j=E.callback,j!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[j]:P.push(j))}else P={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=P,C=Q):H=H.next=P,g|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(C=Q),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),ha|=g,t.lanes=g,t.memoizedState=Q}}function Dm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Vm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dm(a[t],n)}var Ks=I(null),Gu=I(0);function Nm(t,n){t=Ui,W(Gu,t),W(Ks,n),Ui=t|n.baseLanes}function ah(){W(Gu,Ui),W(Ks,Ks.current)}function sh(){Ui=Gu.current,F(Ks),F(Gu)}var fn=I(null),Dn=null;function la(t){var n=t.alternate;W(he,he.current&1),W(fn,t),Dn===null&&(n===null||Ks.current!==null||n.memoizedState!==null)&&(Dn=t)}function rh(t){W(he,he.current),W(fn,t),Dn===null&&(Dn=t)}function Im(t){t.tag===22?(W(he,he.current),W(fn,t),Dn===null&&(Dn=t)):ua()}function ua(){W(he,he.current),W(fn,fn.current)}function dn(t){F(fn),Dn===t&&(Dn=null),F(he)}var he=I(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||df(a)||mf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Di=0,At=null,Xt=null,Ee=null,Fu=!1,Zs=!1,cs=!1,Yu=0,hl=0,Js=null,ME=0;function le(){throw Error(s(321))}function lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function uh(t,n,a,l,c,h){return Di=h,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?mg:Sh,cs=!1,h=a(l,c),cs=!1,Zs&&(h=Mm(n,a,l,c)),Om(t),h}function Om(t){k.H=ml;var n=Xt!==null&&Xt.next!==null;if(Di=0,Ee=Xt=At=null,Fu=!1,hl=0,Js=null,n)throw Error(s(300));t===null||Te||(t=t.dependencies,t!==null&&Lu(t)&&(Te=!0))}function Mm(t,n,a,l){At=t;var c=0;do{if(Zs&&(Js=null),hl=0,Zs=!1,25<=c)throw Error(s(301));if(c+=1,Ee=Xt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=gg,h=n(a,l)}while(Zs);return h}function xE(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(At.flags|=1024),n}function oh(){var t=Yu!==0;return Yu=0,t}function ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hh(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}Di=0,Ee=Xt=At=null,Zs=!1,hl=Yu=0,Js=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?At.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Xt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ee===null?At.memoizedState:Ee.next;if(n!==null)Ee=n,Xt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ee===null?At.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Js===null&&(Js=[]),t=Sm(Js,t,n),n=At,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?mg:Sh),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===nt)return je(t)}throw Error(s(438,String(t)))}function fh(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Vi(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=fe();return dh(n,Xt,t)}function dh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,C=null,B=n,H=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(Dt&Q)===Q:(Di&Q)===Q){var j=B.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===Qs&&(H=!0);else if((Di&j)===j){B=B.next,j===Qs&&(H=!0);continue}else Q={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=Q,g=h):C=C.next=Q,At.lanes|=j,ha|=j;Q=B.action,cs&&a(h,Q),h=B.hasEagerState?B.eagerState:a(h,Q)}else j={lane:Q,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=j,g=h):C=C.next=j,At.lanes|=Q,ha|=Q;B=B.next}while(B!==null&&B!==n);if(C===null?g=h:C.next=E,!cn(h,t.memoizedState)&&(Te=!0,H&&(a=Fs,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=C,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=fe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);cn(h,n.memoizedState)||(Te=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function xm(t,n,a){var l=At,c=fe(),h=Ot;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!cn((Xt||c).memoizedState,a);if(g&&(c.memoizedState=a,Te=!0),c=c.queue,yh(Lm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,$s(9,{destroy:void 0},Um.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));h||(Di&127)!==0||zm(l,n,a)}return a}function zm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Xu(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Um(t,n,a,l){n.value=a,n.getSnapshot=l,Bm(n)&&jm(t)}function Lm(t,n,a){return a(function(){Bm(n)&&jm(t)})}function Bm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function jm(t){var n=es(t,2);n!==null&&sn(n,t,2)}function gh(t){var n=Je();if(typeof t=="function"){var a=t;if(t=a(),cs){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function qm(t,n,a,l){return t.baseState=a,dh(t,Xt,typeof l=="function"?l:Vi)}function zE(t,n,a,l,c){if(Wu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};k.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Pm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Pm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=k.T,g={};k.T=g;try{var E=a(c,l),C=k.S;C!==null&&C(g,E),Hm(t,n,E)}catch(B){ph(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),k.T=h}}else try{h=a(c,l),Hm(t,n,h)}catch(B){ph(t,n,B)}}function Hm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){km(t,n,l)},function(l){return ph(t,n,l)}):km(t,n,a)}function km(t,n,a){n.status="fulfilled",n.value=a,Gm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Pm(t,a)))}function ph(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Gm(n),n=n.next;while(n!==l)}t.action=null}function Gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qm(t,n){return n}function Fm(t,n){if(Ot){var a=Jt.formState;if(a!==null){t:{var l=At;if(Ot){if($t){e:{for(var c=$t,h=wn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){$t=Vn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=a[0])}}return a=Je(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:n},a.queue=l,a=hg.bind(null,At,l),l.dispatch=a,l=gh(!1),h=Ah.bind(null,At,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=zE.bind(null,At,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ym(t){var n=fe();return Xm(n,Xt,t)}function Xm(t,n,a){if(n=dh(t,n,Qm)[0],t=Zu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(g){throw g===Ys?qu:g}else l=n;n=fe();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(At.flags|=2048,$s(9,{destroy:void 0},UE.bind(null,c,a),null)),[l,h,t]}function UE(t,n){t.action=n}function Km(t){var n=fe(),a=Xt;if(a!==null)return Xm(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $s(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Xu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Zm(){return fe().memoizedState}function Ju(t,n,a,l){var c=Je();At.flags|=t,c.memoizedState=$s(1|n,{destroy:void 0},a,l===void 0?null:l)}function $u(t,n,a,l){var c=fe();l=l===void 0?null:l;var h=c.memoizedState.inst;Xt!==null&&l!==null&&lh(l,Xt.memoizedState.deps)?c.memoizedState=$s(n,h,a,l):(At.flags|=t,c.memoizedState=$s(1|n,h,a,l))}function Jm(t,n){Ju(8390656,8,t,n)}function yh(t,n){$u(2048,8,t,n)}function LE(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=Xu(),At.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function $m(t){var n=fe().memoizedState;return LE({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Wm(t,n){return $u(4,2,t,n)}function tg(t,n){return $u(4,4,t,n)}function eg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ng(t,n,a){a=a!=null?a.concat([t]):null,$u(4,4,eg.bind(null,n,t),a)}function _h(){}function ig(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ag(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),cs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function vh(t,n,a){return a===void 0||(Di&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=sp(),At.lanes|=t,ha|=t,a)}function sg(t,n,a,l){return cn(a,n)?a:Ks.current!==null?(t=vh(t,a,l),cn(t,n)||(Te=!0),t):(Di&42)===0||(Di&1073741824)!==0&&(Dt&261930)===0?(Te=!0,t.memoizedState=a):(t=sp(),At.lanes|=t,ha|=t,n)}function rg(t,n,a,l,c){var h=$.p;$.p=h!==0&&8>h?h:8;var g=k.T,E={};k.T=E,Ah(t,!1,n,a);try{var C=c(),B=k.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=OE(C,l);dl(t,n,H,pn(t))}else dl(t,n,l,pn(t))}catch(Q){dl(t,n,{then:function(){},status:"rejected",reason:Q},pn())}finally{$.p=h,g!==null&&E.types!==null&&(g.types=E.types),k.T=g}}function BE(){}function Eh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=lg(t).queue;rg(t,c,n,ct,a===null?BE:function(){return ug(t),a(l)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ug(t){var n=lg(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},pn())}function Th(){return je(Nl)}function og(){return fe().memoizedState}function cg(){return fe().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();t=sa(a);var l=ra(n,t,a);l!==null&&(sn(l,n,a),ul(l,n,a)),n={cache:Zc()},t.payload=n;return}n=n.return}}function qE(t,n,a){var l=pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(t)?fg(n,a):(a=jc(t,n,a,l),a!==null&&(sn(a,t,l),dg(a,n,l)))}function hg(t,n,a){var l=pn();dl(t,n,a,l)}function dl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))fg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,g))return Mu(t,n,c,0),Jt===null&&Ou(),!1}catch{}finally{}if(a=jc(t,n,c,l),a!==null)return sn(a,t,l),dg(a,n,l),!0}return!1}function Ah(t,n,a,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(s(479))}else n=jc(t,a,l,2),n!==null&&sn(n,t,2)}function Wu(t){var n=t.alternate;return t===At||n!==null&&n===At}function fg(t,n){Zs=Fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function dg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zr(t,a)}}var ml={readContext:je,use:Ku,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};ml.useEffectEvent=le;var mg={readContext:je,use:Ku,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Jm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,eg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var a=Je();n=n===void 0?null:n;var l=t();if(cs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Je();if(a!==void 0){var c=a(n);if(cs){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=qE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,a=hg.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(t,n){var a=Je();return vh(a,t,n)},useTransition:function(){var t=gh(!1);return t=rg.bind(null,At,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=Je();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Dt&127)!==0||zm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Jm(Lm.bind(null,l,h,t),[t]),l.flags|=2048,$s(9,{destroy:void 0},Um.bind(null,l,h,a,n),null),a},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(Ot){var a=ci,l=oi;a=(l&~(1<<32-oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Yu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=ME++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Th,useFormState:Fm,useActionState:Fm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return Je().memoizedState=jE.bind(null,At)},useEffectEvent:function(t){var n=Je(),a={impl:t};return n.memoizedState=a,function(){if((Pt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Sh={readContext:je,use:Ku,useCallback:ig,useContext:je,useEffect:yh,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:ag,useReducer:Zu,useRef:Zm,useState:function(){return Zu(Vi)},useDebugValue:_h,useDeferredValue:function(t,n){var a=fe();return sg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Zu(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:xm,useId:og,useHostTransitionStatus:Th,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var a=fe();return qm(a,Xt,t,n)},useMemoCache:fh,useCacheRefresh:cg};Sh.useEffectEvent=$m;var gg={readContext:je,use:Ku,useCallback:ig,useContext:je,useEffect:yh,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:ag,useReducer:mh,useRef:Zm,useState:function(){return mh(Vi)},useDebugValue:_h,useDeferredValue:function(t,n){var a=fe();return Xt===null?vh(a,t,n):sg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=mh(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:xm,useId:og,useHostTransitionStatus:Th,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var a=fe();return Xt!==null?qm(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fh,useCacheRefresh:cg};gg.useEffectEvent=$m;function bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pn(),c=sa(l);c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(sn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pn(),c=sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(sn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pn(),l=sa(a);l.tag=2,n!=null&&(l.callback=n),n=ra(t,l,a),n!==null&&(sn(n,t,a),ul(n,t,a))}};function pg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!tl(a,l)||!tl(c,h):!0}function yg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function hs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function _g(t){Iu(t)}function vg(t){console.error(t)}function Eg(t){Iu(t)}function to(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ch(t,n,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){to(t,n)},a}function Ag(t){return t=sa(t),t.tag=3,t}function Sg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Tg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Tg(n,a,l),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Gs(n,a,c,!0),a=fn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?fo():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Pu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Jh(t,l,c)),!1;case 22:return a.flags|=65536,l===Pu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Jh(t,l,c)),!1}throw Error(s(435,a.tag))}return Jh(t,l,c),fo(),!1}if(Ot)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Qc&&(t=Error(s(422),{cause:l}),il(bn(t,a)))):(l!==Qc&&(n=Error(s(423),{cause:l}),il(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Ch(t.stateNode,l,c),nh(t,c),ue!==4&&(ue=2)),!1;var h=Error(s(520),{cause:l});if(h=bn(h,a),Al===null?Al=[h]:Al.push(h),ue!==4&&(ue=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ch(a.stateNode,l,t),nh(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(fa===null||!fa.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ag(c),Sg(c,t,a,l),nh(a,c),!1}a=a.return}while(a!==null);return!1}var wh=Error(s(461)),Te=!1;function qe(t,n,a,l){n.child=t===null?wm(n,null,a,l):os(n,t.child,a,l)}function bg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ss(n),l=uh(t,n,a,g,h,c),E=oh(),t!==null&&!Te?(ch(t,n,c),Ni(t,n,c)):(Ot&&E&&kc(n),n.flags|=1,qe(t,n,l,c),n.child)}function Rg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!qc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Cg(t,n,h,l,c)):(t=zu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!zh(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(g,l)&&t.ref===n.ref)return Ni(t,n,c)}return n.flags|=1,t=bi(h,l),t.ref=n.ref,t.return=n,n.child=t}function Cg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(tl(h,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=h,zh(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Ni(t,n,c)}return Dh(t,n,a,l,c)}function wg(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Dg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,h!==null?h.cachePool:null),h!==null?Nm(n,h):ah(),Im(n);else return l=n.lanes=536870912,Dg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(ju(n,h.cachePool),Nm(n,h),ua(),n.memoizedState=null):(t!==null&&ju(n,null),ah(),ua());return qe(t,n,c,a),n.child}function gl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dg(t,n,a,l,c){var h=$c();return h=h===null?null:{parent:ve._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&ju(n,null),ah(),Im(n),t!==null&&Gs(t,n,l,!0),n.childLanes=c,null}function eo(t,n){return n=io({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Vg(t,n,a){return os(n,t.child,null,a),t=eo(n,n.pendingProps),t.flags|=2,dn(n),n.memoizedState=null,t}function HE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=eo(n,l),n.lanes=536870912,gl(null,t);if(rh(n),(t=$t)?(t=Pp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},a=fm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw na(n);return n.lanes=536870912,null}return eo(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(rh(n),c)if(n.flags&256)n.flags&=-257,n=Vg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Te||Gs(t,n,a,!1),c=(a&t.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=Ur(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,es(t,g),sn(l,t,g),wh;fo(),n=Vg(t,n,a)}else t=h.treeContext,$t=Vn(g.nextSibling),Be=n,Ot=!0,ea=null,wn=!1,t!==null&&gm(n,t),n=eo(n,l),n.flags|=4096;return n}return t=bi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function no(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Dh(t,n,a,l,c){return ss(n),a=uh(t,n,a,l,void 0,c),l=oh(),t!==null&&!Te?(ch(t,n,c),Ni(t,n,c)):(Ot&&l&&kc(n),n.flags|=1,qe(t,n,a,c),n.child)}function Ng(t,n,a,l,c,h){return ss(n),n.updateQueue=null,a=Mm(n,l,a,c),Om(t),l=oh(),t!==null&&!Te?(ch(t,n,h),Ni(t,n,h)):(Ot&&l&&kc(n),n.flags|=1,qe(t,n,a,h),n.child)}function Ig(t,n,a,l,c){if(ss(n),n.stateNode===null){var h=qs,g=a.contextType;typeof g=="object"&&g!==null&&(h=je(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Rh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},th(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?je(g):qs,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(bh(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Rh.enqueueReplaceState(h,h.state,null),cl(n,l,h,c),ol(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,C=hs(a,E);h.props=C;var B=h.context,H=a.contextType;g=qs,typeof H=="object"&&H!==null&&(g=je(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&yg(n,h,l,g),aa=!1;var j=n.memoizedState;h.state=j,cl(n,l,h,c),ol(),B=n.memoizedState,E||j!==B||aa?(typeof Q=="function"&&(bh(n,a,Q,l),B=n.memoizedState),(C=aa||pg(n,a,C,l,j,B,g))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,eh(t,n),g=n.memoizedProps,H=hs(a,g),h.props=H,Q=n.pendingProps,j=h.context,B=a.contextType,C=qs,typeof B=="object"&&B!==null&&(C=je(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Q||j!==C)&&yg(n,h,l,C),aa=!1,j=n.memoizedState,h.state=j,cl(n,l,h,c),ol();var P=n.memoizedState;g!==Q||j!==P||aa||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof E=="function"&&(bh(n,a,E,l),P=n.memoizedState),(H=aa||pg(n,a,H,l,j,P,C)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,P,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,P,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=C,l=H):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,no(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=os(n,t.child,null,c),n.child=os(n,null,a,c)):qe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ni(t,n,c),t}function Og(t,n,a,l){return is(),n.flags|=256,qe(t,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(t){return{baseLanes:t,cachePool:Tm()}}function Ih(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=gn),t}function Mg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?la(n):ua(),(t=$t)?(t=Pp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},a=fm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw na(n);return mf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ua(),c=n.mode,E=io({mode:"hidden",children:E},c),l=ns(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Nh(a),l.childLanes=Ih(t,g,a),n.memoizedState=Vh,gl(null,l)):(la(n),Oh(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)n.flags&256?(la(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),E=l.fallback,c=n.mode,l=io({mode:"visible",children:l.children},c),E=ns(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,os(n,t.child,null,a),l=n.child,l.memoizedState=Nh(a),l.childLanes=Ih(t,g,a),n.memoizedState=Vh,n=gl(null,l));else if(la(n),mf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,il({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if(Te||Gs(t,n,a,!1),g=(a&t.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=Ur(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,es(t,l),sn(g,t,l),wh;df(E)||fo(),n=Mh(t,n,a)}else df(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,$t=Vn(E.nextSibling),Be=n,Ot=!0,ea=null,wn=!1,t!==null&&gm(n,t),n=Oh(n,l.children),n.flags|=4096);return n}return c?(ua(),E=l.fallback,c=n.mode,C=t.child,B=C.sibling,l=bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=bi(B,E):(E=ns(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,gl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Nh(a):(c=E.cachePool,c!==null?(C=ve._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Tm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Ih(t,g,a),n.memoizedState=Vh,gl(t.child,l)):(la(n),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Oh(t,n){return n=io({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function io(t,n){return t=hn(22,t,null,n),t.lanes=0,t}function Mh(t,n,a){return os(n,t.child,null,a),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,a)}function xh(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function zg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(he,g),qe(t,n,l,a),l=Ot?nl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,a,n);else if(t.tag===19)xg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),xh(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Qu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}xh(n,!0,a,null,h,l);break;case"together":xh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ha|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Gs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function kE(t,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ia(n,ve,t.memoizedState.cache),is();break;case 27:case 5:La(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Mg(t,n,a):(la(n),t=Ni(t,n,a),t!==null?t.sibling:null);la(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Gs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return zg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(he,he.current),l)break;return null;case 22:return n.lanes=0,wg(t,n,a,n.pendingProps);case 24:ia(n,ve,t.memoizedState.cache)}return Ni(t,n,a)}function Ug(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!zh(t,a)&&(n.flags&128)===0)return Te=!1,kE(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,Ot&&(n.flags&1048576)!==0&&mm(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ls(n.elementType),n.type=t,typeof t=="function")qc(t)?(l=hs(t,l),n.tag=1,n=Ig(null,n,t,l,a)):(n.tag=0,n=Dh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Et){n.tag=11,n=bg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Rg(null,n,t,l,a);break t}}throw n=ne(t)||t,Error(s(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=hs(l,n.pendingProps),Ig(t,n,l,c,a);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,eh(t,n),cl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ia(n,ve,l),l!==h.cache&&Kc(n,[ve],a,!0),ol(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Og(t,n,l,a);break t}else if(l!==c){c=bn(Error(s(424)),n),il(c),n=Og(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=Vn(t.firstChild),Be=n,Ot=!0,ea=null,wn=!0,a=wm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(is(),l===c){n=Ni(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return no(t,n),t===null?(a=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Eo(St.current).createElement(a),l[pe]=n,l[Ie]=t,Pe(l,a,t),ye(l),n.stateNode=l):n.memoizedState=Yp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return La(n),t===null&&Ot&&(l=n.stateNode=Gp(n.type,n.pendingProps,St.current),Be=n,wn=!0,c=$t,pa(n.type)?(gf=c,$t=Vn(l.firstChild)):$t=c),qe(t,n,n.pendingProps.children,a),no(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=$t)&&(l=v0(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Be=n,$t=Vn(l.firstChild),wn=!1,c=!0):c=!1),c||na(n)),La(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,cf(c,h)?l=null:g!==null&&cf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=uh(t,n,xE,null,null,a),Nl._currentValue=c),no(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=$t)&&(a=E0(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Be=n,$t=null,t=!0):t=!1),t||na(n)),null;case 13:return Mg(t,n,a);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=os(n,null,l,a):qe(t,n,l,a),n.child;case 11:return bg(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ia(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ss(n),c=je(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Rg(t,n,n.type,n.pendingProps,a);case 15:return Cg(t,n,n.type,n.pendingProps,a);case 19:return zg(t,n,a);case 31:return HE(t,n,a);case 22:return wg(t,n,a,n.pendingProps);case 24:return ss(n),l=je(ve),t===null?(c=$c(),c===null&&(c=Jt,h=Zc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},th(n),ia(n,ve,c)):((t.lanes&a)!==0&&(eh(t,n),cl(n,null,null,a),ol()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ia(n,ve,l)):(l=h.cache,ia(n,ve,l),l!==c.cache&&Kc(n,[ve],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ii(t){t.flags|=4}function Uh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(op())t.flags|=8192;else throw us=Pu,Wc}else t.flags&=-16777217}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$p(n))if(op())t.flags|=8192;else throw us=Pu,Wc}function ao(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cu():536870912,t.lanes|=n,nr|=n)}function pl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function GE(t,n,a){var l=n.pendingProps;switch(Gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(ve),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ks(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fc())),Wt(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Ii(n),h!==null?(Wt(n),Lg(n,h)):(Wt(n),Uh(n,c,null,l,a))):h?h!==t.memoizedState?(Ii(n),Wt(n),Lg(n,h)):(Wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ii(n),Wt(n),Uh(n,c,t,l,a)),null;case 27:if(Ts(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}t=at.current,ks(n)?pm(n):(t=Gp(c,l,a),n.stateNode=t,Ii(n))}return Wt(n),null;case 5:if(Ts(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}if(h=at.current,ks(n))pm(n);else{var g=Eo(St.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[pe]=n,h[Ie]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(Pe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ii(n)}}return Wt(n),Uh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,ks(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mp(t.nodeValue,a)),t||na(n,!0)}else t=Eo(t).createTextNode(l),t[pe]=n,n.stateNode=t}return Wt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ks(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pe]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),t=!1}else a=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ks(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ao(n,n.updateQueue),Wt(n),null);case 4:return ie(),t===null&&sf(n.stateNode.containerInfo),Wt(n),null;case 10:return wi(n.type),Wt(n),null;case 19:if(F(he),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)pl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Qu(t),h!==null){for(n.flags|=128,pl(l,!1),t=h.updateQueue,n.updateQueue=t,ao(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)hm(a,t),a=a.sibling;return W(he,he.current&1|2),Ot&&Ri(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ke()>oo&&(n.flags|=128,c=!0,pl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Qu(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,ao(n,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ot)return Wt(n),null}else 2*Ke()-l.renderingStartTime>oo&&a!==536870912&&(n.flags|=128,c=!0,pl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,a=he.current,W(he,c?a&1|2:a&1),Ot&&Ri(n,l.treeForkCount),t):(Wt(n),null);case 22:case 23:return dn(n),sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),a=n.updateQueue,a!==null&&ao(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&F(rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wi(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QE(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(ve),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(s(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(he),null;case 4:return ie(),null;case 10:return wi(n.type),null;case 22:case 23:return dn(n),sh(),t!==null&&F(rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(ve),null;case 25:return null;default:return null}}function Bg(t,n){switch(Gc(n),n.tag){case 3:wi(ve),ie();break;case 26:case 27:case 5:Ts(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:F(he);break;case 10:wi(n.type);break;case 22:case 23:dn(n),sh(),t!==null&&F(rs);break;case 24:wi(ve)}}function yl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Ft(n,n.return,E)}}function oa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=a,B=E;try{B()}catch(H){Ft(c,C,H)}}}l=l.next}while(l!==h)}}catch(H){Ft(n,n.return,H)}}function jg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Vm(n,a)}catch(l){Ft(t,t.return,l)}}}function qg(t,n,a){a.props=hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ft(t,n,l)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Ft(t,n,c)}}function hi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ft(t,n,c)}else a.current=null}function Pg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ft(t,t.return,c)}}function Lh(t,n,a){try{var l=t.stateNode;d0(l,t.type,a,n),l[Ie]=n}catch(c){Ft(t,t.return,c)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pa(t.type)||t.tag===4}function Bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Un));else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(jh(t,n,a),t=t.sibling;t!==null;)jh(t,n,a),t=t.sibling}function so(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(so(t,n,a),t=t.sibling;t!==null;)so(t,n,a),t=t.sibling}function kg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[pe]=t,n[Ie]=a}catch(h){Ft(t,t.return,h)}}var Oi=!1,Ae=!1,qh=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function FE(t,n){if(t=t.containerInfo,uf=wo,t=nm(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,B=0,H=0,Q=t,j=null;e:for(;;){for(var P;Q!==a||c!==0&&Q.nodeType!==3||(E=g+c),Q!==h||l!==0&&Q.nodeType!==3||(C=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(P=Q.firstChild)!==null;)j=Q,Q=P;for(;;){if(Q===t)break e;if(j===a&&++B===c&&(E=g),j===h&&++H===l&&(C=g),(P=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=P}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(of={focusedElem:t,selectionRange:a},wo=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var st=hs(a.type,c);t=l.getSnapshotBeforeUpdate(st,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Ft(a,a.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function Qg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&yl(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Ft(a,a.return,g)}else{var c=hs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(a,a.return,g)}}l&64&&jg(a),l&512&&_l(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Vm(t,n)}catch(g){Ft(a,a.return,g)}}break;case 27:n===null&&l&4&&kg(a);case 26:case 5:xi(t,a),n===null&&l&4&&Pg(a),l&512&&_l(a,a.return);break;case 12:xi(t,a);break;case 31:xi(t,a),l&4&&Xg(t,a);break;case 13:xi(t,a),l&4&&Kg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=e0.bind(null,a),T0(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Oi;var h=Ae;Oi=l,(Ae=n)&&!h?zi(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),Oi=c,Ae=h}break;case 30:break;default:xi(t,a)}}function Fg(t){var n=t.alternate;n!==null&&(t.alternate=null,Fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Cs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,tn=!1;function Mi(t,n,a){for(a=a.child;a!==null;)Yg(t,n,a),a=a.sibling}function Yg(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||hi(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||hi(a,n);var l=se,c=tn;pa(a.type)&&(se=a.stateNode,tn=!1),Mi(t,n,a),wl(a.stateNode),se=l,tn=c;break;case 5:Ae||hi(a,n);case 6:if(l=se,c=tn,se=null,Mi(t,n,a),se=l,tn=c,se!==null)if(tn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(h){Ft(a,n,h)}else try{se.removeChild(a.stateNode)}catch(h){Ft(a,n,h)}break;case 18:se!==null&&(tn?(t=se,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cr(t)):jp(se,a.stateNode));break;case 4:l=se,c=tn,se=a.stateNode.containerInfo,tn=!0,Mi(t,n,a),se=l,tn=c;break;case 0:case 11:case 14:case 15:oa(2,a,n),Ae||oa(4,a,n),Mi(t,n,a);break;case 1:Ae||(hi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qg(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Mi(t,n,a),Ae=l;break;default:Mi(t,n,a)}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cr(t)}catch(a){Ft(n,n.return,a)}}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cr(t)}catch(a){Ft(n,n.return,a)}}function YE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Gg),n;default:throw Error(s(435,t.tag))}}function ro(t,n){var a=YE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=n0.bind(null,t,l);l.then(c,c)}})}function en(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(pa(E.type)){se=E.stateNode,tn=!1;break t}break;case 5:se=E.stateNode,tn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(se===null)throw Error(s(160));Yg(h,g,c),se=null,tn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zg(n,t),n=n.sibling}var Hn=null;function Zg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(n,t),nn(t),l&4&&(oa(3,t,t.return),yl(3,t),oa(5,t,t.return));break;case 1:en(n,t),nn(t),l&512&&(Ae||a===null||hi(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(en(n,t),nn(t),l&512&&(Ae||a===null||hi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Jn]||h[pe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Pe(h,l,a),h[pe]=t,ye(h),l=h;break t;case"link":var g=Zp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,a),c.head.appendChild(h);break;case"meta":if(g=Zp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[pe]=t,ye(h),l=h}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=Kp(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Jp(c,t.type,t.stateNode):Kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lh(t,t.memoizedProps,a.memoizedProps)}break;case 27:en(n,t),nn(t),l&512&&(Ae||a===null||hi(a,a.return)),a!==null&&l&4&&Lh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(en(n,t),nn(t),l&512&&(Ae||a===null||hi(a,a.return)),t.flags&32){c=t.stateNode;try{We(c,"")}catch(st){Ft(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Lh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(en(n,t),nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Ft(t,t.return,st)}}break;case 3:if(So=null,c=Hn,Hn=To(n.containerInfo),en(n,t),Hn=c,nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(n.containerInfo)}catch(st){Ft(t,t.return,st)}qh&&(qh=!1,Jg(t));break;case 4:l=Hn,Hn=To(t.stateNode.containerInfo),en(n,t),nn(t),Hn=l;break;case 12:en(n,t),nn(t);break;case 31:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ro(t,l)));break;case 13:en(n,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uo=Ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ro(t,l)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Oi,H=Ae;if(Oi=B||c,Ae=H||C,en(n,t),Ae=H,Oi=B,nn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||Oi||Ae||fs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(h=C.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(st){Ft(C,C.return,st)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(st){Ft(C,C.return,st)}}}else if(n.tag===18){if(a===null){C=n;try{var P=C.stateNode;c?qp(P,!0):qp(C.stateNode,!1)}catch(st){Ft(C,C.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ro(t,a))));break;case 19:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ro(t,l)));break;case 30:break;case 21:break;default:en(n,t),nn(t)}}function nn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Hg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=Bh(t);so(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(We(g,""),a.flags&=-33);var E=Bh(t);so(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Bh(t);jh(t,B,C);break;default:throw Error(s(161))}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qg(t,n.alternate,n),n=n.sibling}function fs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:oa(4,n,n.return),fs(n);break;case 1:hi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&qg(n,n.return,a),fs(n);break;case 27:wl(n.stateNode);case 26:case 5:hi(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}t=t.sibling}}function zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:zi(c,h,a),yl(4,h);break;case 1:if(zi(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ft(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Dm(C[c],E)}catch(B){Ft(l,l.return,B)}}a&&g&64&&jg(h),_l(h,h.return);break;case 27:kg(h);case 26:case 5:zi(c,h,a),a&&l===null&&g&4&&Pg(h),_l(h,h.return);break;case 12:zi(c,h,a);break;case 31:zi(c,h,a),a&&g&4&&Xg(c,h);break;case 13:zi(c,h,a),a&&g&4&&Kg(c,h);break;case 22:h.memoizedState===null&&zi(c,h,a),_l(h,h.return);break;case 30:break;default:zi(c,h,a)}n=n.sibling}}function Ph(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function kn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$g(t,n,a,l),n=n.sibling}function $g(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:kn(t,n,a,l),c&2048&&yl(9,n);break;case 1:kn(t,n,a,l);break;case 3:kn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){kn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ft(n,n.return,C)}}else kn(t,n,a,l);break;case 31:kn(t,n,a,l);break;case 13:kn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?kn(t,n,a,l):vl(t,n):h._visibility&2?kn(t,n,a,l):(h._visibility|=2,Ws(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ph(g,n);break;case 24:kn(t,n,a,l),c&2048&&Hh(n.alternate,n);break;default:kn(t,n,a,l)}}function Ws(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,C=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(h,g,E,C,c),yl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Ws(h,g,E,C,c):vl(h,g):(H._visibility|=2,Ws(h,g,E,C,c)),c&&B&2048&&Ph(g.alternate,g);break;case 24:Ws(h,g,E,C,c),c&&B&2048&&Hh(g.alternate,g);break;default:Ws(h,g,E,C,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:vl(a,l),c&2048&&Ph(l.alternate,l);break;case 24:vl(a,l),c&2048&&Hh(l.alternate,l);break;default:vl(a,l)}n=n.sibling}}var El=8192;function tr(t,n,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Wg(t,n,a),t=t.sibling}function Wg(t,n,a){switch(t.tag){case 26:tr(t,n,a),t.flags&El&&t.memoizedState!==null&&M0(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:tr(t,n,a);break;case 3:case 4:var l=Hn;Hn=To(t.stateNode.containerInfo),tr(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,tr(t,n,a),El=l):tr(t,n,a));break;default:tr(t,n,a)}}function tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,np(l,t)}tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&oa(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lo(t)):Tl(t);break;default:Tl(t)}}function lo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,np(l,t)}tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:oa(8,n,n.return),lo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lo(n));break;default:lo(n)}t=t.sibling}}function np(t,n){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:oa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=t;Me!==null;){l=Me;var c=l.sibling,h=l.return;if(Fg(l),l===a){Me=null;break t}if(c!==null){c.return=h,Me=c;break t}Me=h}}}var XE={getCacheForType:function(t){var n=je(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return je(ve).controller.signal}},KE=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Jt=null,Ct=null,Dt=0,Qt=0,mn=null,ca=!1,er=!1,kh=!1,Ui=0,ue=0,ha=0,ds=0,Gh=0,gn=0,nr=0,Al=null,an=null,Qh=!1,uo=0,ip=0,oo=1/0,co=null,fa=null,De=0,da=null,ir=null,Li=0,Fh=0,Yh=null,ap=null,Sl=0,Xh=null;function pn(){return(Pt&2)!==0&&Dt!==0?Dt&-Dt:k.T!==null?tf():hu()}function sp(){if(gn===0)if((Dt&536870912)===0||Ot){var t=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function sn(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(ar(t,0),ma(t,Dt,gn,!1)),Pa(t,a),((Pt&2)===0||t!==Jt)&&(t===Jt&&((Pt&2)===0&&(ds|=a),ue===4&&ma(t,Dt,gn,!1)),fi(t))}function rp(t,n,a){if((Pt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?$E(t,n):Zh(t,n,!0),h=l;do{if(c===0){er&&!l&&ma(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!ZE(a)){c=Zh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Al;var C=E.current.memoizedState.isDehydrated;if(C&&(ar(E,g).flags|=256),g=Zh(E,g,!1),g!==2){if(kh&&!C){E.errorRecoveryDisabledLanes|=h,ds|=h,c=4;break t}h=an,an=c,h!==null&&(an===null?an=h:an.push.apply(an,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){ar(t,0),ma(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ma(l,n,gn,!ca);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=uo+300-Ke(),10<c)){if(ma(l,n,gn,!ca),Xn(l,0,!0)!==0)break t;Li=n,l.timeoutHandle=Lp(lp.bind(null,l,a,an,co,Qh,n,gn,ds,nr,ca,h,"Throttled",-0,0),c);break t}lp(l,a,an,co,Qh,n,gn,ds,nr,ca,h,null,-0,0)}}break}while(!0);fi(t)}function lp(t,n,a,l,c,h,g,E,C,B,H,Q,j,P){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Wg(n,h,Q);var st=(h&62914560)===h?uo-Ke():(h&4194048)===h?ip-Ke():0;if(st=x0(Q,st),st!==null){Li=h,t.cancelPendingCommit=st(gp.bind(null,t,n,h,a,l,c,g,E,C,H,Q,null,j,P)),ma(t,h,g,!B);return}}gp(t,n,h,a,l,c,g,E,C)}function ZE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!cn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(t,n,a,l){n&=~Gh,n&=~ds,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-oe(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&Ha(t,a,n)}function ho(){return(Pt&6)===0?(bl(0),!1):!0}function Kh(){if(Ct!==null){if(Qt===0)var t=Ct.return;else t=Ct,Ci=as=null,hh(t),Xs=null,rl=0,t=Ct;for(;t!==null;)Bg(t.alternate,t),t=t.return;Ct=null}}function ar(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,p0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Li=0,Kh(),Jt=t,Ct=a=bi(t.current,null),Dt=n,Qt=0,mn=null,ca=!1,er=Mn(t,n),kh=!1,nr=gn=Gh=ds=ha=ue=0,an=Al=null,Qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-oe(l),h=1<<c;n|=t[c],l&=~h}return Ui=n,Ou(),a}function up(t,n){At=null,k.H=ml,n===Ys||n===qu?(n=bm(),Qt=3):n===Wc?(n=bm(),Qt=4):Qt=n===wh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Ct===null&&(ue=1,to(t,bn(n,t.current)))}function op(){var t=fn.current;return t===null?!0:(Dt&4194048)===Dt?Dn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Dn:!1}function cp(){var t=k.H;return k.H=ml,t===null?ml:t}function hp(){var t=k.A;return k.A=XE,t}function fo(){ue=4,ca||(Dt&4194048)!==Dt&&fn.current!==null||(er=!0),(ha&134217727)===0&&(ds&134217727)===0||Jt===null||ma(Jt,Dt,gn,!1)}function Zh(t,n,a){var l=Pt;Pt|=2;var c=cp(),h=hp();(Jt!==t||Dt!==n)&&(co=null,ar(t,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,C=mn;switch(Qt){case 8:Kh(),g=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var B=Qt;if(Qt=0,mn=null,sr(t,E,C,B),a&&er){g=0;break t}break;default:B=Qt,Qt=0,mn=null,sr(t,E,C,B)}}JE(),g=ue;break}catch(H){up(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ci=as=null,Pt=l,k.H=c,k.A=h,Ct===null&&(Jt=null,Dt=0,Ou()),g}function JE(){for(;Ct!==null;)fp(Ct)}function $E(t,n){var a=Pt;Pt|=2;var l=cp(),c=hp();Jt!==t||Dt!==n?(co=null,oo=Ke()+500,ar(t,n)):er=Mn(t,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var h=mn;e:switch(Qt){case 1:Qt=0,mn=null,sr(t,n,h,1);break;case 2:case 9:if(Am(h)){Qt=0,mn=null,dp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),fi(t)},h.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Am(h)?(Qt=0,mn=null,dp(n)):(Qt=0,mn=null,sr(t,n,h,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?$p(g):E.stateNode.complete){Qt=0,mn=null;var C=E.sibling;if(C!==null)Ct=C;else{var B=E.return;B!==null?(Ct=B,mo(B)):Ct=null}break e}}Qt=0,mn=null,sr(t,n,h,5);break;case 6:Qt=0,mn=null,sr(t,n,h,6);break;case 8:Kh(),ue=6;break t;default:throw Error(s(462))}}WE();break}catch(H){up(t,H)}while(!0);return Ci=as=null,k.H=l,k.A=c,Pt=a,Ct!==null?0:(Jt=null,Dt=0,Ou(),ue)}function WE(){for(;Ct!==null&&!Cc();)fp(Ct)}function fp(t){var n=Ug(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?mo(t):Ct=n}function dp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ng(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Ng(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:hh(n);default:Bg(a,n),n=Ct=hm(n,Ui),n=Ug(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?mo(t):Ct=n}function sr(t,n,a,l){Ci=as=null,hh(n),Xs=null,rl=0;var c=n.return;try{if(PE(t,c,n,a,Dt)){ue=1,to(t,bn(a,t.current)),Ct=null;return}}catch(h){if(c!==null)throw Ct=c,h;ue=1,to(t,bn(a,t.current)),Ct=null;return}n.flags&32768?(Ot||l===1?t=!0:er||(Dt&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mp(n,t)):mo(n)}function mo(t){var n=t;do{if((n.flags&32768)!==0){mp(n,ca);return}t=n.return;var a=GE(n.alternate,n,Ui);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ue===0&&(ue=5)}function mp(t,n){do{var a=QE(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);ue=6,Ct=null}function gp(t,n,a,l,c,h,g,E,C){t.cancelPendingCommit=null;do go();while(De!==0);if((Pt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Bc,Vc(t,a,h,g,E,C),t===Jt&&(Ct=Jt=null,Dt=0),ir=n,da=t,Li=a,Fh=h,Yh=c,ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,i0(Gi,function(){return Ep(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=$.p,$.p=2,g=Pt,Pt|=4;try{FE(t,n,a)}finally{Pt=g,$.p=c,k.T=l}}De=1,pp(),yp(),_p()}}function pp(){if(De===1){De=0;var t=da,n=ir,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=$.p;$.p=2;var c=Pt;Pt|=4;try{Zg(n,t);var h=of,g=nm(t.containerInfo),E=h.focusedElem,C=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&em(E.ownerDocument.documentElement,E)){if(C!==null&&Mc(E)){var B=C.start,H=C.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var P=j.getSelection(),st=E.textContent.length,dt=Math.min(C.start,st),Zt=C.end===void 0?dt:Math.min(C.end,st);!P.extend&&dt>Zt&&(g=Zt,Zt=dt,dt=g);var M=tm(E,dt),V=tm(E,Zt);if(M&&V&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==V.node||P.focusOffset!==V.offset)){var L=Q.createRange();L.setStart(M.node,M.offset),P.removeAllRanges(),dt>Zt?(P.addRange(L),P.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),P.addRange(L))}}}}for(Q=[],P=E;P=P.parentNode;)P.nodeType===1&&Q.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}wo=!!uf,of=uf=null}finally{Pt=c,$.p=l,k.T=a}}t.current=n,De=2}}function yp(){if(De===2){De=0;var t=da,n=ir,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=$.p;$.p=2;var c=Pt;Pt|=4;try{Qg(t,n.alternate,n)}finally{Pt=c,$.p=l,k.T=a}}De=3}}function _p(){if(De===4||De===3){De=0,au();var t=da,n=ir,a=Li,l=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,ir=da=null,vp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fa=null),Ei(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=$.p,$.p=2,k.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{k.T=n,$.p=c}}(Li&3)!==0&&go(),fi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Xh?Sl++:(Sl=0,Xh=t):Sl=0,bl(0)}}function vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function go(){return pp(),yp(),_p(),Ep()}function Ep(){if(De!==5)return!1;var t=da,n=Fh;Fh=0;var a=Ei(Li),l=k.T,c=$.p;try{$.p=32>a?32:a,k.T=null,a=Yh,Yh=null;var h=da,g=Li;if(De=0,ir=da=null,Li=0,(Pt&6)!==0)throw Error(s(331));var E=Pt;if(Pt|=4,ep(h.current),$g(h,h.current,g,a),Pt=E,bl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(On,h)}catch{}return!0}finally{$.p=c,k.T=l,vp(t,n)}}function Tp(t,n,a){n=bn(a,n),n=Ch(t.stateNode,n,2),t=ra(t,n,2),t!==null&&(Pa(t,2),fi(t))}function Ft(t,n,a){if(t.tag===3)Tp(t,t,a);else for(;n!==null;){if(n.tag===3){Tp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=bn(a,t),a=Ag(2),l=ra(n,a,2),l!==null&&(Sg(a,l,n,t),Pa(l,2),fi(l));break}}n=n.return}}function Jh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(kh=!0,c.add(a),t=t0.bind(null,t,n,a),n.then(t,t))}function t0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Dt&a)===a&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>Ke()-uo?(Pt&2)===0&&ar(t,0):Gh|=a,nr===Dt&&(nr=0)),fi(t)}function Ap(t,n){n===0&&(n=cu()),t=es(t,n),t!==null&&(Pa(t,n),fi(t))}function e0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ap(t,a)}function n0(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ap(t,a)}function i0(t,n){return we(t,n)}var po=null,rr=null,$h=!1,yo=!1,Wh=!1,ga=0;function fi(t){t!==rr&&t.next===null&&(rr===null?po=rr=t:rr=rr.next=t),yo=!0,$h||($h=!0,s0())}function bl(t,n){if(!Wh&&yo){Wh=!0;do for(var a=!1,l=po;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-oe(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Cp(l,h))}else h=Dt,h=Xn(l,l===Jt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Mn(l,h)||(a=!0,Cp(l,h));l=l.next}while(a);Wh=!1}}function a0(){Sp()}function Sp(){yo=$h=!1;var t=0;ga!==0&&g0()&&(t=ga);for(var n=Ke(),a=null,l=po;l!==null;){var c=l.next,h=bp(l,n);h===0?(l.next=null,a===null?po=c:a.next=c,c===null&&(rr=a)):(a=l,(t!==0||(h&3)!==0)&&(yo=!0)),l=c}De!==0&&De!==5||bl(t),ga!==0&&(ga=0)}function bp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-oe(h),E=1<<g,C=c[g];C===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Dc(E,n)):C<=n&&(t.expiredLanes|=E),h&=~E}if(n=Jt,a=Dt,a=Xn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ki(l),Ei(a)){case 2:case 8:a=xr;break;case 32:a=Gi;break;case 268435456:a=su;break;default:a=Gi}return l=Rp.bind(null,t),a=we(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Rp(t,n){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(go()&&t.callbackNode!==a)return null;var l=Dt;return l=Xn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(rp(t,l,n),bp(t,Ke()),t.callbackNode!=null&&t.callbackNode===a?Rp.bind(null,t):null)}function Cp(t,n){if(go())return null;rp(t,n,!0)}function s0(){y0(function(){(Pt&6)!==0?we(Mr,a0):Sp()})}function tf(){if(ga===0){var t=Qs;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),ga=t}return ga}function wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ns(""+t)}function Dp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function r0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=wp((c[Ie]||null).action),g=l.submitter;g&&(n=(n=g[Ie]||null)?wp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new si("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var C=g?Dp(c,g):new FormData(c);Eh(a,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=g?Dp(c,g):new FormData(c),Eh(a,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var ef=0;ef<Lc.length;ef++){var nf=Lc[ef],l0=nf.toLowerCase(),u0=nf[0].toUpperCase()+nf.slice(1);Pn(l0,"on"+u0)}Pn(sm,"onAnimationEnd"),Pn(rm,"onAnimationIteration"),Pn(lm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(bE,"onTransitionRun"),Pn(RE,"onTransitionStart"),Pn(CE,"onTransitionCancel"),Pn(um,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Vp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(H){Iu(H)}c.currentTarget=null,h=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,B=E.currentTarget,E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(H){Iu(H)}c.currentTarget=null,h=C}}}}function wt(t,n){var a=n[Rs];a===void 0&&(a=n[Rs]=new Set);var l=t+"__bubble";a.has(l)||(Np(n,t,2,!1),a.add(l))}function af(t,n,a){var l=0;n&&(l|=4),Np(a,t,l,n)}var _o="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[_o]){t[_o]=!0,Lr.forEach(function(a){a!=="selectionchange"&&(o0.has(a)||af(a,!1,t),af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_o]||(n[_o]=!0,af("selectionchange",!1,n))}}function Np(t,n,a,l){switch(sy(n)){case 2:var c=L0;break;case 8:c=B0;break;default:c=Ef}a=c.bind(null,n,a,t),c=void 0,!Ya||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function rf(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=$n(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=h=g;continue t}E=E.parentNode}}l=l.return}Zi(function(){var B=h,H=En(a),Q=[];t:{var j=om.get(t);if(j!==void 0){var P=si,st=t;switch(t){case"keypress":if(Ka(a)===0)break t;case"keydown":case"keyup":P=Du;break;case"focusin":st="focus",P=Ja;break;case"focusout":st="blur",P=Ja;break;case"beforeblur":case"afterblur":P=Ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case sm:case rm:case lm:P=Tu;break;case um:P=T;break;case"scroll":case"scrollend":P=Kr;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Si;break;case"toggle":case"beforetoggle":P=Tt}var dt=(n&4)!==0,Zt=!dt&&(t==="scroll"||t==="scrollend"),M=dt?j!==null?j+"Capture":null:j;dt=[];for(var V=B,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=Ln(V,M),G!=null&&dt.push(Cl(V,G,L))),Zt)break;V=V.return}0<dt.length&&(j=new P(j,st,null,a,H),Q.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",j&&a!==Fr&&(st=a.relatedTarget||a.fromElement)&&($n(st)||st[Zn]))break t;if((P||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,P?(st=a.relatedTarget||a.toElement,P=B,st=st?$n(st):null,st!==null&&(Zt=f(st),dt=st.tag,st!==Zt||dt!==5&&dt!==27&&dt!==6)&&(st=null)):(P=null,st=B),P!==st)){if(dt=Zr,G="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Si,G="onPointerLeave",M="onPointerEnter",V="pointer"),Zt=P==null?j:un(P),L=st==null?j:un(st),j=new dt(G,V+"leave",P,a,H),j.target=Zt,j.relatedTarget=L,G=null,$n(H)===B&&(dt=new dt(M,V+"enter",st,a,H),dt.target=L,dt.relatedTarget=Zt,G=dt),Zt=G,P&&st)e:{for(dt=c0,M=P,V=st,L=0,G=M;G;G=dt(G))L++;G=0;for(var ot=V;ot;ot=dt(ot))G++;for(;0<L-G;)M=dt(M),L--;for(;0<G-L;)V=dt(V),G--;for(;L--;){if(M===V||V!==null&&M===V.alternate){dt=M;break e}M=dt(M),V=dt(V)}dt=null}else dt=null;P!==null&&Ip(Q,j,P,dt,!1),st!==null&&Zt!==null&&Ip(Q,Zt,st,dt,!0)}}t:{if(j=B?un(B):window,P=j.nodeName&&j.nodeName.toLowerCase(),P==="select"||P==="input"&&j.type==="file")var Bt=Xd;else if(Fd(j))if(Kd)Bt=TE;else{Bt=vE;var lt=_E}else P=j.nodeName,!P||P.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Vs(B.elementType)&&(Bt=Xd):Bt=EE;if(Bt&&(Bt=Bt(t,B))){Yd(Q,Bt,a,H);break t}lt&&lt(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&kr(j,"number",j.value)}switch(lt=B?un(B):window,t){case"focusin":(Fd(lt)||lt.contentEditable==="true")&&(Ls=lt,xc=B,el=null);break;case"focusout":el=xc=Ls=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,im(Q,a,H);break;case"selectionchange":if(SE)break;case"keydown":case"keyup":im(Q,a,H)}var bt;if(qt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Us?$a(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(ui&&a.locale!=="ko"&&(Us||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Us&&(bt=Xr()):(ai=H,Yr="value"in ai?ai.value:ai.textContent,Us=!0)),lt=vo(B,Vt),0<lt.length&&(Vt=new li(Vt,t,null,a,H),Q.push({event:Vt,listeners:lt}),bt?Vt.data=bt:(bt=zs(a),bt!==null&&(Vt.data=bt)))),(bt=An?mE(t,a):gE(t,a))&&(Vt=vo(B,"onBeforeInput"),0<Vt.length&&(lt=new li("onBeforeInput","beforeinput",null,a,H),Q.push({event:lt,listeners:Vt}),lt.data=bt)),r0(Q,t,B,a,H)}Vp(Q,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ln(t,a),c!=null&&l.unshift(Cl(t,c,h)),c=Ln(t,n),c!=null&&l.push(Cl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function c0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ip(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=Ln(a,h),B!=null&&g.unshift(Cl(a,B,C))):c||(B=Ln(a,h),B!=null&&g.push(Cl(a,B,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var h0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(h0,`
`).replace(f0,"")}function Mp(t,n){return n=Op(n),Op(t)===n}function Kt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||We(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&We(t,""+l);break;case"className":on(t,"class",l);break;case"tabIndex":on(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(t,a,l);break;case"style":Qr(t,l,h);break;case"data":if(n!=="object"){on(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ns(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ns(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ns(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),ws(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ws(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,ws(t,a,l))}}function lf(t,n,a,l,c,h){switch(a){case"style":Qr(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?We(t,l):(typeof l=="number"||typeof l=="bigint")&&We(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Ie]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ws(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,h,g,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=h=g=c=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":B=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(t,n,l,H,a,null)}}gu(t,h,E,C,B,g,c,!1);return;case"select":wt("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?Fi(t,!!l,n,!1):a!=null&&Fi(t,!!l,a,!0);return;case"textarea":wt("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,g,E,a,null)}Yi(t,l,c,h);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,C,l,a,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)wt(Rl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,B,l,a,null)}return;default:if(Vs(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&lf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function d0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,C=null,B=null,H=null;for(P in a){var Q=a[P];if(a.hasOwnProperty(P)&&Q!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=Q;default:l.hasOwnProperty(P)||Kt(t,n,P,null,l,Q)}}for(var j in l){var P=l[j];if(Q=a[j],l.hasOwnProperty(j)&&(P!=null||Q!=null))switch(j){case"type":h=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":H=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:P!==Q&&Kt(t,n,j,P,l,Q)}}Ds(t,g,E,C,B,H,h,c);return;case"select":P=g=E=j=null;for(h in a)if(C=a[h],a.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":P=C;default:l.hasOwnProperty(h)||Kt(t,n,h,null,l,C)}for(c in l)if(h=l[c],C=a[c],l.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":j=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==C&&Kt(t,n,c,h,l,C)}n=E,a=g,l=P,j!=null?Fi(t,!!a,j,!1):!!l!=!!a&&(n!=null?Fi(t,!!a,n,!0):Fi(t,!!a,a?[]:"",!1));return;case"textarea":P=j=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":j=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Kt(t,n,g,c,l,h)}pu(t,j,P);return;case"option":for(var st in a)if(j=a[st],a.hasOwnProperty(st)&&j!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Kt(t,n,st,null,l,j)}for(C in l)if(j=l[C],P=a[C],l.hasOwnProperty(C)&&j!==P&&(j!=null||P!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(t,n,C,j,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt)&&Kt(t,n,dt,null,l,j);for(B in l)if(j=l[B],P=a[B],l.hasOwnProperty(B)&&j!==P&&(j!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Kt(t,n,B,j,l,P)}return;default:if(Vs(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&lf(t,n,Zt,void 0,l,j);for(H in l)j=l[H],P=a[H],!l.hasOwnProperty(H)||j===P||j===void 0&&P===void 0||lf(t,n,H,j,l,P);return}}for(var M in a)j=a[M],a.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Kt(t,n,M,null,l,j);for(Q in l)j=l[Q],P=a[Q],!l.hasOwnProperty(Q)||j===P||j==null&&P==null||Kt(t,n,Q,j,l,P)}function xp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&xp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>E)break;var H=C.transferSize,Q=C.initiatorType;H&&xp(Q)&&(C=C.responseEnd,g+=H*(C<E?1:(E-B)/(C-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uf=null,of=null;function Eo(t){return t.nodeType===9?t:t.ownerDocument}function zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function g0(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(_0)}:Lp;function _0(t){setTimeout(function(){throw t})}function pa(t){return t==="head"}function jp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),cr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[Jn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&wl(t.ownerDocument.body);a=c}while(a);cr(n)}function qp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ff(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function v0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function E0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Pp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$?"||t.data==="$~"}function mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function T0(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var gf=null;function Hp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Gp(t,n,a){switch(n=Eo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Cs(t)}var Nn=new Map,Qp=new Set;function To(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=$.d;$.d={f:A0,r:S0,D:b0,C:R0,L:C0,m:w0,X:V0,S:D0,M:N0};function A0(){var t=Bi.f(),n=ho();return t||n}function S0(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?ug(n):Bi.r(t)}var lr=typeof document>"u"?null:document;function Fp(t,n,a){var l=lr;if(l&&typeof n=="string"&&n){var c=$e(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Qp.has(c)||(Qp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function b0(t){Bi.D(t),Fp("dns-prefetch",t,null)}function R0(t,n){Bi.C(t,n),Fp("preconnect",t,n)}function C0(t,n,a){Bi.L(t,n,a);var l=lr;if(l&&t&&n){var c='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+$e(a.imageSizes)+'"]')):c+='[href="'+$e(t)+'"]';var h=c;switch(n){case"style":h=ur(t);break;case"script":h=or(t)}Nn.has(h)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Nn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(h))||n==="script"&&l.querySelector(Vl(h))||(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function w0(t,n){Bi.m(t,n);var a=lr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=or(t)}if(!Nn.has(h)&&(t=b({rel:"modulepreload",href:t},n),Nn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(h)))return}l=a.createElement("link"),Pe(l,"link",t),ye(l),a.head.appendChild(l)}}}function D0(t,n,a){Bi.S(t,n,a);var l=lr;if(l&&t){var c=Wn(l).hoistableStyles,h=ur(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Dl(h)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Nn.get(h))&&pf(t,a);var C=g=l.createElement("link");ye(C),Pe(C,"link",t),C._p=new Promise(function(B,H){C.onload=B,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ao(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function V0(t,n){Bi.X(t,n);var a=lr;if(a&&t){var l=Wn(a).hoistableScripts,c=or(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=b({src:t,async:!0},n),(n=Nn.get(c))&&yf(t,n),h=a.createElement("script"),ye(h),Pe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function N0(t,n){Bi.M(t,n);var a=lr;if(a&&t){var l=Wn(a).hoistableScripts,c=or(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=b({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&yf(t,n),h=a.createElement("script"),ye(h),Pe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Yp(t,n,a,l){var c=(c=St.current)?To(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ur(a.href),a=Wn(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ur(a.href);var h=Wn(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Dl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),h||I0(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=or(a),a=Wn(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ur(t){return'href="'+$e(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function I0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),ye(n),t.head.appendChild(n))}function or(t){return'[src="'+$e(t)+'"]'}function Vl(t){return"script[async]"+t}function Kp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),Pe(l,"style",c),Ao(l,a.precedence,t),n.instance=l;case"stylesheet":c=ur(a.href);var h=t.querySelector(Dl(c));if(h)return n.state.loading|=4,n.instance=h,ye(h),h;l=Xp(a),(c=Nn.get(c))&&pf(l,c),h=(t.ownerDocument||t).createElement("link"),ye(h);var g=h;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Pe(h,"link",l),n.state.loading|=4,Ao(h,a.precedence,t),n.instance=h;case"script":return h=or(a.src),(c=t.querySelector(Vl(h)))?(n.instance=c,ye(c),c):(l=a,(c=Nn.get(h))&&(l=b({},a),yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ao(l,a.precedence,t));return n.instance}function Ao(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var So=null;function Zp(t,n,a){if(So===null){var l=new Map,c=So=new Map;c.set(a,l)}else c=So,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Jn]||h[pe]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function O0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function M0(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=ur(l.href),h=n.querySelector(Dl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,ye(h);return}h=n.ownerDocument||n,l=Xp(l),(c=Nn.get(c))&&pf(l,c),h=h.createElement("link"),ye(h);var g=h;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Pe(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var _f=0;function x0(t,n){return t.stylesheets&&t.count===0&&Co(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Co(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&_f===0&&(_f=62500*m0());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Co(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>_f?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function bo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Co(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ro=null;function Co(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ro=new Map,n.forEach(z0,t),Ro=null,bo.call(t))}function z0(t,n){if(!(n.state.loading&4)){var a=Ro.get(t);if(a)var l=a.get(null);else{a=new Map,Ro.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=bo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function U0(t,n,a,l,c,h,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Wp(t,n,a,l,c,h,g,E,C,B,H,Q){return t=new U0(t,n,a,g,C,B,H,Q,E),n=1,h===!0&&(n|=24),h=hn(3,null,null,n),t.current=h,h.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},th(h),t}function ty(t){return t?(t=qs,t):qs}function ey(t,n,a,l,c,h){c=ty(c),l.context===null?l.context=c:l.pendingContext=c,l=sa(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ra(t,l,n),a!==null&&(sn(a,t,n),ul(a,t,n))}function ny(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function vf(t,n){ny(t,n),(t=t.alternate)&&ny(t,n)}function iy(t){if(t.tag===13||t.tag===31){var n=es(t,67108864);n!==null&&sn(n,t,67108864),vf(t,67108864)}}function ay(t){if(t.tag===13||t.tag===31){var n=pn();n=ka(n);var a=es(t,n);a!==null&&sn(a,t,n),vf(t,n)}}var wo=!0;function L0(t,n,a,l){var c=k.T;k.T=null;var h=$.p;try{$.p=2,Ef(t,n,a,l)}finally{$.p=h,k.T=c}}function B0(t,n,a,l){var c=k.T;k.T=null;var h=$.p;try{$.p=8,Ef(t,n,a,l)}finally{$.p=h,k.T=c}}function Ef(t,n,a,l){if(wo){var c=Tf(l);if(c===null)rf(t,n,l,Do,a),ry(t,l);else if(q0(c,t,n,a,l))l.stopPropagation();else if(ry(t,l),n&4&&-1<j0.indexOf(t)){for(;c!==null;){var h=vn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Yn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-oe(g);E.entanglements[1]|=C,g&=~C}fi(h),(Pt&6)===0&&(oo=Ke()+500,bl(0))}}break;case 31:case 13:E=es(h,2),E!==null&&sn(E,h,2),ho(),vf(h,2)}if(h=Tf(l),h===null&&rf(t,n,l,Do,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else rf(t,n,l,null,a)}}function Tf(t){return t=En(t),Af(t)}var Do=null;function Af(t){if(Do=null,t=$n(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Do=t,null}function sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case Mr:return 2;case xr:return 8;case Gi:case wc:return 32;case su:return 268435456;default:return 32}default:return 32}}var Sf=!1,ya=null,_a=null,va=null,Il=new Map,Ol=new Map,Ea=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(t,n){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&iy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function q0(t,n,a,l,c){switch(n){case"focusin":return ya=Ml(ya,t,n,a,l,c),!0;case"dragenter":return _a=Ml(_a,t,n,a,l,c),!0;case"mouseover":return va=Ml(va,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Il.set(h,Ml(Il.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ol.set(h,Ml(Ol.get(h)||null,t,n,a,l,c)),!0}return!1}function ly(t){var n=$n(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,xn(t.priority,function(){ay(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,xn(t.priority,function(){ay(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Tf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fr=l,a.target.dispatchEvent(l),Fr=null}else return n=vn(a),n!==null&&iy(n),t.blockedOn=a,!1;n.shift()}return!0}function uy(t,n,a){Vo(t)&&a.delete(n)}function P0(){Sf=!1,ya!==null&&Vo(ya)&&(ya=null),_a!==null&&Vo(_a)&&(_a=null),va!==null&&Vo(va)&&(va=null),Il.forEach(uy),Ol.forEach(uy)}function No(t,n){t.blockedOn===n&&(t.blockedOn=null,Sf||(Sf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,P0)))}var Io=null;function oy(t){Io!==t&&(Io=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Io===t&&(Io=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Af(l||a)===null)continue;break}var h=vn(a);h!==null&&(t.splice(n,3),n-=3,Eh(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function cr(t){function n(C){return No(C,t)}ya!==null&&No(ya,t),_a!==null&&No(_a,t),va!==null&&No(va,t),Il.forEach(n),Ol.forEach(n);for(var a=0;a<Ea.length;a++){var l=Ea[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)ly(a),a.blockedOn===null&&Ea.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Ie]||null;if(typeof h=="function")g||oy(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Ie]||null)E=g.formAction;else if(Af(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),oy(a)}}}function cy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function bf(t){this._internalRoot=t}Oo.prototype.render=bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pn();ey(a,l,t,n,null,null)},Oo.prototype.unmount=bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ey(t.current,2,null,t,null,null),ho(),n[Zn]=null}};function Oo(t){this._internalRoot=t}Oo.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ea.length&&n!==0&&n<Ea[a].priority;a++);Ea.splice(a,0,t),a===0&&ly(t)}};var hy=e.version;if(hy!=="19.2.0")throw Error(s(527,hy,"19.2.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var H0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{On=Mo.inject(H0),Ue=Mo}catch{}}return zl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=_g,h=vg,g=Eg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Wp(t,1,!1,null,null,a,l,null,c,h,g,cy),t[Zn]=n.current,sf(t),new bf(n)},zl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",h=_g,g=vg,E=Eg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Wp(t,1,!0,n,a??null,l,c,C,h,g,E,cy),n.context=ty(null),a=n.current,l=pn(),l=ka(l),c=sa(l),c.callback=null,ra(a,c,l),a=l,n.current.lanes=a,Pa(n,a),fi(n),t[Zn]=n.current,sf(t),new Oo(n)},zl.version="19.2.0",zl}var Ty;function $0(){if(Ty)return wf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wf.exports=J0(),wf.exports}var W0=$0();const cd=[{id:"bird",label:" Bird"},{id:"mammal",label:" Mammal"},{id:"reptile",label:" Reptile"},{id:"amphibian",label:" Amphibian"},{id:"insect",label:" Insect"},{id:"fish",label:" Fish"},{id:"other",label:" Other"}],hd=[{id:"photo",label:" Photo"},{id:"observation",label:" Observation"},{id:"tracks",label:" Tracks"}];function tT({query:r,setQuery:e,categoryFilter:i,setCategoryFilter:s,captureFilter:u,setCaptureFilter:f,openAddForm:d}){return ft.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6 flex flex-wrap gap-3",children:[ft.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"Search names or locations",value:r,onChange:y=>e(y.target.value)}),ft.jsxs("select",{className:"border p-2 rounded",value:i,onChange:y=>s(y.target.value),children:[ft.jsx("option",{value:"",children:"All categories"}),cd.map(y=>ft.jsx("option",{value:y.id,children:y.label},y.id))]}),ft.jsxs("select",{className:"border p-2 rounded",value:u,onChange:y=>f(y.target.value),children:[ft.jsx("option",{value:"",children:"All capture levels"}),hd.map(y=>ft.jsx("option",{value:y.id,children:y.label},y.id))]}),ft.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:d,children:"+ Add"})]})}function eT({entry:r,onEdit:e,onDelete:i}){return ft.jsxs("div",{className:"bg-white rounded shadow overflow-hidden flex",children:[ft.jsx("img",{src:r.image||"https://via.placeholder.com/500",alt:"",className:"object-cover rounded max-w-screen max-h-[33vh]"}),ft.jsxs("div",{className:"p-4 flex-1 space-y-1",children:[ft.jsxs("h2",{className:"text-xl font-semibold",children:[" ",r.latin]}),ft.jsxs("p",{children:[" ",r.english]}),ft.jsxs("p",{children:[" ",r.french]}),ft.jsxs("p",{children:[" ",r.japanese]}),ft.jsxs("p",{className:"text-gray-500",children:["Category: ",cd.find(s=>s.id===r.category)?.label]}),ft.jsxs("p",{className:"text-gray-500",children:["Capture: ",hd.find(s=>s.id===r.capture)?.label]}),ft.jsxs("p",{className:"text-gray-500",children:["Locations: ",r.locations.join(", ")]}),ft.jsx("p",{className:"text-gray-400 text-sm",children:r.date}),r.notes&&ft.jsxs("p",{className:"text-gray-600 text-sm",children:[" ",r.notes]}),ft.jsxs("div",{className:"flex gap-2 pt-2",children:[ft.jsx("button",{className:"px-3 py-1 bg-yellow-400 rounded",onClick:()=>e(r),children:"Edit"}),ft.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded",onClick:()=>i(r.id),children:"Delete"})]})]})]})}function nT({editing:r,setEditing:e,onSubmit:i,onCancel:s,handleImageUpload:u}){const f=ji.useRef();return ft.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:ft.jsxs("form",{onSubmit:i,className:"bg-white p-6 rounded shadow w-full max-w-xl space-y-3",children:[ft.jsx("h2",{className:"text-xl font-bold",children:r.id?"Edit entry":"Add entry"}),ft.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Scientific name",value:r.latin,onChange:d=>e({...r,latin:d.target.value}),required:!0}),ft.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"English name",value:r.english,onChange:d=>e({...r,english:d.target.value}),required:!0}),ft.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"French name",value:r.french,onChange:d=>e({...r,french:d.target.value}),required:!0}),ft.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Japanese name",value:r.japanese,onChange:d=>e({...r,japanese:d.target.value}),required:!0}),ft.jsx("select",{className:"border p-2 rounded w-full",value:r.category,onChange:d=>e({...r,category:d.target.value}),children:cd.map(d=>ft.jsx("option",{value:d.id,children:d.label},d.id))}),ft.jsx("select",{className:"border p-2 rounded w-full",value:r.capture,onChange:d=>e({...r,capture:d.target.value}),children:hd.map(d=>ft.jsx("option",{value:d.id,children:d.label},d.id))}),ft.jsx("input",{type:"text",className:"border p-2 rounded w-full",placeholder:"Locations (comma-separated)",value:r.locations.join(", "),onChange:d=>e({...r,locations:d.target.value.split(",").map(y=>y.trim()).filter(y=>y)})}),ft.jsx("input",{type:"date",className:"border p-2 rounded w-full",value:r.date,onChange:d=>e({...r,date:d.target.value})}),ft.jsx("textarea",{className:"border p-2 rounded w-full",placeholder:"Notes",value:r.notes,onChange:d=>e({...r,notes:d.target.value})}),ft.jsx("input",{type:"file",className:"border p-2 rounded w-full",accept:"image/*",ref:f,onChange:d=>u(d.target.files[0])}),ft.jsxs("div",{className:"flex gap-2 pt-2 justify-end",children:[ft.jsx("button",{type:"button",className:"px-3 py-2 bg-gray-300 rounded",onClick:s,children:"Cancel"}),ft.jsx("button",{type:"submit",className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})}const Ay=[{id:"1",image:"",latin:"",english:"Great Egret",french:"Grande aigrette",japanese:"",category:"bird",locations:["Hyogo, Rokko"],capture:"photo",date:"2025-11-16",notes:"Seen near the port."}],iT=()=>{};var Sy={};const I_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},aT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const f=r[i++];e[s++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},O_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const f=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=f>>2,b=(f&3)<<4|y>>4;let x=(y&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(x=64)),s.push(i[A],i[b],i[x],i[Y])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(I_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const f=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const b=u<r.length?i[r.charAt(u)]:64;if(++u,f==null||y==null||_==null||b==null)throw new sT;const x=f<<2|y>>4;if(s.push(x),_!==64){const Y=y<<4&240|_>>2;if(s.push(Y),b!==64){const tt=_<<6&192|b;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rT=function(r){const e=I_(r);return O_.encodeByteArray(e,!0)},Yo=function(r){return rT(r).replace(/\./g,"")},lT=function(r){try{return O_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oT=()=>uT().__FIREBASE_DEFAULTS__,cT=()=>{if(typeof process>"u"||typeof Sy>"u")return;const r=Sy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lT(r[1]);return e&&JSON.parse(e)},fd=()=>{try{return iT()||oT()||cT()||hT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fT=r=>fd()?.emulatorHosts?.[r],dT=r=>{const e=fT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},M_=()=>fd()?.config;class mT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function dd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gT(r){return(await fetch(r,{credentials:"include"})).ok}function pT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yo(JSON.stringify(i)),Yo(JSON.stringify(d)),""].join(".")}const jl={};function yT(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function _T(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let by=!1;function vT(r,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||jl[r]===e||jl[r]||by)return;jl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",f=yT().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,Y){x.setAttribute("width","24"),x.setAttribute("id",Y),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{by=!0,d()},x}function A(x,Y){x.setAttribute("id",Y),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=_T(s),Y=i("text"),tt=document.getElementById(Y)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),gt=i("preprendIcon"),rt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const nt=x.element;y(nt),A(Z,et);const Et=_();v(rt,gt),nt.append(rt,tt,Z,Et),document.body.appendChild(nt)}f?(tt.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ET(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TT(){const r=fd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AT(){return!TT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ST(){try{return typeof indexedDB=="object"}catch{return!1}}function bT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}const RT="FirebaseError";class Rr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=RT,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x_.prototype.create)}}class x_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?CT(f,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new Rr(u,y,s)}}function CT(r,e){return r.replace(wT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const wT=/\{\$([^}]+)}/g;function Xo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const f=r[u],d=e[u];if(Ry(f)&&Ry(d)){if(!Xo(f,d))return!1}else if(f!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Ry(r){return r!==null&&typeof r=="object"}function Da(r){return r&&r._delegate?r._delegate:r}class Gl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ms="[DEFAULT]";class DT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new mT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NT(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});s.resolve(f)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const f=this.instances.get(s);return f&&e(f,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VT(r){return r===ms?void 0:r}function NT(r){return r.instantiationMode==="EAGER"}class IT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const OT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},MT=Ut.INFO,xT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},zT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=xT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z_{constructor(e){this.name=e,this._logLevel=MT,this._logHandler=zT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const UT=(r,e)=>e.some(i=>r instanceof i);let Cy,wy;function LT(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BT(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U_=new WeakMap,qf=new WeakMap,L_=new WeakMap,If=new WeakMap,md=new WeakMap;function jT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Sa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&U_.set(i,r)}).catch(()=>{}),md.set(e,r),e}function qT(r){if(qf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});qf.set(r,e)}let Pf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return qf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||L_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function PT(r){Pf=r(Pf)}function HT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Of(this),e,...i);return L_.set(s,e.sort?e.sort():[e]),Sa(s)}:BT().includes(r)?function(...e){return r.apply(Of(this),e),Sa(U_.get(this))}:function(...e){return Sa(r.apply(Of(this),e))}}function kT(r){return typeof r=="function"?HT(r):(r instanceof IDBTransaction&&qT(r),UT(r,LT())?new Proxy(r,Pf):r)}function Sa(r){if(r instanceof IDBRequest)return jT(r);if(If.has(r))return If.get(r);const e=kT(r);return e!==r&&(If.set(r,e),md.set(e,r)),e}const Of=r=>md.get(r);function GT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:f}={}){const d=indexedDB.open(r,e),y=Sa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Sa(d.result),v.oldVersion,v.newVersion,Sa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const QT=["get","getKey","getAll","getAllKeys","count"],FT=["put","add","delete","clear"],Mf=new Map;function Dy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=FT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||QT.includes(i)))return;const f=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Mf.set(e,f),f}PT(r=>({...r,get:(e,i,s)=>Dy(e,i)||r.get(e,i,s),has:(e,i)=>!!Dy(e,i)||r.has(e,i)}));class YT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function XT(r){return r.getComponent()?.type==="VERSION"}const Hf="@firebase/app",Vy="0.14.6";const qi=new z_("@firebase/app"),KT="@firebase/app-compat",ZT="@firebase/analytics-compat",JT="@firebase/analytics",$T="@firebase/app-check-compat",WT="@firebase/app-check",t1="@firebase/auth",e1="@firebase/auth-compat",n1="@firebase/database",i1="@firebase/data-connect",a1="@firebase/database-compat",s1="@firebase/functions",r1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",o1="@firebase/messaging",c1="@firebase/messaging-compat",h1="@firebase/performance",f1="@firebase/performance-compat",d1="@firebase/remote-config",m1="@firebase/remote-config-compat",g1="@firebase/storage",p1="@firebase/storage-compat",y1="@firebase/firestore",_1="@firebase/ai",v1="@firebase/firestore-compat",E1="firebase",T1="12.6.0";const kf="[DEFAULT]",A1={[Hf]:"fire-core",[KT]:"fire-core-compat",[JT]:"fire-analytics",[ZT]:"fire-analytics-compat",[WT]:"fire-app-check",[$T]:"fire-app-check-compat",[t1]:"fire-auth",[e1]:"fire-auth-compat",[n1]:"fire-rtdb",[i1]:"fire-data-connect",[a1]:"fire-rtdb-compat",[s1]:"fire-fn",[r1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[o1]:"fire-fcm",[c1]:"fire-fcm-compat",[h1]:"fire-perf",[f1]:"fire-perf-compat",[d1]:"fire-rc",[m1]:"fire-rc-compat",[g1]:"fire-gcs",[p1]:"fire-gcs-compat",[y1]:"fire-fst",[v1]:"fire-fst-compat",[_1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};const Ko=new Map,S1=new Map,Gf=new Map;function Ny(r,e){try{r.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Zo(r){const e=r.name;if(Gf.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,r);for(const i of Ko.values())Ny(i,r);for(const i of S1.values())Ny(i,r);return!0}function b1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function R1(r){return r==null?!1:r.settings!==void 0}const C1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new x_("app","Firebase",C1);class w1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}const D1=T1;function B_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:kf,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw ba.create("bad-app-name",{appName:String(u)});if(i||(i=M_()),!i)throw ba.create("no-options");const f=Ko.get(u);if(f){if(Xo(i,f.options)&&Xo(s,f.config))return f;throw ba.create("duplicate-app",{appName:u})}const d=new IT(u);for(const v of Gf.values())d.addComponent(v);const y=new w1(i,s,d);return Ko.set(u,y),y}function V1(r=kf){const e=Ko.get(r);if(!e&&r===kf&&M_())return B_();if(!e)throw ba.create("no-app",{appName:r});return e}function gr(r,e,i){let s=A1[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}Zo(new Gl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const N1="firebase-heartbeat-database",I1=1,Ql="firebase-heartbeat-store";let xf=null;function j_(){return xf||(xf=GT(N1,I1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(r=>{throw ba.create("idb-open",{originalErrorMessage:r.message})})),xf}async function O1(r){try{const i=(await j_()).transaction(Ql),s=await i.objectStore(Ql).get(q_(r));return await i.done,s}catch(e){if(e instanceof Rr)qi.warn(e.message);else{const i=ba.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function Iy(r,e){try{const s=(await j_()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,q_(r)),await s.done}catch(i){if(i instanceof Rr)qi.warn(i.message);else{const s=ba.create("idb-set",{originalErrorMessage:i?.message});qi.warn(s.message)}}}function q_(r){return`${r.name}!${r.options.appId}`}const M1=1024,x1=30;class z1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new L1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>x1){const u=B1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oy(),{heartbeatsToSend:i,unsentEntries:s}=U1(this._heartbeatsCache.heartbeats),u=Yo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return qi.warn(e),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function U1(r,e=M1){const i=[];let s=r.slice();for(const u of r){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),My(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),My(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class L1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ST()?bT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await O1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function My(r){return Yo(JSON.stringify({version:2,heartbeats:r})).length}function B1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function j1(r){Zo(new Gl("platform-logger",e=>new YT(e),"PRIVATE")),Zo(new Gl("heartbeat",e=>new z1(e),"PRIVATE")),gr(Hf,Vy,r),gr(Hf,Vy,"esm2020"),gr("fire-js","")}j1("");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ra,P_;(function(){var r;function e(D,S){function w(){}w.prototype=S.prototype,D.F=S.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(O,N,z){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return S.prototype[N].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(D,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)O[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;N<16;++N)O[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=D.g[0],w=D.g[1],N=D.g[2];let z=D.g[3],R;R=S+(z^w&(N^z))+O[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(N^S&(w^N))+O[1]+3905402710&4294967295,z=S+(R<<12&4294967295|R>>>20),R=N+(w^z&(S^w))+O[2]+606105819&4294967295,N=z+(R<<17&4294967295|R>>>15),R=w+(S^N&(z^S))+O[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(z^w&(N^z))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(N^S&(w^N))+O[5]+1200080426&4294967295,z=S+(R<<12&4294967295|R>>>20),R=N+(w^z&(S^w))+O[6]+2821735955&4294967295,N=z+(R<<17&4294967295|R>>>15),R=w+(S^N&(z^S))+O[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(z^w&(N^z))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(N^S&(w^N))+O[9]+2336552879&4294967295,z=S+(R<<12&4294967295|R>>>20),R=N+(w^z&(S^w))+O[10]+4294925233&4294967295,N=z+(R<<17&4294967295|R>>>15),R=w+(S^N&(z^S))+O[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(z^w&(N^z))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(N^S&(w^N))+O[13]+4254626195&4294967295,z=S+(R<<12&4294967295|R>>>20),R=N+(w^z&(S^w))+O[14]+2792965006&4294967295,N=z+(R<<17&4294967295|R>>>15),R=w+(S^N&(z^S))+O[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^z&(w^N))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^N&(S^w))+O[6]+3225465664&4294967295,z=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(z^S))+O[11]+643717713&4294967295,N=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(N^z))+O[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^z&(w^N))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^N&(S^w))+O[10]+38016083&4294967295,z=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(z^S))+O[15]+3634488961&4294967295,N=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(N^z))+O[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^z&(w^N))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^N&(S^w))+O[14]+3275163606&4294967295,z=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(z^S))+O[3]+4107603335&4294967295,N=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(N^z))+O[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^z&(w^N))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^N&(S^w))+O[2]+4243563512&4294967295,z=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(z^S))+O[7]+1735328473&4294967295,N=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(N^z))+O[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^z)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^N)+O[8]+2272392833&4294967295,z=S+(R<<11&4294967295|R>>>21),R=N+(z^S^w)+O[11]+1839030562&4294967295,N=z+(R<<16&4294967295|R>>>16),R=w+(N^z^S)+O[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^z)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^N)+O[4]+1272893353&4294967295,z=S+(R<<11&4294967295|R>>>21),R=N+(z^S^w)+O[7]+4139469664&4294967295,N=z+(R<<16&4294967295|R>>>16),R=w+(N^z^S)+O[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^z)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^N)+O[0]+3936430074&4294967295,z=S+(R<<11&4294967295|R>>>21),R=N+(z^S^w)+O[3]+3572445317&4294967295,N=z+(R<<16&4294967295|R>>>16),R=w+(N^z^S)+O[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^z)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^N)+O[12]+3873151461&4294967295,z=S+(R<<11&4294967295|R>>>21),R=N+(z^S^w)+O[15]+530742520&4294967295,N=z+(R<<16&4294967295|R>>>16),R=w+(N^z^S)+O[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~z))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~N))+O[7]+1126891415&4294967295,z=S+(R<<10&4294967295|R>>>22),R=N+(S^(z|~w))+O[14]+2878612391&4294967295,N=z+(R<<15&4294967295|R>>>17),R=w+(z^(N|~S))+O[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~z))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~N))+O[3]+2399980690&4294967295,z=S+(R<<10&4294967295|R>>>22),R=N+(S^(z|~w))+O[10]+4293915773&4294967295,N=z+(R<<15&4294967295|R>>>17),R=w+(z^(N|~S))+O[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~z))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~N))+O[15]+4264355552&4294967295,z=S+(R<<10&4294967295|R>>>22),R=N+(S^(z|~w))+O[6]+2734768916&4294967295,N=z+(R<<15&4294967295|R>>>17),R=w+(z^(N|~S))+O[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~z))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~N))+O[11]+3174756917&4294967295,z=S+(R<<10&4294967295|R>>>22),R=N+(S^(z|~w))+O[2]+718787259&4294967295,N=z+(R<<15&4294967295|R>>>17),R=w+(z^(N|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,S){S===void 0&&(S=D.length);const w=S-this.blockSize,O=this.C;let N=this.h,z=0;for(;z<S;){if(N==0)for(;z<=w;)u(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(O[N++]=D.charCodeAt(z++),N==this.blockSize){u(this,O),N=0;break}}else for(;z<S;)if(O[N++]=D[z++],N==this.blockSize){u(this,O),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)D[S++]=this.g[w]>>>O&255;return D};function f(D,S){var w=y;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=S(D)}function d(D,S){this.h=S;const w=[];let O=!0;for(let N=D.length-1;N>=0;N--){const z=D[N]|0;O&&z==S||(w[N]=z,O=!1)}this.g=w}var y={};function v(D){return-128<=D&&D<128?f(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return Z(_(-D));const S=[];let w=1;for(let O=0;D>=w;O++)S[O]=D/w|0,w*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return Z(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=b;for(let z=0;z<D.length;z+=8){var N=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+N),S);N<8?(N=_(Math.pow(S,N)),O=O.j(N).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var b=v(0),x=v(1),Y=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-Z(this).m();let D=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(tt(this))return"0";if(et(this))return"-"+Z(this).toString(D);const S=_(Math.pow(D,6));var w=this;let O="";for(;;){const N=Et(w,S).g;w=gt(w,N.j(S));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=N,tt(w))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function tt(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function et(D){return D.h==-1}r.l=function(D){return D=gt(this,D),et(D)?-1:tt(D)?0:1};function Z(D){const S=D.g.length,w=[];for(let O=0;O<S;O++)w[O]=~D.g[O];return new d(w,~D.h).add(x)}r.abs=function(){return et(this)?Z(this):this},r.add=function(D){const S=Math.max(this.g.length,D.g.length),w=[];let O=0;for(let N=0;N<=S;N++){let z=O+(this.i(N)&65535)+(D.i(N)&65535),R=(z>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);O=R>>>16,z&=65535,R&=65535,w[N]=R<<16|z}return new d(w,w[w.length-1]&-2147483648?-1:0)};function gt(D,S){return D.add(Z(S))}r.j=function(D){if(tt(this)||tt(D))return b;if(et(this))return et(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(et(D))return Z(this.j(Z(D)));if(this.l(Y)<0&&D.l(Y)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<D.g.length;N++){const z=this.i(O)>>>16,R=this.i(O)&65535,ne=D.i(N)>>>16,Re=D.i(N)&65535;w[2*O+2*N]+=R*Re,rt(w,2*O+2*N),w[2*O+2*N+1]+=z*Re,rt(w,2*O+2*N+1),w[2*O+2*N+1]+=R*ne,rt(w,2*O+2*N+1),w[2*O+2*N+2]+=z*ne,rt(w,2*O+2*N+2)}for(D=0;D<S;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=S;D<2*S;D++)w[D]=0;return new d(w,0)};function rt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function nt(D,S){this.g=D,this.h=S}function Et(D,S){if(tt(S))throw Error("division by zero");if(tt(D))return new nt(b,b);if(et(D))return S=Et(Z(D),S),new nt(Z(S.g),Z(S.h));if(et(S))return S=Et(D,Z(S)),new nt(Z(S.g),S.h);if(D.g.length>30){if(et(D)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=S;O.l(D)<=0;)w=Mt(w),O=Mt(O);var N=Rt(w,1),z=Rt(O,1);for(O=Rt(O,2),w=Rt(w,2);!tt(O);){var R=z.add(O);R.l(D)<=0&&(N=N.add(w),z=R),O=Rt(O,1),w=Rt(w,1)}return S=gt(D,N.j(S)),new nt(N,S)}for(N=b;D.l(S)>=0;){for(w=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=_(w),R=z.j(S);et(R)||R.l(D)>0;)w-=O,z=_(w),R=z.j(S);tt(z)&&(z=x),N=N.add(z),D=gt(D,R)}return new nt(N,D)}r.B=function(D){return Et(this,D).h},r.and=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&D.i(O);return new d(w,this.h&D.h)},r.or=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|D.i(O);return new d(w,this.h|D.h)},r.xor=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^D.i(O);return new d(w,this.h^D.h)};function Mt(D){const S=D.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(w,D.h)}function Rt(D,S){const w=S>>5;S%=32;const O=D.g.length-w,N=[];for(let z=0;z<O;z++)N[z]=S>0?D.i(z+w)>>>S|D.i(z+w+1)<<32-S:D.i(z+w);return new d(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,P_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ra=d}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var H_,Ul,k_,Po,Qf,G_,Q_,F_;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof xo=="object"&&xo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var f=f||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function b(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,U,q){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,J)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function Y(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function tt(o,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const q=U.length||0;o.length=p+q;for(let J=0;J<q;J++)o[p+J]=U[J]}else o.push(U)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function gt(){var o=D;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,p){const T=nt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var nt=new et(()=>new Et,o=>o.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Mt,Rt=!1,D=new rt,S=()=>{const o=Promise.resolve(void 0);Mt=()=>{o.then(w)}};function w(){for(var o;o=gt();){try{o.h.call(o.g)}catch(p){Z(p)}var m=nt;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Rt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function ne(o,m){N.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}b(ne,N),ne.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),k=0;function $(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++k,this.da=this.fa=!1}function ct(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Lt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function kt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function I(o){const m={};for(const p in o)m[p]=o[p];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let q=0;q<F.length;q++)p=F[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function at(o){this.src=o,this.g={},this.h=0}at.prototype.add=function(o,m,p,T,U){const q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);const J=St(o,m,T,U);return J>-1?(m=o[J],p||(m.fa=!1)):(m=new $(m,this.src,q,!!T,U),m.fa=p,o.push(m)),m};function pt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ct(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function St(o,m,p,T){for(let U=0;U<o.length;++U){const q=o[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(o,m,p,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ie(o,m[q],p,T,U);return null}return p=Or(p),o&&o[Re]?o.J(m,p,y(T)?!!T.capture:!1,U):La(o,m,p,!1,T,U)}function La(o,m,p,T,U,q){if(!m)throw Error("Invalid event type");const J=y(U)?!!U.capture:!!U;let Tt=Ba(o);if(Tt||(o[xt]=Tt=new at(o)),p=Tt.add(m,p,T,J,q),p.proxy)return p;if(T=Ts(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)z||(U=J),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Qn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ts(){function o(p){return m.call(o.src,o.listener,p)}const m=Nr;return o}function As(o,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)As(o,m[q],p,T,U);else T=y(T)?!!T.capture:!!T,p=Or(p),o&&o[Re]?(o=o.i,q=String(m).toString(),q in o.g&&(m=o.g[q],p=St(m,p,T,U),p>-1&&(ct(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[q],o.h--)))):o&&(o=Ba(o))&&(m=o.g[m.toString()],o=-1,m&&(o=St(m,p,T,U)),(p=o>-1?m[o]:null)&&Ss(p))}function Ss(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])pt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Qn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ba(m))?(pt(p,o),p.h==0&&(p.src=null,m[xt]=null)):ct(o)}}}function Qn(o){return o in Ce?Ce[o]:Ce[o]="on"+o}function Nr(o,m){if(o.da)o=!0;else{m=new ne(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Ss(o),o=p.call(T,m)}return o}function Ba(o){return o=o[xt],o instanceof at?o:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(o){return typeof o=="function"?o:(o[Ir]||(o[Ir]=function(m){return o.handleEvent(m)}),o[Ir])}function me(){O.call(this),this.i=new at(this),this.M=this,this.G=null}b(me,O),me.prototype[Re]=!0,me.prototype.removeEventListener=function(o,m,p,T){As(this,o,m,p,T)};function we(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new N(m,o);else if(m instanceof N)m.target=m.target||o;else{var U=m;m=new N(T,o),W(m,U)}U=!0;let q,J;if(p)for(J=p.length-1;J>=0;J--)q=m.g=p[J],U=ki(q,T,!0,m)&&U;if(q=m.g=o,U=ki(q,T,!0,m)&&U,U=ki(q,T,!1,m)&&U,p)for(J=0;J<p.length;J++)q=m.g=p[J],U=ki(q,T,!1,m)&&U}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ct(p[T]);delete o.g[m],o.h--}}this.G=null},me.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},me.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function ki(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const J=m[q];if(J&&!J.da&&J.capture==p){const Tt=J.listener,ce=J.ha||J.src;J.fa&&pt(o.i,J),U=Tt.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function Cc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function au(o){o.g=Cc(()=>{o.g=null,o.i&&(o.i=!1,au(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ke extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(o){O.call(this),this.h=o,this.g={}}b(ja,O);var Mr=[];function xr(o){Lt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Ss(m)},o),o.g={}}ja.prototype.N=function(){ja.Z.N.call(this),xr(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=d.JSON.stringify,wc=d.JSON.parse,su=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function ru(){}function lu(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){N.call(this,"d")}b(Ue,N);function _n(){N.call(this,"c")}b(_n,N);var oe={},uu=null;function bs(){return uu=uu||new me}oe.Ia="serverreachability";function ou(o){N.call(this,oe.Ia,o)}b(ou,N);function Fn(o){const m=bs();we(m,new ou(m))}oe.STAT_EVENT="statevent";function qa(o,m){N.call(this,oe.STAT_EVENT,o),this.stat=m}b(qa,N);function ge(o){const m=bs();we(m,new qa(m,o))}oe.Ja="timingevent";function Yn(o,m){N.call(this,oe.Ja,o),this.size=m}b(Yn,N);function Xn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Dc(o,m,p,T,U,q){o.info(function(){if(o.g)if(q){var J="",Tt=q.split("&");for(let qt=0;qt<Tt.length;qt++){var ce=Tt[qt].split("=");if(ce.length>1){const ae=ce[0];ce=ce[1];const An=ae.split("_");J=An.length>=2&&An[1]=="type"?J+(ae+"="+ce+"&"):J+(ae+"=redacted&")}}}else J=null;else J=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+J})}function cu(o,m,p,T,U,q,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+J})}function Kn(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vc(o,p)+(T?" "+T:"")})}function Pa(o,m){o.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function Vc(o,m){if(!o.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(o=0;o<q.length;o++)if(Array.isArray(q[o])){var p=q[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return Gi(q)}catch{return m}}var Ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ur;function ka(){}b(ka,ru),ka.prototype.g=function(){return new XMLHttpRequest},Ur=new ka;function Ei(o){return encodeURIComponent(String(o))}function hu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function xn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var pe={},Ie={};function Zn(o,m,p){o.M=1,o.A=Ga(_e(m)),o.u=p,o.R=!0,Rs(o,null)}function Rs(o,m){o.F=Date.now(),Jn(o),o.B=_e(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Vs(p.i,"t",T),o.C=0,p=o.j.L,o.h=new zn,o.g=Cu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ke(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(Mr[0]=U.toString()),U=Mr);for(let q=0;q<U.length;q++){const J=ie(p,U[q],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.J?I(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Fn(),Dc(o.i,o.v,o.B,o.l,o.S,o.u)}xn.prototype.ba=function(o){o=o.target;const m=this.O;m&&Bn(o)==3?m.j():this.Y(o)},xn.prototype.Y=function(o){try{if(o==this.g)t:{const Tt=Bn(this.g),ce=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Tt!=4||ce==7||(ce==8||qt<=0?Fn(3):Fn(2)),$n(this);var m=this.g.ca();this.X=m;var p=Nc(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(o=q)Kn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wn(this,o);else{this.o=!1,this.m=3,ge(12),un(this),vn(this);break t}}if(this.R){o=!0;let ae;for(;!this.K&&this.C<p.length;)if(ae=du(this,p),ae==Ie){Tt==4&&(this.m=4,ge(14),o=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==pe){this.m=4,ge(15),Kn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Kn(this.i,this.l,ae,null),Wn(this,ae);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||p.length!=0||this.h.h||(this.m=1,ge(16),o=!1),this.o=this.o&&o,!o)Kn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Jr(J),J.P=!0,ge(11))}}else Kn(this.i,this.l,p,null),Wn(this,p);Tt==4&&un(this),this.o&&!this.K&&(Tt==4?Au(this.j,this):(this.o=!1,Jn(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),vn(this)}}}catch{}finally{}};function Nc(o){if(!fu(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const T=m.length,U=Bn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return un(o),vn(o),"";o.h.i=new d.TextDecoder}for(let q=0;q<T;q++)o.h.h=!0,p+=o.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function fu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function du(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ie:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Ie:(m=m.slice(T,T+p),o.C=T+p,m)))}xn.prototype.cancel=function(){this.K=!0,un(this)};function Jn(o){o.T=Date.now()+o.H,Cs(o,o.H)}function Cs(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Xn(_(o.aa,o),m)}function $n(o){o.D&&(d.clearTimeout(o.D),o.D=null)}xn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Pa(this.i,this.B),this.M!=2&&(Fn(),ge(17)),un(this),this.m=2,vn(this)):Cs(this,this.T-o)};function vn(o){o.j.I==0||o.K||Au(o.j,o)}function un(o){$n(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,xr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function Wn(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ei(p.h,o))){if(!o.L&&ei(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)xs(p),$i(p);else break t;Ja(p),ge(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Xn(_(p.Va,p),6e3));ti(p.h)<=1&&p.ta&&(p.ta=void 0)}else li(p,11)}else if((o.L||p.g==o)&&xs(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const ae=qt[0];if(!(ae<=p.K))if(p.K=ae,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const An=qt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ui=qt[4];ui!=null&&(p.za=ui,p.j.info("SVER="+p.za));const jn=qt[5];jn!=null&&typeof jn=="number"&&jn>0&&(T=1.5*jn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=o.g;if(qn){const $a=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var q=T.h;q.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jr(q,q.h),q.h=null))}if(T.G){const zs=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;zs&&(T.wa=zs,Gt(T.J,T.G,zs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var J=o;if(T.na=Ru(T,T.L?T.ba:null,T.W),J.L){qr(T.h,J);var Tt=J,ce=T.O;ce&&(Tt.H=ce),Tt.D&&($n(Tt),Jn(Tt)),T.g=J}else Eu(T);p.i.length>0&&ri(p)}else qt[0]!="stop"&&qt[0]!="close"||li(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?li(p,7):Kr(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}Fn(4)}catch{}}var ye=class{constructor(o,m){this.g=o,this.map=m}};function Lr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Br(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ti(o){return o.h?1:o.g?o.g.size:0}function ei(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function jr(o,m){o.g?o.g.add(m):o.h=m}function qr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Lr.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return Y(o.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let U,q=null;T>=0?(U=o[p].substring(0,T),q=o[p].substring(T+1)):U=o[p],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function on(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof on?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Qi(this,o.u),this.h=o.h,Hr(this,_u(o.i)),this.m=o.m):o&&(m=String(o).match(mu))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ni(m[2]||""),this.g=ni(m[3]||"",!0),Qi(this,m[4]),this.h=ni(m[5]||"",!0),Hr(this,m[6]||"",!0),this.m=ni(m[7]||"")):(this.l=!1,this.i=new Yi(null,this.l))}on.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Qa(m,Ds,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Qa(m,Ds,!0),"@"),o.push(Ei(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Qa(p,p.charAt(0)=="/"?kr:gu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Qa(p,pu)),o.join("")},on.prototype.resolve=function(o){const m=_e(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Qi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let J=0;J<U.length;){const Tt=U[J++];Tt=="."?T&&J==U.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&J==U.length&&q.push("")):(q.push(Tt),T=!0)}T=q.join("/")}else T=U}return p?m.h=T:p=o.i.toString()!=="",p?Hr(m,_u(o.i)):p=!!o.m,p&&(m.m=o.m),m};function _e(o){return new on(o)}function Oe(o,m,p){o.j=p?ni(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Qi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Hr(o,m,p){m instanceof Yi?(o.i=m,Ns(o.i,o.l)):(p||(m=Qa(m,Fi)),o.i=new Yi(m,o.l))}function Gt(o,m,p){o.i.set(m,p)}function Ga(o){return Gt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ni(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Qa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,$e),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function $e(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ds=/[#\/\?@]/g,gu=/[#\?:]/g,kr=/[#\?]/g,Fi=/[#\?@]/g,pu=/#/g;function Yi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function We(o){o.g||(o.g=new Map,o.h=0,o.i&&ws(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Yi.prototype,r.add=function(o,m){We(this),this.i=null,o=Xi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function yu(o,m){We(o),m=Xi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Gr(o,m){return We(o),m=Xi(o,m),o.g.has(m)}r.forEach=function(o,m){We(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)};function Qr(o,m){We(o);let p=[];if(typeof m=="string")Gr(o,m)&&(p=p.concat(o.g.get(Xi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return We(this),this.i=null,o=Xi(this,o),Gr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Qr(this,o),o.length>0?String(o[0]):m):m};function Vs(o,m,p){yu(o,m),p.length>0&&(o.i=null,o.g.set(Xi(o,m),Y(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ei(p);p=Qr(this,p);for(let q=0;q<p.length;q++){let J=U;p[q]!==""&&(J+="="+Ei(p[q])),o.push(J)}}return this.i=o.join("&")};function _u(o){const m=new Yi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Xi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Ns(o,m){m&&!o.j&&(We(o),o.i=null,o.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(yu(this,T),Vs(this,U,p))},o)),o.j=m}function Un(o,m){const p=new Mn;if(d.Image){const T=new Image;T.onload=A(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,p,"TestLoadImage: error",!1,m,T),T.onabort=A(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Fr(o,m){const p=new Mn,T=new AbortController,U=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(p,"TestPingServer: error",!1,m)})}function En(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ki(){this.g=new su}function ii(o){this.i=o.Sb||null,this.h=o.ab||!1}b(ii,ru),ii.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(o,m){me.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Fa,me),r=Fa.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Ln(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Is(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Is(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Zi(this):Ln(this),this.readyState==3&&Is(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,Zi(this))},r.Na=function(o){this.g&&(this.response=o,Zi(this))},r.ga=function(){this.g&&Zi(this)};function Zi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ln(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Ln(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Tn(o){let m="";return Lt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ya(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof o=="string"?p!=null&&Ei(p):Gt(o,m,p))}function Yt(o){me.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,me);var ai=/^https?$/i,Yr=["POST","PUT"];r=Yt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ur.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){Xa(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Yr,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of p)this.g.setRequestHeader(q,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(q){Xa(this,q)}};function Xa(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Xr(o),Ti(o)}function Xr(o){o.A||(o.A=!0,we(o,"complete"),we(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,we(this,"complete"),we(this,"abort"),Ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ka(this):this.Xa())},r.Xa=function(){Ka(this)};function Ka(o){if(o.h&&typeof f<"u"){if(o.v&&Bn(o)==4)setTimeout(o.Ca.bind(o),0);else if(we(o,"readystatechange"),Bn(o)==4){o.h=!1;try{const q=o.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let J=String(o.D).match(mu)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ai.test(J?J.toLowerCase():"")}p=T}if(p)we(o,"complete"),we(o,"success");else{o.o=6;try{var U=Bn(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",Xr(o)}}finally{Ti(o)}}}}function Ti(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||we(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),wc(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(o){const m={};o=(o.g&&Bn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var p=hu(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}kt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ji(o){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=si("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=si("baseRetryDelayMs",5e3,o),this.Za=si("retryDelaySeedMs",1e4,o),this.Ta=si("forwardChannelMaxRetries",2,o),this.va=si("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Lr(o&&o.concurrentRequestLimit),this.Ba=new Ki,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ji.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){ge(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Ru(this,null,this.W),ri(this)};function Kr(o){if(Os(o),o.I==3){var m=o.V++,p=_e(o.J);if(Gt(p,"SID",o.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Za(o,p),m=new xn(o,o.j,m),m.M=2,m.A=Ga(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Jn(m)}bu(o)}function $i(o){o.g&&(Jr(o),o.g.cancel(),o.g=null)}function Os(o){$i(o),o.v&&(d.clearTimeout(o.v),o.v=null),xs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function ri(o){if(!Br(o.h)&&!o.m){o.m=!0;var m=o.Ea;Mt||S(),Rt||(Mt(),Rt=!0),D.add(m,o),o.D=0}}function Ms(o,m){return ti(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Xn(_(o.Ea,o,m),Su(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new xn(this,this.j,o);let q=this.o;if(this.U&&(q?(q=I(q),W(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=vu(this,U,m),p=_e(this.J),Gt(p,"RID",o),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),Za(this,p),q&&(this.R?m="headers="+Ei(Tn(q))+"&"+m:this.u&&Ya(p,this.u,q)),jr(this.h,U),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),U.U=!0,Zn(U,p,null)):Zn(U,p,m),this.I=2}}else this.I==3&&(o?Zr(this,o):this.i.length==0||Br(this.h)||Zr(this))};function Zr(o,m){var p;m?p=m.l:p=o.V++;const T=_e(o.J);Gt(T,"SID",o.M),Gt(T,"RID",p),Gt(T,"AID",o.K),Za(o,T),o.u&&o.o&&Ya(T,o.u,o.o),p=new xn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=vu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),jr(o.h,p),Zn(p,T,m)}function Za(o,m){o.H&&Lt(o.H,function(p,T){Gt(m,T,p)}),o.l&&Lt({},function(p,T){Gt(m,T,p)})}function vu(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var U=o.i;let Tt=-1;for(;;){const ce=["count="+p];Tt==-1?p>0?(Tt=U[0].g,ce.push("ofs="+Tt)):Tt=0:ce.push("ofs="+Tt);let qt=!0;for(let ae=0;ae<p;ae++){var q=U[ae].g;const An=U[ae].map;if(q-=Tt,q<0)Tt=Math.max(0,U[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var J=An instanceof Map?An:Object.entries(An);for(const[ui,jn]of J){let qn=jn;y(jn)&&(qn=Gi(jn)),ce.push(q+ui+"="+encodeURIComponent(qn))}}catch(ui){throw ce.push(q+"type="+encodeURIComponent("_badmap")),ui}}catch{T&&T(An)}}if(qt){J=ce.join("&");break t}}J=void 0}return o=o.i.splice(0,p),m.G=o,J}function Eu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;Mt||S(),Rt||(Mt(),Rt=!0),D.add(m,o),o.A=0}}function Ja(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Xn(_(o.Da,o),Su(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Xn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),$i(this),Tu(this))};function Jr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Tu(o){o.g=new xn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=_e(o.na);Gt(m,"RID","rpc"),Gt(m,"SID",o.M),Gt(m,"AID",o.K),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Gt(m,"TO",o.ia),Gt(m,"TYPE","xmlhttp"),Za(o,m),o.u&&o.o&&Ya(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ga(_e(m)),p.u=null,p.R=!0,Rs(p,o)}r.Va=function(){this.C!=null&&(this.C=null,$i(this),Ja(this),ge(19))};function xs(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Au(o,m){var p=null;if(o.g==m){xs(o),Jr(o),o.g=null;var T=2}else if(ei(o.h,m))p=m.G,qr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;T=bs(),we(T,new Yn(T,p)),ri(o)}else Eu(o);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ms(o,m)||T==2&&Ja(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:li(o,5);break;case 4:li(o,10);break;case 3:li(o,6);break;default:li(o,2)}}}function Su(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function li(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const U=!T;T=new on(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Ga(T),U?Un(T.toString(),p):Fr(T.toString(),p)}else ge(2);o.I=0,o.l&&o.l.pa(m),bu(o),Os(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function bu(o){if(o.I=0,o.ja=[],o.l){const m=Pr(o.h);(m.length!=0||o.i.length!=0)&&(tt(o.ja,m),tt(o.ja,o.i),o.h.i.length=0,Y(o.i),o.i.length=0),o.l.oa()}}function Ru(o,m,p){var T=p instanceof on?_e(p):new on(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new on(null);T&&Oe(q,T),m&&(q.g=m),U&&Qi(q,U),p&&(q.h=p),T=q}return p=o.G,m=o.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",o.ka),Za(o,T),T}function Cu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Yt(new ii({ab:p})):new Yt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Wi(){}Wi.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){me.call(this),this.g=new Ji(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Si(this)}b(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Kr(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Gi(o),o=p);m.i.push(new ye(m.Ya++,o)),m.I==3&&ri(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Kr(this.g),delete this.g,Ze.Z.N.call(this)};function Du(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}b(Du,Ue);function Vu(){_n.call(this),this.status=1}b(Vu,_n);function Si(o){this.g=o}b(Si,wu),Si.prototype.ra=function(){we(this.g,"a")},Si.prototype.qa=function(o){we(this.g,new Du(o))},Si.prototype.pa=function(o){we(this.g,new Vu)},Si.prototype.oa=function(){we(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,F_=function(){return new Wi},Q_=function(){return bs()},G_=oe,Qf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ha.NO_ERROR=0,Ha.TIMEOUT=8,Ha.HTTP_ERROR=6,Po=Ha,zr.COMPLETE="complete",k_=zr,lu.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",me.prototype.listen=me.prototype.J,Ul=lu,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,H_=Yt}).apply(typeof xo<"u"?xo:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",Uy="4.9.2";class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let Cr="12.3.0";const ps=new z_("@firebase/firestore");function hr(){return ps.logLevel}function it(r,...e){if(ps.logLevel<=Ut.DEBUG){const i=e.map(gd);ps.debug(`Firestore (${Cr}): ${r}`,...i)}}function Pi(r,...e){if(ps.logLevel<=Ut.ERROR){const i=e.map(gd);ps.error(`Firestore (${Cr}): ${r}`,...i)}}function vr(r,...e){if(ps.logLevel<=Ut.WARN){const i=e.map(gd);ps.warn(`Firestore (${Cr}): ${r}`,...i)}}function gd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Y_(r,s,i)}function Y_(r,e,i){let s=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Pi(s),new Error(s)}function Ht(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||Y_(e,u,s)}function vt(r,e){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Rr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class X_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class P1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class H1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ca,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ca)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new X_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class k1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new k1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,R1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=f=>{f.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const u=f=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>u(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ly(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ly(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function F1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=F1(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+=e.charAt(u[f]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function Ff(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),f=e.charAt(s);if(u!==f)return zf(u)===zf(f)?Nt(u,f):zf(u)?1:-1}return Nt(r.length,e.length)}const Y1=55296,X1=57343;function zf(r){const e=r.charCodeAt(0);return e>=Y1&&e<=X1}function Er(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}const By="__name__";class di{constructor(e,i,s){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&mt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const f=di.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return Nt(e.length,i.length)}static compareSegments(e,i){const s=di.isNumericId(e),u=di.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?di.extractNumericId(e).compare(di.extractNumericId(i)):Ff(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class te extends di{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const K1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends di{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return K1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===By}static keyField(){return new ke([By])}static fromServerFormat(e){const i=[];let s="",u=0;const f=()=>{if(s.length===0)throw new ut(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new ut(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(f(),u++)}if(f(),d)throw new ut(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(te.fromString(e))}static fromName(e){return new ht(te.fromString(e).popFirst(5))}static empty(){return new ht(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new te(e.slice()))}}function K_(r,e,i){if(!i)throw new ut(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Z1(r,e,i,s){if(e===!0&&s===!0)throw new ut(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function jy(r){if(!ht.isDocumentKey(r))throw new ut(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qy(r){if(ht.isDocumentKey(r))throw new ut(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Z_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function ys(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yd(r);throw new ut(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function be(r,e){const i={typeString:r};return e&&(i.value=e),i}function $l(r,e){if(!Z_(r))throw new ut(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new ut(K.INVALID_ARGUMENT,i);return!0}const Py=-62135596800,Hy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Hy);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Py)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:be("string",ee._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ee(0,0))}static max(){return new yt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function J1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Va(u,ht.empty(),e)}function $1(r){return new Va(r.readTime,r.key,Fl)}class Va{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Va(yt.min(),ht.empty(),Fl)}static max(){return new Va(yt.max(),ht.empty(),Fl)}}function W1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}const tA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wr(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==tA)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let u=0,f=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++f,d&&f===u&&i()}),(v=>s(v)))})),d=!0,f===u&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((u=>u?X.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,f)=>{s.push(i.call(this,u,f))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,u)=>{const f=e.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===f&&s(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new X(((s,u)=>{const f=()=>{e()===!0?i().next((()=>{f()}),u):s()};f()}))}}function nA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Dr(r){return r.name==="IndexedDbTransactionError"}class oc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oc.ce=-1;const _d=-1;function cc(r){return r==null}function Jo(r){return r===0&&1/r==-1/0}function iA(r){return typeof r=="number"&&Number.isInteger(r)&&!Jo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const J_="";function aA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=ky(e)),e=sA(r.get(i),e);return ky(e)}function sA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const f=r.charAt(u);switch(f){case"\0":i+="";break;case J_:i+="";break;default:i+=f}}return i}function ky(r){return r+J_+""}function Gy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function za(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function $_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class re{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zo(this.root,e,this.comparator,!0)}}class zo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,u,f){this.key=e,this.value=i,this.color=s??He.RED,this.left=u??He.EMPTY,this.right=f??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,f){return new He(e??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,s),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,s,u,f){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ne{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new yn([])}unionWith(e){let i=new Ne(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Er(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class W_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new W_("Invalid base64 string: "+f):f}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const rA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=rA.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ia(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}const tv="server_timestamp",ev="__type__",nv="__previous_value__",iv="__local_write_time__";function vd(r){return(r?.mapValue?.fields||{})[ev]?.stringValue===tv}function hc(r){const e=r.mapValue.fields[nv];return vd(e)?hc(e):e}function Yl(r){const e=Na(r.mapValue.fields[iv].timestampValue);return new ee(e.seconds,e.nanos)}class lA{constructor(e,i,s,u,f,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const $o="(default)";class Xl{constructor(e,i){this.projectId=e,this.database=i||$o}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===$o}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}const av="__type__",uA="__max__",Uo={mapValue:{}},sv="__vector__",Wo="value";function Oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vd(r)?4:cA(r)?9007199254740991:oA(r)?10:11:mt(28295,{value:r})}function _i(r,e){if(r===e)return!0;const i=Oa(r);if(i!==Oa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Na(u.timestampValue),y=Na(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,f){return Ia(u.bytesValue).isEqual(Ia(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,f){return de(u.geoPointValue.latitude)===de(f.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(f.geoPointValue.longitude)})(r,e);case 2:return(function(u,f){if("integerValue"in u&&"integerValue"in f)return de(u.integerValue)===de(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=de(u.doubleValue),y=de(f.doubleValue);return d===y?Jo(d)===Jo(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Er(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(u,f){const d=u.mapValue.fields||{},y=f.mapValue.fields||{};if(Gy(d)!==Gy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!_i(d[v],y[v])))return!1;return!0})(r,e);default:return mt(52216,{left:r})}}function Kl(r,e){return(r.values||[]).find((i=>_i(i,e)))!==void 0}function Tr(r,e){if(r===e)return 0;const i=Oa(r),s=Oa(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=de(f.integerValue||f.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Fy(r.timestampValue,e.timestampValue);case 4:return Fy(Yl(r),Yl(e));case 5:return Ff(r.stringValue,e.stringValue);case 6:return(function(f,d){const y=Ia(f),v=Ia(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Nt(y[_],v[_]);if(A!==0)return A}return Nt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=Nt(de(f.latitude),de(d.latitude));return y!==0?y:Nt(de(f.longitude),de(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Yy(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const y=f.fields||{},v=d.fields||{},_=y[Wo]?.arrayValue,A=v[Wo]?.arrayValue,b=Nt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Yy(_,A)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Uo.mapValue&&d===Uo.mapValue)return 0;if(f===Uo.mapValue)return 1;if(d===Uo.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const x=Ff(v[b],A[b]);if(x!==0)return x;const Y=Tr(y[v[b]],_[A[b]]);if(Y!==0)return Y}return Nt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw mt(23264,{he:i})}}function Fy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=Na(r),s=Na(e),u=Nt(i.seconds,s.seconds);return u!==0?u:Nt(i.nanos,s.nanos)}function Yy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=Tr(i[u],s[u]);if(f)return f}return Nt(i.length,s.length)}function Ar(r){return Yf(r)}function Yf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Na(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ia(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=Yf(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of s)f?f=!1:u+=",",u+=`${d}:${Yf(i.fields[d])}`;return u+"}"})(r.mapValue):mt(61005,{value:r})}function Ho(r){switch(Oa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(r);return e?16+Ho(e):16;case 5:return 2*r.stringValue.length;case 6:return Ia(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,f)=>u+Ho(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return za(s.fields,((f,d)=>{u+=f.length+Ho(d)})),u})(r.mapValue);default:throw mt(13486,{value:r})}}function Xf(r){return!!r&&"integerValue"in r}function Ed(r){return!!r&&"arrayValue"in r}function Xy(r){return!!r&&"nullValue"in r}function Ky(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ko(r){return!!r&&"mapValue"in r}function oA(r){return(r?.mapValue?.fields||{})[av]?.stringValue===sv}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return za(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ql(r.arrayValue.values[i]);return e}return{...r}}function cA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uA}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ko(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(i)}setAll(e){let i=ke.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=ql(d):u.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(e){const i=this.field(e.popLast());ko(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];ko(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){za(i,((u,f)=>e[u]=f));for(const u of s)delete e[u]}clone(){return new ln(ql(this.value))}}function rv(r){const e=[];return za(r.fields,((i,s)=>{const u=new ke([i]);if(ko(s)){const f=rv(s.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)})),new yn(e)}class Xe{constructor(e,i,s,u,f,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),ln.empty(),0)}static newFoundDocument(e,i,s,u){return new Xe(e,1,i,yt.min(),s,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),ln.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tc{constructor(e,i){this.position=e,this.inclusive=i}}function Zy(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const f=e[u],d=r.position[u];if(f.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=Tr(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!_i(r.position[i],e.position[i]))return!1;return!0}class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function hA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class lv{}class Ve extends lv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new dA(e,i,s):i==="array-contains"?new pA(e,s):i==="in"?new yA(e,s):i==="not-in"?new _A(e,s):i==="array-contains-any"?new vA(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new mA(e,s):new gA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Tr(i,this.value)):i!==null&&Oa(this.value)===Oa(i)&&this.matchesComparison(Tr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends lv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new vi(e,i)}matches(e){return uv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uv(r){return r.op==="and"}function ov(r){return fA(r)&&uv(r)}function fA(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function Kf(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Ar(r.value);if(ov(r))return r.filters.map((e=>Kf(e))).join(",");{const e=r.filters.map((i=>Kf(i))).join(",");return`${r.op}(${e})`}}function cv(r,e){return r instanceof Ve?(function(s,u){return u instanceof Ve&&s.op===u.op&&s.field.isEqual(u.field)&&_i(s.value,u.value)})(r,e):r instanceof vi?(function(s,u){return u instanceof vi&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((f,d,y)=>f&&cv(d,u.filters[y])),!0):!1})(r,e):void mt(19439)}function hv(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ar(i.value)}`})(r):r instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(hv).join(" ,")+"}"})(r):"Filter"}class dA extends Ve{constructor(e,i,s){super(e,i,s),this.key=ht.fromName(s.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class mA extends Ve{constructor(e,i){super(e,"in",i),this.keys=fv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gA extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=fv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function fv(r,e){return(e.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class pA extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&Kl(i.arrayValue,this.value)}}class yA extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class _A extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Kl(this.value.arrayValue,i)}}class vA extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Kl(this.value.arrayValue,s)))}}class EA{constructor(e,i=null,s=[],u=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function $y(r,e=null,i=[],s=[],u=null,f=null,d=null){return new EA(r,e,i,s,u,f,d)}function Td(r){const e=vt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Kf(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ar(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ar(s))).join(",")),e.Te=i}return e.Te}function Ad(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!hA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!cv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Jy(r.startAt,e.startAt)&&Jy(r.endAt,e.endAt)}function Zf(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fc{constructor(e,i=null,s=[],u=[],f=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TA(r,e,i,s,u,f,d,y){return new fc(r,e,i,s,u,f,d,y)}function dv(r){return new fc(r)}function Wy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AA(r){return r.collectionGroup!==null}function Pl(r){const e=vt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ne(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new ec(f,s))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new ec(ke.keyField(),s))}return e.Ie}function mi(r){const e=vt(r);return e.Ee||(e.Ee=SA(e,Pl(r))),e.Ee}function SA(r,e){if(r.limitType==="F")return $y(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const f=u.dir==="desc"?"asc":"desc";return new ec(u.field,f)}));const i=r.endAt?new tc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new tc(r.startAt.position,r.startAt.inclusive):null;return $y(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Jf(r,e,i){return new fc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function dc(r,e){return Ad(mi(r),mi(e))&&r.limitType===e.limitType}function mv(r){return`${Td(mi(r))}|lt:${r.limitType}`}function fr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>hv(u))).join(", ")}]`),cc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Ar(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Ar(u))).join(",")),`Target(${s})`})(mi(r))}; limitType=${r.limitType})`}function mc(r,e){return e.isFoundDocument()&&(function(s,u){const f=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ht.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,u){for(const f of Pl(s))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=Zy(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Pl(s),u)||s.endAt&&!(function(d,y,v){const _=Zy(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Pl(s),u))})(r,e)}function bA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gv(r){return(e,i)=>{let s=!1;for(const u of Pl(r)){const f=RA(u,e,i);if(f!==0)return f;s=s||u.field.isKeyField()}return 0}}function RA(r,e,i){const s=r.field.isKeyField()?ht.comparator(e.key,i.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?Tr(v,_):mt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}class vs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,f]of s)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,((i,s)=>{for(const[u,f]of s)e(u,f)}))}isEmpty(){return $_(this.inner)}size(){return this.innerSize}}const CA=new re(ht.comparator);function Hi(){return CA}const pv=new re(ht.comparator);function Ll(...r){let e=pv;for(const i of r)e=e.insert(i.key,i);return e}function yv(r){let e=pv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function gs(){return Hl()}function _v(){return Hl()}function Hl(){return new vs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wA=new re(ht.comparator),DA=new Ne(ht.comparator);function It(...r){let e=DA;for(const i of r)e=e.add(i);return e}const VA=new Ne(Nt);function NA(){return VA}function Sd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function vv(r){return{integerValue:""+r}}function IA(r,e){return iA(e)?vv(e):Sd(r,e)}class gc{constructor(){this._=void 0}}function OA(r,e,i){return r instanceof nc?(function(u,f){const d={fields:{[ev]:{stringValue:tv},[iv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&vd(f)&&(f=hc(f)),f&&(d.fields[nv]=f),{mapValue:d}})(i,e):r instanceof Zl?Tv(r,e):r instanceof Jl?Av(r,e):(function(u,f){const d=Ev(u,f),y=t_(d)+t_(u.Ae);return Xf(d)&&Xf(u.Ae)?vv(y):Sd(u.serializer,y)})(r,e)}function MA(r,e,i){return r instanceof Zl?Tv(r,e):r instanceof Jl?Av(r,e):i}function Ev(r,e){return r instanceof ic?(function(s){return Xf(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class nc extends gc{}class Zl extends gc{constructor(e){super(),this.elements=e}}function Tv(r,e){const i=Sv(e);for(const s of r.elements)i.some((u=>_i(u,s)))||i.push(s);return{arrayValue:{values:i}}}class Jl extends gc{constructor(e){super(),this.elements=e}}function Av(r,e){let i=Sv(e);for(const s of r.elements)i=i.filter((u=>!_i(u,s)));return{arrayValue:{values:i}}}class ic extends gc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function t_(r){return de(r.integerValue||r.doubleValue)}function Sv(r){return Ed(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof Zl&&u instanceof Zl||s instanceof Jl&&u instanceof Jl?Er(s.elements,u.elements,_i):s instanceof ic&&u instanceof ic?_i(s.Ae,u.Ae):s instanceof nc&&u instanceof nc})(r.transform,e.transform)}class zA{constructor(e,i){this.version=e,this.transformResults=i}}class Gn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Go(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pc{}function bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bd(r.key,Gn.none()):new Wl(r.key,r.data,Gn.none());{const i=r.data,s=ln.empty();let u=new Ne(ke.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),u=u.add(f)}return new Ua(r.key,s,new yn(u.toArray()),Gn.none())}}function UA(r,e,i){r instanceof Wl?(function(u,f,d){const y=u.value.clone(),v=n_(u.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ua?(function(u,f,d){if(!Go(u.precondition,f))return void f.convertToUnknownDocument(d.version);const y=n_(u.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Rv(u)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(r,e,i,s){return r instanceof Wl?(function(f,d,y,v){if(!Go(f.precondition,d))return y;const _=f.value.clone(),A=i_(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ua?(function(f,d,y,v){if(!Go(f.precondition,d))return y;const _=i_(f.fieldTransforms,v,d),A=d.data;return A.setAll(Rv(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(f,d,y){return Go(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function LA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),f=Ev(s.transform,u||null);f!=null&&(i===null&&(i=ln.empty()),i.set(s.field,f))}return i||null}function e_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Er(s,u,((f,d)=>xA(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends pc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ua extends pc{constructor(e,i,s,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Rv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function n_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const f=r[u],d=f.transform,y=e.data.field(f.field);s.set(f.field,MA(d,y,i[u]))}return s}function i_(r,e,i){const s=new Map;for(const u of r){const f=u.transform,d=i.data.field(u.field);s.set(u.field,OA(f,d,e))}return s}class bd extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BA extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&UA(f,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=kl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=kl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=_v();return this.mutations.forEach((u=>{const f=e.get(u.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(u.key)?null:y;const v=bv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Er(this.mutations,e.mutations,((i,s)=>e_(i,s)))&&Er(this.baseMutations,e.baseMutations,((i,s)=>e_(i,s)))}}class Rd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return wA})();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,s[d].version);return new Rd(e,i,s,u)}}class qA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Se,zt;function HA(r){switch(r){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function Cv(r){if(r===void 0)return Pi("GRPC error has no .code"),K.UNKNOWN;switch(r){case Se.OK:return K.OK;case Se.CANCELLED:return K.CANCELLED;case Se.UNKNOWN:return K.UNKNOWN;case Se.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Se.INTERNAL:return K.INTERNAL;case Se.UNAVAILABLE:return K.UNAVAILABLE;case Se.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Se.NOT_FOUND:return K.NOT_FOUND;case Se.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Se.ABORTED:return K.ABORTED;case Se.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Se.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:r})}}(zt=Se||(Se={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function kA(){return new TextEncoder}const GA=new Ra([4294967295,4294967295],0);function a_(r){const e=kA().encode(r),i=new P_;return i.update(e),new Uint8Array(i.digest())}function s_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ra([i,s],0),new Ra([u,f],0)]}class Cd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ra.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Ra.fromNumber(s)));return u.compare(GA)===1&&(u=new Ra([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=a_(e),[s,u]=s_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Cd(f,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=a_(e),[s,u]=s_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yc{constructor(e,i,s,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new yc(yt.min(),u,new re(Nt),Hi(),It())}}class tu{constructor(e,i,s,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new tu(s,i,It(),It(),It())}}class Qo{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class wv{constructor(e,i){this.targetId=e,this.Ce=i}}class Dv{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class r_{constructor(){this.ve=0,this.Fe=l_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),s=It();return this.Fe.forEach(((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:mt(38017,{changeType:f})}})),new tu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=l_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=Lo(),this.He=Lo(),this.Ye=new re(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const f=u.target;if(Zf(f))if(s===0){const d=new ht(f.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let d,y;try{d=Ia(s).toUint8Array()}catch(v){if(v instanceof W_)return vr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Cd(d,u,f)}catch(v){return vr(v instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&Zf(y.target)){const v=new ht(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let s=It();this.He.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const u=new yc(e,i,this.Ye,this.je,s);return this.je=Hi(),this.Je=Lo(),this.He=Lo(),this.Ye=new re(Nt),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new r_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ne(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ne(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lo(){return new re(ht.comparator)}function l_(){return new re(ht.comparator)}const FA={asc:"ASCENDING",desc:"DESCENDING"},YA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XA={and:"AND",or:"OR"};class KA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(r,e){return r.useProto3Json||cc(e)?e:{value:e}}function ac(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZA(r,e){return ac(r,e.toTimestamp())}function gi(r){return Ht(!!r,49232),yt.fromTimestamp((function(i){const s=Na(i);return new ee(s.seconds,s.nanos)})(r))}function wd(r,e){return Wf(r,e).canonicalString()}function Wf(r,e){const i=(function(u){return new te(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Nv(r){const e=te.fromString(r);return Ht(zv(e),10190,{key:e.toString()}),e}function td(r,e){return wd(r.databaseId,e.path)}function Uf(r,e){const i=Nv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(Ov(i))}function Iv(r,e){return wd(r.databaseId,e)}function JA(r){const e=Nv(r);return e.length===4?te.emptyPath():Ov(e)}function ed(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ov(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u_(r,e,i){return{name:td(r,e),fields:i.value.mapValue.fields}}function $A(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],f=(function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:Cv(_.code);return new ut(A,_.message||"")})(d);i=new Dv(s,u,f,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Uf(r,s.document.name),f=gi(s.document.updateTime),d=s.document.createTime?gi(s.document.createTime):yt.min(),y=new ln({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(u,f,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Qo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Uf(r,s.document),f=s.readTime?gi(s.readTime):yt.min(),d=Xe.newNoDocument(u,f),y=s.removedTargetIds||[];i=new Qo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Uf(r,s.document),f=s.removedTargetIds||[];i=new Qo([],f,u,null)}else{if(!("filter"in e))return mt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:f}=s,d=new PA(u,f),y=s.targetId;i=new wv(y,d)}}return i}function WA(r,e){let i;if(e instanceof Wl)i={update:u_(r,e.key,e.value)};else if(e instanceof bd)i={delete:td(r,e.key)};else if(e instanceof Ua)i={update:u_(r,e.key,e.data),updateMask:uS(e.fieldMask)};else{if(!(e instanceof BA))return mt(16599,{Vt:e.type});i={verify:td(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const y=d.transform;if(y instanceof nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ic)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,f){return f.updateTime!==void 0?{updateTime:ZA(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:mt(27497)})(r,e.precondition)),i}function tS(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(u,f){let d=u.updateTime?gi(u.updateTime):gi(f);return d.isEqual(yt.min())&&(d=gi(f)),new zA(d,u.transformResults||[])})(i,e)))):[]}function eS(r,e){return{documents:[Iv(r,e.path)]}}function nS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Iv(r,u);const f=(function(_){if(_.length!==0)return xv(vi.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:dr(x.field),direction:sS(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=$f(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function iS(r){let e=JA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ht(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(b){const x=Mv(b);return x instanceof vi&&ov(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(tt){return new ec(mr(tt.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let x;return x=typeof b=="object"?b.value:b,cc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,Y=b.values||[];return new tc(Y,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,Y=b.values||[];return new tc(Y,x)})(i.endAt)),TA(e,u,d,f,y,"F",v,_)}function aS(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Mv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=mr(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=mr(i.unaryFilter.field);return Ve.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=mr(i.unaryFilter.field);return Ve.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mr(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(mr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((s=>Mv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function sS(r){return FA[r]}function rS(r){return YA[r]}function lS(r){return XA[r]}function dr(r){return{fieldPath:r.canonicalString()}}function mr(r){return ke.fromServerFormat(r.fieldPath)}function xv(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(Ky(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NAN"}};if(Xy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ky(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NAN"}};if(Xy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(i.field),op:rS(i.op),value:i.value}}})(r):r instanceof vi?(function(i){const s=i.getFilters().map((u=>xv(u)));return s.length===1?s[0]:{compositeFilter:{op:lS(i.op),filters:s}}})(r):mt(54877,{filter:r})}function uS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function zv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Aa{constructor(e,i,s,u,f=yt.min(),d=yt.min(),y=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oS{constructor(e){this.yt=e}}function cS(r){const e=iS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jf(e,e.limit,"L"):e}class hS{constructor(){this.Cn=new fS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Va.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class fS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ne(te.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ne(te.comparator)).toArray()}}const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uv=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Uv,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class Sr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sr(0)}static cr(){return new Sr(-1)}}const c_="LruGarbageCollector",dS=1048576;function h_([r,e],[i,s]){const u=Nt(r,i);return u===0?Nt(e,s):u}class mS{constructor(e){this.Ir=e,this.buffer=new Ne(h_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(c_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Dr(i)?it(c_,"Ignoring IndexedDB error during garbage collection: ",i):await wr(i)}await this.Vr(3e5)}))}}class pS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(oc.ce);const s=new mS(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(o_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,f,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(f=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),hr()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:b}))))}}function yS(r,e){return new pS(r,e)}class _S{constructor(){this.changes=new vs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class ES{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&kl(s.mutation,u,yn.empty(),ee.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,It()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=It()){const u=gs();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((f=>{let d=Ll();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=gs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,It())))}populateOverlays(e,i,s){const u=[];return s.forEach((f=>{i.has(f)||u.push(f)})),this.documentOverlayCache.getOverlays(e,u).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let f=Hi();const d=Hl(),y=(function(){return Hl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Ua)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),kl(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,yn.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new vS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Hl();let u=new re(((d,y)=>d-y)),f=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||yn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(u.get(y.batchId)||It()).add(v);u=u.insert(y.batchId,b)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=_v();A.forEach((x=>{if(!f.has(x)){const Y=bv(i.get(x),s.get(x));Y!==null&&b.set(x,Y),f=f.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):AA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-f.size):X.resolve(gs());let y=Fl,v=f;return d.next((_=>X.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),f.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,It()))).next((A=>({batchId:y,changes:yv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next((s=>{let u=Ll();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const f=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,f).next((y=>X.forEach(y,(v=>{const _=(function(b,x){return new fc(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,u)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let y=Ll();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&kl(A.mutation,_,yn.empty(),ee.now()),mc(i,_)&&(y=y.insert(v,_))})),y}))}}class TS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:gi(u.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:cS(u.bundledQuery),readTime:gi(u.readTime)}})(i)),X.resolve()}}class AS{constructor(){this.overlays=new re(ht.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=gs();return X.forEach(i,(u=>this.getOverlay(e,u).next((f=>{f!==null&&s.set(u,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,f)=>{this.St(e,i,f)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const u=gs(),f=i.length+1,d=new ht(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let f=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=f.get(_.largestBatchId);A===null&&(A=gs(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=gs(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return X.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new qA(i,s));let f=this.qr.get(i);f===void 0&&(f=It(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}class SS{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Dd{constructor(){this.Qr=new Ne(xe.$r),this.Ur=new Ne(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new xe(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ht(new te([])),s=new xe(i,e),u=new xe(i,e+1),f=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ht(new te([])),s=new xe(i,e),u=new xe(i,e+1);let f=It();return this.Ur.forEachInRange([s,u],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new xe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ht.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ht.comparator(e.key,i.key)}}class bS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(xe.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jA(f,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new xe(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),f=u<0?0:u;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?_d:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),u=new xe(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);f.push(y)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ne(Nt);return i.forEach((u=>{const f=new xe(u,0),d=new xe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(y=>{s=s.add(y.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let f=s;ht.isDocumentKey(f)||(f=f.child(""));const d=new xe(new ht(f),0);let y=new Ne(Nt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(u=>{const f=new xe(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new xe(i,0),u=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RS{constructor(e){this.ri=e,this.docs=(function(){return new re(ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Hi();return i.forEach((u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Xe.newInvalidDocument(u))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let f=Hi();const d=i.path,y=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||W1($1(A),s)<=0||(u.has(A.key)||mc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,i,s,u){mt(9500)}ii(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new CS(this)}getSize(e){return X.resolve(this.size)}}class CS extends _S{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class wS{constructor(e){this.persistence=e,this.si=new vs((i=>Td(i)),Ad),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dd,this.targetCount=0,this.ai=Sr.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Sr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let u=0;const f=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),X.waitFor(f).next((()=>u))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach((d=>{f.push(u.markPotentiallyOrphaned(e,d))})),X.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class Lv{constructor(e,i){this.ui={},this.overlays={},this.ci=new oc(0),this.li=!1,this.li=!0,this.hi=new SS,this.referenceDelegate=e(this),this.Pi=new wS(this),this.indexManager=new hS,this.remoteDocumentCache=(function(u){return new RS(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new oS(i),this.Ii=new TS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new AS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new bS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new DS(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((f=>this.referenceDelegate.di(u).next((()=>f)))).toPromise().then((f=>(u.raiseOnCommittedEvent(),f)))}Ai(e,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class DS extends eA{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Ri=new Dd,this.Vi=null}static mi(e){return new Vd(e)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((f=>this.fi.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const u=ht.fromPath(s);return this.gi(e,u).next((f=>{f||i.removeEntry(u,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sc{constructor(e,i){this.persistence=e,this.pi=new vs((s=>aA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=yS(this,i)}static mi(e,i){return new sc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((s,u)=>this.br(e,s,u).next((f=>f?X.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,f.removeEntry(d,yt.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ho(e.data.value)),i}br(e,i,s){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return X.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=It(),u=It();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Nd(e,i.fromCache,s,u)}}class VS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class NS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AT()?8:nA(ET())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,u,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new VS;return this.Ss(e,i,d).next((y=>{if(f.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>f.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(hr()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",fr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(hr()<=Ut.DEBUG&&it("QueryEngine","Query:",fr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(hr()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",fr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(i))):X.resolve())}ys(e,i){if(Wy(i))return X.resolve(null);let s=mi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=Jf(i,null,"F"),s=mi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=It(...f);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Jf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return Wy(i)||u.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(e,s).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,u)?X.resolve(null):(hr()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fr(i)),this.vs(e,d,i,J1(u,Fl)).next((y=>y)))}))}Ds(e,i){let s=new Ne(gv(e));return i.forEach(((u,f)=>{mc(e,f)&&(s=s.add(f))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ss(e,i,s){return hr()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",fr(i)),this.ps.getDocumentsMatchingQuery(e,i,Va.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}const Id="LocalStore",IS=3e8;class OS{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new re(Nt),this.xs=new vs((f=>Td(f)),Ad),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ES(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function MS(r,e,i,s){return new OS(r,e,i,s)}async function Bv(r,e){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((f=>(u=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],y=[];let v=It();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function xS(r,e){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,x=b.keys();let Y=X.resolve();return x.forEach((tt=>{Y=Y.next((()=>A.getEntry(v,tt))).next((et=>{const Z=_.docVersions.get(tt);Ht(Z!==null,48541),et.version.compareTo(Z)<0&&(b.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),Y.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function jv(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function zS(r,e){const i=vt(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const x=u.get(b);if(!x)return;y.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,b))));let Y=x.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(b)!==null?Y=Y.withResumeToken(Ge.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,s)),u=u.insert(b,Y),(function(et,Z,gt){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=IS?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(x,Y,A)&&y.push(i.Pi.updateTargetData(f,Y))}));let v=Hi(),_=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),y.push(US(f,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((b=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s)));y.push(A)}return X.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=u,f)))}function US(r,e,i){let s=It(),u=It();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Hi();return i.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(Id,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function LS(r,e){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function BS(r,e){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((f=>f?(u=f,X.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new Aa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function nd(r,e,i){const s=vt(r),u=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Dr(d))throw d;it(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function f_(r,e,i){const s=vt(r);let u=yt.min(),f=It();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=vt(v),x=b.xs.get(A);return x!==void 0?X.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(s,d,mi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?f:It()))).next((y=>(jS(s,bA(e),y),{documents:y,Qs:f})))))}function jS(r,e,i){let s=r.Os.get(e)||yt.min();i.forEach(((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Os.set(e,s)}class d_{constructor(){this.activeTargetIds=NA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(){this.Mo=new d_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PS{Oo(e){}shutdown(){}}const m_="ConnectivityMonitor";class g_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(m_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bo=null;function id(){return Bo===null?Bo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bo++,"0x"+Bo.toString(16)}const Lf="RestConnection",HS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===$o?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,f){const d=id(),y=this.zo(e,i.toUriEncodedString());it(Lf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,f);const{host:_}=new URL(y),A=dd(_);return this.Jo(e,y,v,s,A).then((b=>(it(Lf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw vr(Lf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,u,f,d){return this.Go(e,i,s,u,f)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,f)=>e[f]=u)),s&&s.headers.forEach(((u,f)=>e[f]=u))}zo(e,i){const s=HS[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class GS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fe="WebChannelConnection";class QS extends kS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,f){const d=id();return new Promise(((y,v)=>{const _=new H_;_.setWithCredentials(!0),_.listenOnce(k_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Po.NO_ERROR:const b=_.getResponseJson();it(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case Po.TIMEOUT:it(Fe,`RPC '${e}' ${d} timed out`),v(new ut(K.DEADLINE_EXCEEDED,"Request time out"));break;case Po.HTTP_ERROR:const x=_.getStatus();if(it(Fe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y?.error;if(tt&&tt.status&&tt.message){const et=(function(gt){const rt=gt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(rt)>=0?rt:K.UNKNOWN})(tt.status);v(new ut(et,tt.message))}else v(new ut(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(Fe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const u=id(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=F_(),y=Q_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=f.join("");it(Fe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let x=!1,Y=!1;const tt=new GS({Yo:Z=>{Y?it(Fe,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(x||(it(Fe,`Opening RPC '${e}' stream ${u} transport.`),b.open(),x=!0),it(Fe,`RPC '${e}' stream ${u} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),et=(Z,gt,rt)=>{Z.listen(gt,(nt=>{try{rt(nt)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return et(b,Ul.EventType.OPEN,(()=>{Y||(it(Fe,`RPC '${e}' stream ${u} transport opened.`),tt.o_())})),et(b,Ul.EventType.CLOSE,(()=>{Y||(Y=!0,it(Fe,`RPC '${e}' stream ${u} transport closed`),tt.a_(),this.E_(b))})),et(b,Ul.EventType.ERROR,(Z=>{Y||(Y=!0,vr(Fe,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),tt.a_(new ut(K.UNAVAILABLE,"The operation could not be completed")))})),et(b,Ul.EventType.MESSAGE,(Z=>{if(!Y){const gt=Z.data[0];Ht(!!gt,16349);const rt=gt,nt=rt?.error||rt[0]?.error;if(nt){it(Fe,`RPC '${e}' stream ${u} received error:`,nt);const Et=nt.status;let Mt=(function(S){const w=Se[S];if(w!==void 0)return Cv(w)})(Et),Rt=nt.message;Mt===void 0&&(Mt=K.INTERNAL,Rt="Unknown error status: "+Et+" with message "+nt.message),Y=!0,tt.a_(new ut(Mt,Rt)),b.close()}else it(Fe,`RPC '${e}' stream ${u} received:`,gt),tt.u_(gt)}})),et(y,G_.STAT_EVENT,(Z=>{Z.stat===Qf.PROXY?it(Fe,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Qf.NOPROXY&&it(Fe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Bf(){return typeof document<"u"?document:null}function _c(r){return new KA(r,!0)}class qv{constructor(e,i,s=1e3,u=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const p_="PersistentStream";class Pv{constructor(e,i,s,u,f,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new ut(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FS extends Pv{constructor(e,i,s,u,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=$A(this.serializer,e),s=(function(f){if(!("targetChange"in f))return yt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?gi(d.readTime):yt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ed(this.serializer),i.addTarget=(function(f,d){let y;const v=d.target;if(y=Zf(v)?{documents:eS(f,v)}:{query:nS(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Vv(f,d.resumeToken);const _=$f(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=ac(f,d.snapshotVersion.toTimestamp());const _=$f(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=aS(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ed(this.serializer),i.removeTarget=e,this.q_(i)}}class YS extends Pv{constructor(e,i,s,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=tS(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ed(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>WA(this.serializer,s)))};this.q_(i)}}class XS{}class KS extends XS{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,Wf(i,s),u,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(K.UNKNOWN,f.toString())}))}Ho(e,i,s,u,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Wf(i,s),u,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _s="RemoteStore";class JS{constructor(e,i,s,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Es(this)&&(it(_s,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await vc(_)})(this))}))})),this.Ra=new ZS(s,u)}}async function vc(r){if(Es(r))for(const e of r.da)await e(!0)}async function eu(r){for(const e of r.da)await e(!1)}function Hv(r,e){const i=vt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zd(i)?xd(i):Vr(i).O_()&&Md(i,e))}function Od(r,e){const i=vt(r),s=Vr(i);i.Ia.delete(e),s.O_()&&kv(i,e),i.Ia.size===0&&(s.O_()?s.L_():Es(i)&&i.Ra.set("Unknown"))}function Md(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vr(r).Y_(e)}function kv(r,e){r.Va.Ue(e),Vr(r).Z_(e)}function xd(r){r.Va=new QA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Vr(r).start(),r.Ra.ua()}function zd(r){return Es(r)&&!Vr(r).x_()&&r.Ia.size>0}function Es(r){return vt(r).Ea.size===0}function Gv(r){r.Va=void 0}async function $S(r){r.Ra.set("Online")}async function WS(r){r.Ia.forEach(((e,i)=>{Md(r,e)}))}async function t2(r,e){Gv(r),zd(r)?(r.Ra.ha(e),xd(r)):r.Ra.set("Unknown")}async function e2(r,e,i){if(r.Ra.set("Online"),e instanceof Dv&&e.state===2&&e.cause)try{await(async function(u,f){const d=f.cause;for(const y of f.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){it(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rc(r,s)}else if(e instanceof Qo?r.Va.Ze(e):e instanceof wv?r.Va.st(e):r.Va.tt(e),!i.isEqual(yt.min()))try{const s=await jv(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const y=f.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),kv(f,v);const b=new Aa(A.target,v,_,A.sequenceNumber);Md(f,b)})),f.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){it(_s,"Failed to raise snapshot:",s),await rc(r,s)}}async function rc(r,e,i){if(!Dr(e))throw e;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),i||(i=()=>jv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(_s,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vc(r)}))}function Qv(r,e){return e().catch((i=>rc(r,i,e)))}async function Ec(r){const e=vt(r),i=Ma(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_d;for(;n2(e);)try{const u=await LS(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,i2(e,u)}catch(u){await rc(e,u)}Fv(e)&&Yv(e)}function n2(r){return Es(r)&&r.Ta.length<10}function i2(r,e){r.Ta.push(e);const i=Ma(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Fv(r){return Es(r)&&!Ma(r).x_()&&r.Ta.length>0}function Yv(r){Ma(r).start()}async function a2(r){Ma(r).ra()}async function s2(r){const e=Ma(r);for(const i of r.Ta)e.ea(i.mutations)}async function r2(r,e,i){const s=r.Ta.shift(),u=Rd.from(s,e,i);await Qv(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Ec(r)}async function l2(r,e){e&&Ma(r).X_&&await(async function(s,u){if((function(d){return HA(d)&&d!==K.ABORTED})(u.code)){const f=s.Ta.shift();Ma(s).B_(),await Qv(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u))),await Ec(s)}})(r,e),Fv(r)&&Yv(r)}async function y_(r,e){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),it(_s,"RemoteStore received new credentials");const s=Es(i);i.Ea.add(3),await eu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vc(i)}async function u2(r,e){const i=vt(r);e?(i.Ea.delete(2),await vc(i)):e||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Vr(r){return r.ma||(r.ma=(function(i,s,u){const f=vt(i);return f.sa(),new FS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Xo:$S.bind(null,r),t_:WS.bind(null,r),r_:t2.bind(null,r),H_:e2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zd(r)?xd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Gv(r))}))),r.ma}function Ma(r){return r.fa||(r.fa=(function(i,s,u){const f=vt(i);return f.sa(),new YS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:a2.bind(null,r),r_:l2.bind(null,r),ta:s2.bind(null,r),na:r2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ec(r)):(await r.fa.stop(),r.Ta.length>0&&(it(_s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ud{constructor(e,i,s,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,f){const d=Date.now()+s,y=new Ud(e,i,d,u,f);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),Dr(r))return new ut(K.UNAVAILABLE,`${e}: ${r}`);throw r}class pr{static emptySet(e){return new pr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=Ll(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new pr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class __{constructor(){this.ga=new re(ht.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):mt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class br{constructor(e,i,s,u,f,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new br(e,i,pr.emptySet(i),d,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class o2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class c2{constructor(){this.queries=v_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=vt(i),f=u.queries;u.queries=v_(),f.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new ut(K.ABORTED,"Firestore shutting down"))}}function v_(){return new vs((r=>mv(r)),dc)}async function h2(r,e){const i=vt(r);let s=3;const u=e.query;let f=i.queries.get(u);f?!f.ba()&&e.Da()&&(s=2):(f=new o2,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(u,!0);break;case 1:f.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Ld(d,`Initialization of query '${fr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Bd(i)}async function f2(r,e){const i=vt(r),s=e.query;let u=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?u=e.Da()?0:1:!f.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function d2(r,e){const i=vt(r);let s=!1;for(const u of e){const f=u.query,d=i.queries.get(f);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&Bd(i)}function m2(r,e,i){const s=vt(r),u=s.queries.get(e);if(u)for(const f of u.Sa)f.onError(i);s.queries.delete(e)}function Bd(r){r.Ca.forEach((e=>{e.next()}))}var ad,E_;(E_=ad||(ad={})).Ma="default",E_.Cache="cache";class g2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new br(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=br.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ad.Cache}}class Xv{constructor(e){this.key=e}}class Kv{constructor(e){this.key=e}}class p2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=gv(e),this.tu=new pr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new __,u=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,b)=>{const x=u.get(A),Y=mc(this.query,b)?b:null,tt=!!x&&this.mutatedKeys.has(x.key),et=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Z=!1;x&&Y?x.data.isEqual(Y.data)?tt!==et&&(s.track({type:3,doc:Y}),Z=!0):this.su(x,Y)||(s.track({type:2,doc:Y}),Z=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(y=!0)):!x&&Y?(s.track({type:0,doc:Y}),Z=!0):x&&!Y&&(s.track({type:1,doc:x}),Z=!0,(v||_)&&(y=!0)),Z&&(Y?(d=d.add(Y),f=et?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(Y,tt){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return et(Y)-et(tt)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new br(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Kv(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Xv(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return br.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jd="SyncEngine";class y2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class _2{constructor(e){this.key=e,this.hu=!1}}class v2{constructor(e,i,s,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new vs((y=>mv(y)),dc),this.Iu=new Map,this.Eu=new Set,this.du=new re(ht.comparator),this.Au=new Map,this.Ru=new Dd,this.Vu={},this.mu=new Map,this.fu=Sr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E2(r,e,i=!0){const s=eE(r);let u;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.lu()):u=await Zv(s,e,i,!0),u}async function T2(r,e){const i=eE(r);await Zv(i,e,!0,!1)}async function Zv(r,e,i,s){const u=await BS(r.localStore,mi(e)),f=u.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let y;return s&&(y=await A2(r,e,f,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&Hv(r.remoteStore,u),y}async function A2(r,e,i,s,u){r.pu=(b,x,Y)=>(async function(et,Z,gt,rt){let nt=Z.view.ru(gt);nt.Cs&&(nt=await f_(et.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,nt))));const Et=rt&&rt.targetChanges.get(Z.targetId),Mt=rt&&rt.targetMismatches.get(Z.targetId)!=null,Rt=Z.view.applyChanges(nt,et.isPrimaryClient,Et,Mt);return A_(et,Z.targetId,Rt.au),Rt.snapshot})(r,b,x,Y);const f=await f_(r.localStore,e,!0),d=new p2(e,f.Qs),y=d.ru(f.documents),v=tu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);A_(r,i,_.au);const A=new y2(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function S2(r,e,i){const s=vt(r),u=s.Tu.get(e),f=s.Iu.get(u.targetId);if(f.length>1)return s.Iu.set(u.targetId,f.filter((d=>!dc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await nd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Od(s.remoteStore,u.targetId),sd(s,u.targetId)})).catch(wr)):(sd(s,u.targetId),await nd(s.localStore,u.targetId,!0))}async function b2(r,e){const i=vt(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Od(i.remoteStore,s.targetId))}async function R2(r,e,i){const s=O2(r);try{const u=await(function(d,y){const v=vt(d),_=ee.now(),A=y.reduce(((Y,tt)=>Y.add(tt.key)),It());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let tt=Hi(),et=It();return v.Ns.getEntries(Y,A).next((Z=>{tt=Z,tt.forEach(((gt,rt)=>{rt.isValidDocument()||(et=et.add(gt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,tt))).next((Z=>{b=Z;const gt=[];for(const rt of y){const nt=LA(rt,b.get(rt.key).overlayedDocument);nt!=null&&gt.push(new Ua(rt.key,nt,rv(nt.value.mapValue),Gn.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,gt,y)})).next((Z=>{x=Z;const gt=Z.applyToLocalDocumentSet(b,et);return v.documentOverlayCache.saveOverlays(Y,Z.batchId,gt)}))})).then((()=>({batchId:x.batchId,changes:yv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Nt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await nu(s,u.changes),await Ec(s.remoteStore)}catch(u){const f=Ld(u,"Failed to persist write");i.reject(f)}}async function Jv(r,e){const i=vt(r);try{const s=await zS(i.localStore,e);e.targetChanges.forEach(((u,f)=>{const d=i.Au.get(f);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Ht(d.hu,14607):u.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await nu(i,s,e)}catch(s){await wr(s)}}function T_(r,e,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(y)&&(_=!0)})),_&&Bd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C2(r,e,i){const s=vt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),f=u&&u.key;if(f){let d=new re(ht.comparator);d=d.insert(f,Xe.newNoDocument(f,yt.min()));const y=It().add(f),v=new yc(yt.min(),new Map,new re(Nt),d,y);await Jv(s,v),s.du=s.du.remove(f),s.Au.delete(e),qd(s)}else await nd(s.localStore,e,!1).then((()=>sd(s,e,i))).catch(wr)}async function w2(r,e){const i=vt(r),s=e.batch.batchId;try{const u=await xS(i.localStore,e);Wv(i,s,null),$v(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await nu(i,u)}catch(u){await wr(u)}}async function D2(r,e,i){const s=vt(r);try{const u=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Ht(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);Wv(s,e,i),$v(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await nu(s,u)}catch(u){await wr(u)}}function $v(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Wv(r,e,i){const s=vt(r);let u=s.Vu[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function sd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||tE(r,s)}))}function tE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Od(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),qd(r))}function A_(r,e,i){for(const s of i)s instanceof Xv?(r.Ru.addReference(s.key,e),V2(r,s)):s instanceof Kv?(it(jd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||tE(r,s.key)):mt(19791,{wu:s})}function V2(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(jd,"New document in limbo: "+i),r.Eu.add(s),qd(r))}function qd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ht(te.fromString(e)),s=r.fu.next();r.Au.set(s,new _2(i)),r.du=r.du.insert(i,s),Hv(r.remoteStore,new Aa(mi(dv(i.path)),s,"TargetPurposeLimboResolution",oc.ce))}}async function nu(r,e,i){const s=vt(r),u=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Nd.As(v.targetId,_);f.push(A)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(_,(x=>X.forEach(x.Es,(Y=>A.persistence.referenceDelegate.addReference(b,x.targetId,Y))).next((()=>X.forEach(x.ds,(Y=>A.persistence.referenceDelegate.removeReference(b,x.targetId,Y)))))))))}catch(b){if(!Dr(b))throw b;it(Id,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const Y=A.Ms.get(x),tt=Y.snapshotVersion,et=Y.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(x,et)}}})(s.localStore,f))}async function N2(r,e){const i=vt(r);if(!i.currentUser.isEqual(e)){it(jd,"User change. New user:",e.toKey());const s=await Bv(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new ut(K.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nu(i,s.Ls)}}function I2(r,e){const i=vt(r),s=i.Au.get(e);if(s&&s.hu)return It().add(s.key);{let u=It();const f=i.Iu.get(e);if(!f)return u;for(const d of f){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function eE(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.Pu.H_=d2.bind(null,e.eventManager),e.Pu.yu=m2.bind(null,e.eventManager),e}function O2(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D2.bind(null,e),e}class lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return MS(this.persistence,new NS,e.initialUser,this.serializer)}Cu(e){return new Lv(Vd.mi,this.serializer)}Du(e){return new qS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lc.provider={build:()=>new lc};class M2 extends lc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof sc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Lv((s=>sc.mi(s,i)),this.serializer)}}class rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=N2.bind(null,this.syncEngine),await u2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c2})()}createDatastore(e){const i=_c(e.databaseInfo.databaseId),s=(function(f){return new QS(f)})(e.databaseInfo);return(function(f,d,y,v){return new KS(f,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,f,d,y){return new JS(s,u,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>T_(this.syncEngine,i,0)),(function(){return g_.v()?new g_:new PS})())}createSyncEngine(e,i){return(function(u,f,d,y,v,_,A){const b=new v2(u,f,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=vt(i);it(_s,"RemoteStore shutting down."),s.Ea.add(5),await eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rd.provider={build:()=>new rd};class x2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const xa="FirestoreClient";class z2{constructor(e,i,s,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{it(xa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(xa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ld(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jf(r,e){r.asyncQueue.verifyOperationInProgress(),it(xa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await Bv(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function S_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await U2(r);it(xa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>y_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>y_(e.remoteStore,u))),r._onlineComponents=e}async function U2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(xa,"Using user provided OfflineComponentProvider");try{await jf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;vr("Error using user provided cache. Falling back to memory cache: "+i),await jf(r,new lc)}}else it(xa,"Using default OfflineComponentProvider"),await jf(r,new M2(void 0));return r._offlineComponents}async function nE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(xa,"Using user provided OnlineComponentProvider"),await S_(r,r._uninitializedComponentsProvider._online)):(it(xa,"Using default OnlineComponentProvider"),await S_(r,new rd))),r._onlineComponents}function L2(r){return nE(r).then((e=>e.syncEngine))}async function B2(r){const e=await nE(r),i=e.eventManager;return i.onListen=E2.bind(null,e.syncEngine),i.onUnlisten=S2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=T2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=b2.bind(null,e.syncEngine),i}function j2(r,e,i={}){const s=new Ca;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,y,v,_){const A=new x2({next:x=>{A.Nu(),d.enqueueAndForget((()=>f2(f,b))),x.fromCache&&v.source==="server"?_.reject(new ut(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new g2(y,A,{includeMetadataChanges:!0,qa:!0});return h2(f,b)})(await B2(r),r.asyncQueue,e,i,s))),s.promise}function iE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const b_=new Map;const aE="firestore.googleapis.com",R_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aE,this.ssl=R_}else this.host=e.host,this.ssl=e.ssl??R_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dS)throw new ut(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new q1;switch(s.type){case"firstParty":return new G1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=b_.get(i);s&&(it("ComponentProvider","Removing Datastore"),b_.delete(i),s.terminate())})(this),Promise.resolve()}}function q2(r,e,i,s={}){r=ys(r,Tc);const u=dd(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(gT(`https://${y}`),vT("Firestore",!0)),f.host!==aE&&f.host!==y&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:u,emulatorOptions:s};if(!Xo(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ye.MOCK_USER;else{_=pT(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ut(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(b)}r._authCredentials=new P1(new X_(_,A))}}class Ac{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class ze{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if($l(i,ze._jsonSchema))return new ze(e,s||null,new ht(te.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:be("string",ze._jsonSchemaVersion),referencePath:be("string")};class wa extends Ac{constructor(e,i,s){super(e,i,dv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new ht(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function w_(r,e,...i){if(r=Da(r),K_("collection","path",e),r instanceof Tc){const s=te.fromString(e,...i);return qy(s),new wa(r,null,s)}{if(!(r instanceof ze||r instanceof wa))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return qy(s),new wa(r.firestore,null,s)}}function ld(r,e,...i){if(r=Da(r),arguments.length===1&&(e=pd.newId()),K_("doc","path",e),r instanceof Tc){const s=te.fromString(e,...i);return jy(s),new ze(r,null,new ht(s))}{if(!(r instanceof ze||r instanceof wa))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return jy(s),new ze(r.firestore,r instanceof wa?r.converter:null,new ht(s))}}const D_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qv(this,"async_queue_retry"),this._c=()=>{const s=Bf();s&&it(D_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dr(e))throw e;it(D_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",N_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Ud.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(u),u}uc(){this.nc&&mt(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function N_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class iu extends Tc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new V_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function P2(r,e){const i=typeof r=="object"?r:V1(),s=typeof r=="string"?r:$o,u=b1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=dT("firestore");f&&q2(u,...f)}return u}function sE(r){if(r._terminated)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||H2(r),r._firestoreClient}function H2(r){const e=r._freezeSettings(),i=(function(u,f,d,y){return new lA(u,f,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,iE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new z2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(r._componentsProvider))}class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Ge.fromBase64String(e))}catch(i){throw new ut(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:be("string",In._jsonSchemaVersion),bytes:be("string")};class Sc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pd{constructor(e){this._methodName=e}}class pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if($l(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:be("string",pi._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};class yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new yi(e.vectorValues);throw new ut(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:be("string",yi._jsonSchemaVersion),vectorValues:be("object")};const k2=/^__.*__$/;class G2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class rE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function lE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class Hd{constructor(e,i,s,u,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lE(this.Ac)&&k2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||_c(e)}Cc(e,i,s,u=!1){return new Hd({Ac:e,methodName:i,Dc:s,path:ke.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(r){const e=r._freezeSettings(),i=_c(r._databaseId);return new Q2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function F2(r,e,i,s,u,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,u);kd("Data must be an object, but it was:",d,s);const y=oE(s,d);let v,_;if(f.merge)v=new yn(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const b of f.mergeFields){const x=ud(e,b,i);if(!d.contains(x))throw new ut(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);hE(A,x)||A.push(x)}v=new yn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new G2(new ln(y),v,_)}class bc extends Pd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bc}}function Y2(r,e,i,s){const u=r.Cc(1,e,i);kd("Data must be an object, but it was:",u,s);const f=[],d=ln.empty();za(s,((v,_)=>{const A=Gd(e,v,i);_=Da(_);const b=u.yc(A);if(_ instanceof bc)f.push(A);else{const x=Rc(_,b);x!=null&&(f.push(A),d.set(A,x))}}));const y=new yn(f);return new rE(d,y,u.fieldTransforms)}function X2(r,e,i,s,u,f){const d=r.Cc(1,e,i),y=[ud(e,s,i)],v=[u];if(f.length%2!=0)throw new ut(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<f.length;x+=2)y.push(ud(e,f[x])),v.push(f[x+1]);const _=[],A=ln.empty();for(let x=y.length-1;x>=0;--x)if(!hE(_,y[x])){const Y=y[x];let tt=v[x];tt=Da(tt);const et=d.yc(Y);if(tt instanceof bc)_.push(Y);else{const Z=Rc(tt,et);Z!=null&&(_.push(Y),A.set(Y,Z))}}const b=new yn(_);return new rE(A,b,d.fieldTransforms)}function Rc(r,e){if(cE(r=Da(r)))return kd("Unsupported field value:",e,r),oE(r,e);if(r instanceof Pd)return(function(s,u){if(!lE(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const f=[];let d=0;for(const y of s){let v=Rc(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,u){if((s=Da(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=ee.fromDate(s);return{timestampValue:ac(u.serializer,f)}}if(s instanceof ee){const f=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ac(u.serializer,f)}}if(s instanceof pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:Vv(u.serializer,s._byteString)};if(s instanceof ze){const f=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:wd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof yi)return(function(d,y){return{mapValue:{fields:{[av]:{stringValue:sv},[Wo]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Sd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${yd(s)}`)})(r,e)}function oE(r,e){const i={};return $_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(r,((s,u)=>{const f=Rc(u,e.mc(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function cE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof pi||r instanceof In||r instanceof ze||r instanceof Pd||r instanceof yi)}function kd(r,e,i){if(!cE(i)||!Z_(i)){const s=yd(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ud(r,e,i){if((e=Da(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return Gd(r,e);throw uc("Field path arguments must be of type string or ",r,!1,void 0,i)}const K2=new RegExp("[~\\*/\\[\\]]");function Gd(r,e,i){if(e.search(K2)>=0)throw uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Sc(...e.split("."))._internalPath}catch{throw uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uc(r,e,i,s,u){const f=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new ut(K.INVALID_ARGUMENT,y+r+v)}function hE(r,e){return r.some((i=>i.isEqual(e)))}class fE{constructor(e,i,s,u,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(dE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Z2 extends fE{data(){return super.data()}}function dE(r,e){return typeof e=="string"?Gd(r,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}function J2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $2{convertValue(e,i="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return za(e,((u,f)=>{s[u]=this.convertValue(f,i)})),s}convertVectorValue(e){const i=e.fields?.[Wo].arrayValue?.values?.map((s=>de(s.doubleValue)));return new yi(i)}convertGeoPoint(e){return new pi(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=Na(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);Ht(zv(s),9688,{name:e});const u=new Xl(s.get(1),s.get(3)),f=new ht(s.popFirst(5));return u.isEqual(i)||Pi(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function W2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class jo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yr extends fE{constructor(e,i,s,u,f,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(dE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",yr._jsonSchema={type:be("string",yr._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Fo extends yr{data(e={}){return super.data(e)}}class _r{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new jo(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Fo(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Fo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new jo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new Fo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new jo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:tb(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_r._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}_r._jsonSchemaVersion="firestore/querySnapshot/1.0",_r._jsonSchema={type:be("string",_r._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class eb extends $2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function nb(r){r=ys(r,Ac);const e=ys(r.firestore,iu),i=sE(e),s=new eb(e);return J2(r._query),j2(i,r._query).then((u=>new _r(e,s,r,u)))}function ib(r,e,i,...s){r=ys(r,ze);const u=ys(r.firestore,iu),f=uE(u);let d;return d=typeof(e=Da(e))=="string"||e instanceof Sc?X2(f,"updateDoc",r._key,e,i,s):Y2(f,"updateDoc",r._key,e),Qd(u,[d.toMutation(r._key,Gn.exists(!0))])}function ab(r){return Qd(ys(r.firestore,iu),[new bd(r._key,Gn.none())])}function sb(r,e){const i=ys(r.firestore,iu),s=ld(r),u=W2(r.converter,e);return Qd(i,[F2(uE(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function Qd(r,e){return(function(s,u){const f=new Ca;return s.asyncQueue.enqueueAndForget((async()=>R2(await L2(s),u,f))),f.promise})(sE(r),e)}(function(e,i=!0){(function(u){Cr=u})(D1),Zo(new Gl("firestore",((s,{instanceIdentifier:u,options:f})=>{const d=s.getProvider("app").getImmediate(),y=new iu(new H1(s.getProvider("auth-internal")),new Q1(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(_.options.projectId,A)})(d,u),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),gr(zy,Uy,e),gr(zy,Uy,"esm2020")})();var rb="firebase",lb="12.6.0";gr(rb,lb,"app");const ub={apiKey:"AIzaSyB7o546NGglFSjtUFbKzVdd1T_tXWfGPj8",authDomain:"animadex-2f979.firebaseapp.com",projectId:"animadex-2f979",storageBucket:"animadex-2f979.firebasestorage.app",messagingSenderId:"577072322198",appId:"1:577072322198:web:4b922cb45a849f13add4b7"},ob=B_(ub),qo=P2(ob);function cb(){const[r,e]=ji.useState([]),[i,s]=ji.useState(""),[u,f]=ji.useState(""),[d,y]=ji.useState(""),[v,_]=ji.useState(!1),[A,b]=ji.useState(null);ji.useEffect(()=>{async function rt(){try{const nt=await nb(w_(qo,"entries"));if(nt.empty)e(Ay);else{const Et=nt.docs.map(Mt=>({id:Mt.id,...Mt.data()}));e(Et)}}catch(nt){console.error("Error loading entries:",nt),e(Ay)}}rt()},[]);function x(){b({id:null,image:"",english:"",french:"",japanese:"",category:"bird",locations:[],capture:"photo",date:new Date().toISOString().slice(0,10),notes:""}),_(!0)}function Y(rt){b({...rt}),_(!0)}async function tt(rt){if(confirm("Delete?"))try{await ab(ld(qo,"entries",rt)),e(nt=>nt.filter(Et=>Et.id!==rt))}catch(nt){console.error("Failed to delete:",nt)}}function et(rt){if(!rt)return;const nt=new FileReader;nt.onload=()=>b(Et=>({...Et,image:nt.result})),nt.readAsDataURL(rt)}async function Z(rt){rt.preventDefault();const nt={...A};try{if(nt.id){const Et=ld(qo,"entries",nt.id);await ib(Et,nt),e(Mt=>Mt.map(Rt=>Rt.id===nt.id?nt:Rt))}else{const Et=await sb(w_(qo,"entries"),nt);nt.id=Et.id,e(Mt=>[nt,...Mt])}_(!1),b(null)}catch(Et){console.error("Failed to save entry:",Et)}}const gt=r.filter(rt=>{const nt=i.toLowerCase(),Et=!i||[rt.english,rt.french,rt.japanese,...rt.locations||[]].join(" ").toLowerCase().includes(nt),Mt=!u||rt.category===u,Rt=!d||rt.capture===d;return Et&&Mt&&Rt});return ft.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:ft.jsxs("div",{className:"max-w-6xl mx-auto",children:[ft.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Landre's Animadex (Asia)"}),ft.jsx(tT,{query:i,setQuery:s,categoryFilter:u,setCategoryFilter:f,captureFilter:d,setCaptureFilter:y,openAddForm:x}),ft.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:gt.map(rt=>ft.jsx(eT,{entry:rt,onEdit:Y,onDelete:tt},rt.id))}),v&&ft.jsx(nT,{editing:A,setEditing:b,onSubmit:Z,onCancel:()=>{_(!1),b(null)},handleImageUpload:et}),ft.jsx("footer",{className:"mt-8 text-sm text-gray-500",children:"Tip: use this project to practice git  create a branch, add a new feature, open a pull request on GitHub."})]})})}W0.createRoot(document.getElementById("root")).render(ft.jsx(ji.StrictMode,{children:ft.jsx(cb,{})}));
